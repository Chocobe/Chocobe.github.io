1:HL["/_next/static/media/0c7e3e2387401c47-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
2:HL["/_next/static/css/6566b64e7f0e478f.css","style",{"crossOrigin":""}]
0:["6rRi4gyJWW1lEIwhXfR43",[[["",{"children":["__PAGE__",{}]},"$undefined","$undefined",true],"$L3",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/6566b64e7f0e478f.css","precedence":"next","crossOrigin":""}]],"$L4"]]]]
5:I[9248,["576","static/chunks/576-dc377cf448834f03.js","251","static/chunks/251-ef7560cc4f7a9f6d.js","185","static/chunks/app/layout-5bdea2f994faa404.js"],""]
6:I[179,["576","static/chunks/576-dc377cf448834f03.js","251","static/chunks/251-ef7560cc4f7a9f6d.js","185","static/chunks/app/layout-5bdea2f994faa404.js"],""]
7:I[6962,["576","static/chunks/576-dc377cf448834f03.js","251","static/chunks/251-ef7560cc4f7a9f6d.js","185","static/chunks/app/layout-5bdea2f994faa404.js"],""]
8:I[6954,[],""]
9:I[7264,[],""]
3:[null,["$","html",null,{"lang":"ko","children":["$","body",null,{"className":"__className_7bb6ba","children":["$","div",null,{"className":"w-full\n            h-full\n            overflow-y-scroll\n            overflow-x-auto","children":["$","$L5",null,{"children":[["$","$L6",null,{}],["$","$L7",null,{"style":{"minHeight":"calc(100% - 72px)"},"children":["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"childProp":{"current":["$La","$Lb",null],"segment":"__PAGE__"},"styles":null}]}]]}]}]}]}],null]
4:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Chocobe Blog v2"}],["$","meta","3",{"name":"description","content":"Frontend ê¸°ìˆ  ë¸”ë¡œê·¸ ì…ë‹ˆë‹¤."}],["$","link","4",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"16x16"}],["$","meta","5",{"name":"next-size-adjust"}]]
a:null
c:I[463,["281","static/chunks/08ffe114-a8e3ed06beefbf38.js","465","static/chunks/48507feb-6de01ca04009bb96.js","306","static/chunks/39209d7c-a33d4549f726b4ab.js","576","static/chunks/576-dc377cf448834f03.js","251","static/chunks/251-ef7560cc4f7a9f6d.js","128","static/chunks/128-a9a4b8134fdbdc1d.js","931","static/chunks/app/page-2a9b84f80b166504.js"],""]
d:T162a,---
id: 1
title: '"node:fs" í…ŒìŠ¤íŠ¸ í•˜ê¸°'
description: 'node ëª¨ë“ˆì¤‘ File System ê¸°ëŠ¥, "fs" ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì •ë¦¬í•©ë‹ˆë‹¤.'
thumbnail: https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg

featured: true
tags: [
    'mock-fs',
    'fs',
    'node:fs',
    'jest',
    '@testing-library',
    'ìœ ë‹› í…ŒìŠ¤íŠ¸',
]

createdAt: '2023-12-17 15:33:00'
modifiedHistories: []
---


# "node:fs" í…ŒìŠ¤íŠ¸ í•˜ê¸°

Nextjs ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ì„œ SSG(static site generators) ì™€ SSR(server side rendering) ì„ ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

ë•ë¶„ì— CSR(client side rendering) ì˜ ë‹¨ì ì¸ SEO ë¥¼ í•´ì†Œí•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

SSG(static site generators) ì™€ SSR(server side rendering) ì„ ì‚¬ìš©í•˜ê²Œ ë˜ë©´, **node** ëª¨ë“ˆë“¤ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ë²ˆ í¬ìŠ¤íŒ…ì€ **node:fs** ë¥¼ ì‚¬ìš©í•˜ëŠ” ì½”ë“œì˜ ìœ ë‹› í…ŒìŠ¤íŠ¸ ë°©ë²•ì— ëŒ€í•´ ì •ë¦¬í•©ë‹ˆë‹¤.



<br />



## Jest ì—ì„œ ì•ˆë‚´í•˜ëŠ” built-in modules í…ŒìŠ¤íŠ¸

* ì°¸ê³ : [[Jest ê³µì‹ë¬¸ì„œ] Mocking Node modules](https://jestjs.io/docs/manual-mocks#mocking-node-modules)

<br />

Jest ê³µì‹ë¬¸ì„œì— ì˜í•˜ë©´, built-in modules ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ ëª‡ê°€ì§€ ì‚¬ì „ì¤€ë¹„ê°€ í•„ìš”í•©ë‹ˆë‹¤.

1. **node_modules** ì™€ ì¸ì ‘í•œ ê²½ë¡œì— **__mocks__** í´ë” ë§Œë“¤ê¸°
2. í…ŒìŠ¤íŠ¸í•  built-in module ê³¼ ë™ì¼í•œ ì´ë¦„ì˜ íŒŒì¼(**fs.js**) ì„ **__mocks__** í•˜ìœ„ì— ë§Œë“¤ê¸°
3. **fs.js** íŒŒì¼ êµ¬í˜„í•˜ê¸°
    1. `jest.createMockFromModule('fs')` ë¥¼ í˜¸ì¶œí•˜ì—¬ mock ì ìš©í•˜ê¸°
    2. `fs` ì˜ ë©”ì‹œë“œ ì¤‘, í…ŒìŠ¤íŠ¸ ëŒ€ìƒì´ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ë©”ì„œë“œì— mock êµ¬í˜„
4. ìœ ë‹› í…ŒìŠ¤íŠ¸ íŒŒì¼ì—ì„œ `jest.mock('fs')` ë¡œ mock ì ìš©í•˜ê¸°

<br />

ìœ„ ê³¼ì •ì„ ëª¨ë‘ êµ¬í˜„í•  ìˆ˜ë„ ìˆì§€ë§Œ, ì¢€ ë” í¸ë¦¬í•œ ë°©ë²•ì„ ì°¾ì•„ë³¸ ê²°ê³¼ **mock-fs** ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì°¾ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

**mock-fs** ëŠ” Jest ì—ì„œ ì•ˆë‚´í•˜ëŠ” "node:fs" í…ŒìŠ¤íŠ¸ ì¤€ë¹„ ê³¼ì •ì„ ì œê³µí•©ë‹ˆë‹¤.



<br />



## **mock-fs** ì„¤ì¹˜í•˜ê¸°

ë§Œì•½ **Typescript** ë¥¼ ì‚¬ìš©í•œë‹¤ë©´, **@types/mock-fs** ëª¨ë“ˆë„ í•¨ê»˜ ì„¤ì¹˜í•©ë‹ˆë‹¤.

```bash title="Javascript ì‚¬ìš© ì‹œ" 
yarn add -D mock-fs
```

```bash title="Typescript ì‚¬ìš© ì‹œ"
yarn add -D mock-fs @types/mock-fs
```



<br />



## **node:fs** í…ŒìŠ¤í¬ ì½”ë“œ ì‘ì„±í•˜ê¸°

* ì°¸ê³ : [mock-fs ê³µì‹ ë¬¸ì„œ](https://github.com/tschaub/mock-fs?tab=readme-ov-file#mock-fs)
* ì°¸ê³ : [[ì§€ë‚˜ê°€ë˜ ê°œë°œì]jestì™€ mock-fsë¡œ fs ìœ ë‹› í…ŒìŠ¤íŠ¸í•˜ê¸°](https://znagadeon.dev/post/test-fs/index.html)

<br />

**mock-fs** ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ì•„ë˜ì˜ 2ê°€ì§€ ì‘ì—…ì´ í•„ìš”í•©ë‹ˆë‹¤.

* `jest.beforeEach()`: **mock-fs** ë¥¼ ì‚¬ìš©í•œ file system mockup
* `jest.afterEach()`: **mock-fs** í•´ì œ

<br />

ë¨¼ì € í…ŒìŠ¤íŠ¸ ì¤€ë¹„ë¥¼ ìœ„í•œ mockup ì„ êµ¬í˜„í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```typescript showLineNumbers
import mock from 'mock-fs';

describe('mock-fs ë¥¼ ì‚¬ìš©í•œ "node:fs" í…ŒìŠ¤íŠ¸', () => {
    beforeEach(() => {
        mock({
            'ê²½ë¡œ1': {
                'í•˜ìœ„_ê²½ë¡œ1': {
                    'íŒŒì¼_1.mdx': 'íŒŒì¼ ë‚´ìš© mockup',
                    'íŒŒì¼_2.mdx': 'íŒŒì¼ ë‚´ìš© mockup',
                },
            },
            'ê²½ë¡œ2/ê²½ë¡œ3': {
                'í•˜ìœ„_ê²½ë¡œ2': {
                    // ë¹ˆ í´ë”
                },
            },
        });
    });
});
```

<br />

ì´ì œ **node:fs** ëŠ” mockup ì—ì„œ ì •ì˜í•œ mock file system ì„ ì‚¬ìš©í•˜ê²Œ ë©ë‹ˆë‹¤.

```typescript {22} showLineNumbers
import fs from 'node:fs/promises';
import mock from 'mock-fs';

describe('mock-fs ë¥¼ ì‚¬ìš©í•œ "node:fs" í…ŒìŠ¤íŠ¸', () => {
    beforeEach(() => {
        mock({
            'ê²½ë¡œ1': {
                'í•˜ìœ„_ê²½ë¡œ1': {
                    'íŒŒì¼_1.mdx': 'íŒŒì¼ ë‚´ìš© mockup',
                    'íŒŒì¼_2.mdx': 'íŒŒì¼ ë‚´ìš© mockup',
                },
            },
            'ê²½ë¡œ2/ê²½ë¡œ3': {
                'í•˜ìœ„_ê²½ë¡œ2': {
                    // ë¹ˆ í´ë”
                },
            },
        });
    });

    it('"node:fs" ë¥¼ ì‚¬ìš©í•˜ì—¬ íŒŒì¼ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.', async () => {
        const fileNameList = await fs.readdir('ê²½ë¡œ1/í•˜ìœ„_ê²½ë¡œ1');

        expect(fileNameList).toEqual([
            'íŒŒì¼_1.mdx',
            'íŒŒì¼_2.mdx',
        ]);
    });
});
```

<br />

ë§ˆì§€ë§‰ìœ¼ë¡œ **mock-fs** ë¥¼ í•´ì œí•  ìˆ˜ ìˆë„ë¡ `jest.afterEach()` ë¥¼ ì‘ì„±í•˜ë©´ "node:fs" ìœ ë‹› í…ŒìŠ¤íŠ¸ëŠ” ì‘ì„±ì™„ë£Œ ë©ë‹ˆë‹¤.

```typescript {21} showLineNumbers
import fs from 'node:fs/promises';
import mock from 'mock-fs';

describe('mock-fs ë¥¼ ì‚¬ìš©í•œ "node:fs" í…ŒìŠ¤íŠ¸', () => {
    beforeEach(() => {
        mock({
            'ê²½ë¡œ1': {
                'í•˜ìœ„_ê²½ë¡œ1': {
                    'íŒŒì¼_1.mdx': 'íŒŒì¼ ë‚´ìš© mockup',
                    'íŒŒì¼_2.mdx': 'íŒŒì¼ ë‚´ìš© mockup',
                },
            },
            'ê²½ë¡œ2/ê²½ë¡œ3': {
                'í•˜ìœ„_ê²½ë¡œ2': {
                    // ë¹ˆ í´ë”
                },
            },
        });
    });

    afterEach(mock.restore);

    it('"node:fs" ë¥¼ ì‚¬ìš©í•˜ì—¬ íŒŒì¼ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.', async () => {
        const fileNameList = await fs.readdir('ê²½ë¡œ1/í•˜ìœ„_ê²½ë¡œ1');

        expect(fileNameList).toEqual([
            'íŒŒì¼_1.mdx',
            'íŒŒì¼_2.mdx',
        ]);
    });
});
```



<br />



## ë§ˆì¹˜ë©°

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” built-in modules ì¤‘ "fs" ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì •ë¦¬í•´ ë³´ì•˜ìŠµë‹ˆë‹¤.

"fs" ê°€ ì•„ë‹Œ ë‹¤ë¥¸ module ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ í•œë‹¤ë©´, ê²°êµ­ì€ Jest ê³µì‹ë¬¸ì„œì—ì„œ ì•ˆë‚´í•˜ëŠ” mockup ë°©ë²•ë„ ì‚¬ìš©í•´ ë³´ì•„ì•¼ í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.
e:T5076,---
id: 1
title: Three.js ì„¤ì¹˜ ë° ì‹¤í–‰
description: 'Three.js ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì„¤ì¹˜ì™€ ì²«ë²ˆì§¸ í™”ë©´ì„ ê·¸ë ¤ë´…ë‹ˆë‹¤.'
thumbnail: https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg

featured: true
tags: [
    'threejs',
    'javascript',
    '3d',
]

createdAt: '2023-12-31 22:47:00'
modifiedHistories: []
---

# Three.js ì„¤ì¹˜ ë° ì‹¤í–‰

ì¼ë°˜ì ì¸ ì›¹í˜ì´ì§€ëŠ” 2D ê¸°ë°˜ìœ¼ë¡œ êµ¬í˜„í•©ë‹ˆë‹¤.

ì´ëŸ¬í•œ ì›¹í˜ì´ì§€ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ê±°ë‚˜ ì •ë³´ ê³µìœ ë¥¼ ëª©ì ìœ¼ë¡œ ì¶©ë¶„í•©ë‹ˆë‹¤.

ë§Œì•½ ì´ë ‡ê²Œ ë³´í¸ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” 2D ì›¹í˜ì´ì§€ì— 3D í™˜ê²½ì„ ë”í•œë‹¤ë©´, ì„œë¹„ìŠ¤ë‚˜ ì œí’ˆì˜ ë¸Œë Œë”©ì— ì°¨ë³„ì ì„ ì¤„ ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

<br />

Three.js ë¥¼ ìŠ¤í„°ë””í•˜ë©°, ì´ ë¸”ë¡œê·¸ì˜ Profile í˜ì´ì§€ë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒì„ ì²«ë²ˆì§¸ ëª©í‘œë¡œ í•˜ì—¬ í¬ìŠ¤íŒ…ì„ í•´ë³´ë ¤ í•©ë‹ˆë‹¤.



<br />



## Vite í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸°

Three.js ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´, VanillaJS í™˜ê²½ì˜ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•´ ë³´ê² ìŠµë‹ˆë‹¤.

Webpack ì„ ì‚¬ìš©í•˜ì—¬ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ì–´ë„ ë˜ì§€ë§Œ, í”„ë¡œì íŠ¸ êµ¬ì„±ì— íˆ¬ìë˜ëŠ” ë¦¬ì†ŒìŠ¤ê°€ ë§ì•„ì§€ë¯€ë¡œ, Vite ë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.

```bash title="Vite í”„ë¡œì íŠ¸ ìƒì„±"
yarn create vite --template vanilla my-threejs

cd my-threejs

yarn install
```



<br />



## Three.js ì„¤ì¹˜í•˜ê¸°

í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•œ í›„, Three.js ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.

```bash title="Three.js ì„¤ì¹˜"
yarn install three
```



<br />



## Three.js ê¸°ë³¸ êµ¬ì¡° êµ¬ì„±í•˜ê¸°

Three.js ëŠ” **WebGL** ì„ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤.

ì´ëŠ” **HTML Canvas API** ë¥¼ ì‚¬ìš©í•˜ì—¬ ê·¸ë¦¬ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.

Three.js ë¡œ í™”ë©´ì„ ê·¸ë¦¬ê¸° ìœ„í•œ ê¸°ë³¸ ê³¼ì •ì„ ì‚´í´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

1. `<canvas />` íƒœê·¸ ìƒì„±
2. **WebGLRenderer** ê°ì²´ ìƒì„±
3. ì¹´ë©”ë¼ ìƒì„±
4. ì¡°ëª… ìƒì„±
5. **Scene** ê°ì²´ ìƒì„±
6. ìœ„ì—ì„œ ìƒì„±í•œ ê°ì²´ë“¤ì„ ì¡°í•©í•˜ì—¬ **WebGLRenderer** ì— ì ìš©
7. `requestAnimationFrame()` ì„ ì‚¬ìš©í•˜ì—¬ `<canvas />` ë Œë”ë§

<br />

ìœ„ ê³¼ì •ì€ ì•„ë˜ì™€ ê°™ì´ í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ì—¬ êµ¬í˜„í•´ ë³´ê² ìŠµë‹ˆë‹¤.

1. `init()` í•¨ìˆ˜ ë§Œë“¤ê¸°: 1ë²ˆ ~ 6ë²ˆ ê³¼ì •ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.
2. `render()` í•¨ìˆ˜ ë§Œë“¤ê¸°: 7ë²ˆ ê³¼ì •ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.



<br />



## 1. `<canvas />` íƒœê·¸ ìƒì„±

ë¨¼ì € Three.js ë¥¼ ë Œë”ë§í•  `<canvas />` íƒœê·¸ë¥¼ ìƒì„±í•˜ëŠ” ë¡œì§ì„ êµ¬í˜„í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```js title="main.js" showLineNumber
function init() {
    // 1. `<canvas />` íƒœê·¸ ìƒì„±
    const $canvas = document.createElement('canvas');

    const $app = document.querySelector('#app');
    $app.appendChild($canvas);
}

init();
```



<br />



## 2. **WebGLRenderer** ê°ì²´ ìƒì„±

**WebGLRenderer** ê°ì²´ëŠ” Three.js ì˜ ì½”ì–´ ì—­í• ì„ í•©ë‹ˆë‹¤.

ìœ„ì—ì„œ ìƒì„±í•œ `<canvas />` ë¥¼ ì¸ìë¡œ ë„˜ê²¨ì£¼ì–´ ë Œë”ë§ ëŒ€ìƒì„ ì§€ì •í•´ ì¤ë‹ˆë‹¤.

```js title="main.js" showLineNumbers {2, 5-6, 15-18}
import {
    WebGLRenderer,
} from 'three';

/** @type { WebGLRenderer } */
let renderer;

function init() {
    // 1. `<canvas />` íƒœê·¸ ìƒì„±
    const $canvas = document.createElement('canvas');

    const $app = document.querySelector('#app');
    $app.appendChild($canvas);

    // 2. WebGLRenderer ê°ì²´ ìƒì„±
    renderer = new WebGLRenderer({
        canvas: $canvas,
    });
}

init();
```



<br />



## 3. ì¹´ë©”ë¼ ìƒì„±

Three.js ê°€ ì‹¤ì œë¡œ í™”ë©´ì— ë Œë”ë§í•˜ëŠ” ê²ƒì€ `Camera` ê°€ ë¹„ì¶”ëŠ” ê³³ì´ ë©ë‹ˆë‹¤.

ë”°ë¼ì„œ Three.js ì— ì‚¬ìš©í•  ì¹´ë©”ë¼ ê°ì²´ë¥¼ ìƒì„±í•´ ì¤ë‹ˆë‹¤.

```js title="main.js" showLineNumbers {3, 9-10, 24-25}
import {
    WebGLRenderer,
    PerspectiveCamera,
} from 'three';

/** @type { WebGLRenderer } */
let renderer;

/** @type { PerspectiveCamera } */
let camera;

function init() {
    // 1. `<canvas />` íƒœê·¸ ìƒì„±
    const $canvas = document.createElement('canvas');

    const $app = document.querySelector('#app');
    $app.appendChild($canvas);

    // 2. `WebGLRenderer` ê°ì²´ ìƒì„±
    renderer = new WebGLRenderer({
        canvas: $canvas,
    });

    // 3. ì¹´ë©”ë¼ ìƒì„±
    camera = new PerspectiveCamera();
}

init();
```



<br />



## 4. ì¡°ëª… ìƒì„±

ì´ë²ˆì—ëŠ” ì¡°ëª… ê°ì²´ì¸ **DirectionalLight** ê°ì²´ë¥¼ ìƒì„±í•´ ë³´ê² ìŠµë‹ˆë‹¤.

í˜„ì‹¤ ì„¸ê³„ì—ì„œë„ ë¹›ì´ ìˆì–´ì•¼ ë¬¼ì²´ë¥¼ ë³¼ ìˆ˜ ìˆë“¯ì´, Three.js ì—ì„œë„ ì¡°ëª…ì´ ìˆì–´ì•¼ ë¬¼ì²´ê°€ ë Œë”ë§ ë©ë‹ˆë‹¤.

ì¡°ëª…ì€ ì—¬ëŸ¬ê°€ì§€ê°€ ìˆëŠ”ë°, ì´ ì¤‘ í–‡ë¹›ì²˜ëŸ¼ ì§ì„ ì˜ ì¼ì •í•œ ì–‘ì˜ ë¹›ì„ ë‚˜íƒ€ë‚´ëŠ” **DirectionalLight** ê°ì²´ë¥¼ ì‚¬ìš©í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```js title="main.js" showLineNumbers {4, 28-29}
import {
    WebGLRenderer,
    PerspectiveCamera,
    DirectionalLight,
} from 'three';

/** @type { WebGLRenderer } */
let renderer;

/** @type { PerspectiveCamera } */
let camera;

function init() {
    // 1. `<canvas />` íƒœê·¸ ìƒì„±
    const $canvas = document.createElement('canvas');

    const $app = document.querySelector('#app');
    $app.appendChild($canvas);

    // 2. `WebGLRenderer` ê°ì²´ ìƒì„±
    renderer = new WebGLRenderer({
        canvas: $canvas,
    });

    // 3. ì¹´ë©”ë¼ ìƒì„±
    camera = new PerspectiveCamera();

    // 4. ì¡°ëª… ìƒì„±
    const light = new DirectionalLight();
}

init();
```



<br />



## 5. **Scene** ê°ì²´ ìƒì„±

ë¬´ëŒ€ëŠ” `Scene` ê°ì²´ë¡œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

`Scene` ê°ì²´ëŠ” `add()` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ìœ„ì—ì„œ ë§Œë“¤ì—ˆë˜ ì¡°ëª…ê³¼ ë¬¼ì²´(Mesh)ë“¤ì„ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br />

`Scene` ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì¡°ëª…ì„ ì ìš©í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```js title="main.js" showLineNumbers {5, 14-15, 35-37}
import {
    WebGLRenderer,
    PerspectiveCamera,
    DirectionalLight,
    Scene,
} from 'three';

/** @type { WebGLRenderer } */
let renderer;

/** @type { PerspectiveCamera } */
let camera;

/** @type { Scene } */
let scene;

function init() {
    // 1. `<canvas />` íƒœê·¸ ìƒì„±
    const $canvas = document.createElement('canvas');

    const $app = document.querySelector('#app');
    $app.appendChild($canvas);

    // 2. `WebGLRenderer` ê°ì²´ ìƒì„±
    renderer = new WebGLRenderer({
        canvas: $canvas,
    });

    // 3. ì¹´ë©”ë¼ ìƒì„±
    camera = new PerspectiveCamera();

    // 4. ì¡°ëª… ìƒì„±
    const light = new DirectionalLight();

    // 5. `Scene` ê°ì²´ ìƒì„±
    scene = new Scene();
    scene.add(light);
}

init();
```



<br />



## 6. ìœ„ì—ì„œ ìƒì„±í•œ ê°ì²´ë“¤ì„ ì¡°í•©í•˜ì—¬ WebGLRenderer ì— ì ìš©

ì´ì œ Three.js ë¥¼ ì‹¤í–‰í•˜ì—¬ í™”ë©´ì„ ê·¸ë¦´ ì¤€ë¹„ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤.

**WebGLRenderer** ëŠ” **Scene(ë¬´ëŒ€)** ì™€ **ì¹´ë©”ë¼** ë¥¼ ì‚¬ìš©í•˜ì—¬ í™”ë©´ì„ ê·¸ë¦¬ëŠ” ì—­í• ì„ í•˜ê²Œ ë©ë‹ˆë‹¤.

```js title="main.js" showLineNumbers {39-40}
import {
    WebGLRenderer,
    PerspectiveCamera,
    DirectionalLight,
    Scene,
} from 'three';

/** @type { WebGLRenderer } */
let renderer;

/** @type { PerspectiveCamera } */
let camera;

/** @type { Scene } */
let scene;

function init() {
    // 1. `<canvas />` íƒœê·¸ ìƒì„±
    const $canvas = document.createElement('canvas');

    const $app = document.querySelector('#app');
    $app.appendChild($canvas);

    // 2. `WebGLRenderer` ê°ì²´ ìƒì„±
    renderer = new WebGLRenderer({
        canvas: $canvas,
    });

    // 3. ì¹´ë©”ë¼ ìƒì„±
    camera = new PerspectiveCamera();

    // 4. ì¡°ëª… ìƒì„±
    const light = new DirectionalLight();

    // 5. `Scene` ê°ì²´ ìƒì„±
    scene = new Scene();
    scene.add(light);

    // 6. ìœ„ì—ì„œ ìƒì„±í•œ ê°ì²´ë“¤ì„ ì¡°í•©í•˜ì—¬ WebGLRenderer ì— ì ìš©
    renderer.render(scene, camera);
}

init();
```



<br />



## 7. `requestAnimationFrame()` ì„ ì‚¬ìš©í•˜ì—¬ `<canvas />` ë Œë”ë§

ì´ë²ˆì—ëŠ” `init()` ì˜ ë§ˆì§€ë§‰ì— í˜¸ì¶œí•  `render()` í•¨ìˆ˜ë¥¼ ë§Œë“¤ê³ , Three.js ë¥¼ ì‹¤í–‰í•˜ì—¬ ë¸Œë¼ìš°ì €ì—ì„œ ê²°ê³¼ë¥¼ í™•ì¸í•´ ë³´ê² ìŠµë‹ˆë‹¤.

ì¶”ê°€í•  `render()` í•¨ìˆ˜ëŠ” `requestAnimationFrame()` ì„ ì‚¬ìš©í•˜ì—¬ `render()` í•¨ìˆ˜ë¥¼ ì¬ê·€ í˜¸ì¶œí•˜ë„ë¡ í•˜ëŠ”ë°, ì´ëŠ” ë¸Œë¼ìš°ì €ì—ì„œ **60fps ë¡œ ì‹¤í–‰í•˜ë©° í™”ë©´ì„ ì—…ë°ì´íŠ¸** í•˜ê²Œ ë©ë‹ˆë‹¤.

```js title="main.js" showLineNumbers {42-43, 46-50}
import {
    WebGLRenderer,
    PerspectiveCamera,
    DirectionalLight,
    Scene,
} from 'three';

/** @type { WebGLRenderer } */
let renderer;

/** @type { PerspectiveCamera } */
let camera;

/** @type { Scene } */
let scene;

function init() {
    // 1. `<canvas />` íƒœê·¸ ìƒì„±
    const $canvas = document.createElement('canvas');

    const $app = document.querySelector('#app');
    $app.appendChild($canvas);

    // 2. `WebGLRenderer` ê°ì²´ ìƒì„±
    renderer = new WebGLRenderer({
        canvas: $canvas,
    });

    // 3. ì¹´ë©”ë¼ ìƒì„±
    camera = new PerspectiveCamera();

    // 4. ì¡°ëª… ìƒì„±
    const light = new DirectionalLight();

    // 5. `Scene` ê°ì²´ ìƒì„±
    scene = new Scene();
    scene.add(light);

    // 6. ìœ„ì—ì„œ ìƒì„±í•œ ê°ì²´ë“¤ì„ ì¡°í•©í•˜ì—¬ WebGLRenderer ì— ì ìš©
    renderer.render(scene, camera);

    // 7. requestAnimationFrame() ì„ ì‚¬ìš©í•˜ì—¬ <canvas /> ë Œë”ë§
    render();
}

function render() {
    renderer.render(scene, camera);

    requestAnimationFrame(render);
}

init();
```



<br />



## ì¶”ê°€: Scene ì— SphereMesh ì¶”ê°€í•˜ê¸°

ì§€ê¸ˆê¹Œì§€ ì‘ì„±í•œ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´, ê²€ì€ìƒ‰ í™”ë©´ë§Œ ë³´ì´ê²Œ ë©ë‹ˆë‹¤.

ì´ëŠ” ì‹¤ì œë¡œ í™”ë©´ì— ê·¸ë¦´ ë¬¼ì²´(Mesh) ê°€ ì—†ê¸° ë•Œë¬¸ì— ê·¸ë¦´ ëŒ€ìƒì´ ì—†ëŠ” í˜„ìƒì…ë‹ˆë‹¤.

<br />

ìœ„ì—ì„œ êµ¬ì„±í•œ Three.js ê°€ ì˜ ë™ì‘í•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ êµ¬í˜• ë¬¼ì²´(Sphere Mesh) ë¥¼ ìƒì„±í•˜ê³ , ì ìš©í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```js title="main.js" showLineNumbers {7-9, 48-49, 61-67}
import {
    WebGLRenderer,
    PerspectiveCamera,
    DirectionalLight,
    Scene,

    SphereGeometry,
    MeshPhongMaterial,
    Mesh,
} from 'three';

/** @type { WebGLRenderer } */
let renderer;

/** @type { PerspectiveCamera } */
let camera;

/** @type { Scene } */
let scene;

function init() {
    // 1. `<canvas />` íƒœê·¸ ìƒì„±
    const $canvas = document.createElement('canvas');

    const $app = document.querySelector('#app');
    $app.appendChild($canvas);

    // 2. `WebGLRenderer` ê°ì²´ ìƒì„±
    renderer = new WebGLRenderer({
        canvas: $canvas,
    });

    // 3. ì¹´ë©”ë¼ ìƒì„±
    camera = new PerspectiveCamera();
    camera.position.set(0, 0, 10);

    // 4. ì¡°ëª… ìƒì„±
    const light = new DirectionalLight();
    light.position.set(1, 1, 1);

    // 5. `Scene` ê°ì²´ ìƒì„±
    scene = new Scene();
    scene.add(light);

    // 6. ìœ„ì—ì„œ ìƒì„±í•œ ê°ì²´ë“¤ì„ ì¡°í•©í•˜ì—¬ WebGLRenderer ì— ì ìš©
    renderer.render(scene, camera);

    // ì¶”ê°€: Schene ì— SphereMesh ì¶”ê°€í•˜ê¸°
    createSphereMesh();

    // 7. requestAnimationFrame() ì„ ì‚¬ìš©í•˜ì—¬ <canvas /> ë Œë”ë§
    render();
}

function render() {
    renderer.render(scene, camera);

    requestAnimationFrame(render);
}

function createSphereMesh() {
    const sphere_geometry = new SphereGeometry();
    const sphere_material = new MeshPhongMaterial();
    const sphere_mesh = new Mesh(sphere_geometry, sphere_material);

    scene.add(sphere_mesh);
}

init();
```

<br />

`createSphereMesh()` í•¨ìˆ˜ì—ì„œ 3ê°€ì§€ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤.

ì´ëŠ” ì»´í“¨í„° ê·¸ë˜í”½ìŠ¤ì—ì„œ 3D ë¬¼ì²´ë¥¼ í‘œí˜„í•˜ê¸° ìœ„í•œ ìš”ì†Œë“¤ ì…ë‹ˆë‹¤.

* Geometry: ìƒ‰ì´ ì—†ëŠ” ëª¨ë¸ë§ ê°ì²´
* Material: ëª¨ë¸ë§ ê°ì²´ì˜ ìƒ‰ìƒ ë˜ëŠ” ì§ˆê°
* Mesh: Geometry ì™€ Material ì„ í•©ì¹œ ê²°ê³¼ ëª¨ë¸ë§ ê°ì²´

`sphere_mesh` ê°ì²´ì˜ `add()` ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ **Geometry** ì™€ **Material** ì„ í•©ì³ì„œ í•˜ë‚˜ì˜ **Mesh** ë¥¼ ë§Œë“¤ ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.

<br />

ì§€ê¸ˆê¹Œì§€ ì‘ì„±í•œ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ë¬¼ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<img src="/markdownAssets/threejs/2023-12-31-01/2023-12-31-01-01.png" alt="Threejs ì‹¤í–‰ ê²°ê³¼" />



<br />



## ì¶”ê°€: `<canvas />` ë¥¼ ì „ì²´í™”ë©´ìœ¼ë¡œ ì„¤ì •í•˜ê¸°

ìœ„ ê²°ê³¼ë¬¼ì„ í™•ì¸í•˜ë©´, `<canvas />` ìš”ì†Œê°€ inline ìœ¼ë¡œ ë Œë”ë§ë˜ê³  ìˆìŠµë‹ˆë‹¤.

ì´ëŠ” **WebGLRenderer** ê°ì²´ì˜ **size** ë¥¼ ì¡°ì •í•˜ì—¬ ì „ì²´í™”ë©´ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê·¸ë¦¬ê³  `<canvas />` ì˜ ê¸°ë³¸ ìŠ¤íƒ€ì¼ì¸ `display: inline` ì„ `display: block` ìœ¼ë¡œ ë³€ê²½í•©ë‹ˆë‹¤.

```css title="style.css" showLineNumbers
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

canvas {
    display: block;
}
```

```js title="main.js" showLineNumbers {11, 33-36}
import {
    WebGLRenderer,
    PerspectiveCamera,
    DirectionalLight,
    Scene,

    SphereGeometry,
    MeshPhongMaterial,
    Mesh,
} from 'three';
import './style.css';

/** @type { WebGLRenderer } */
let renderer;

/** @type { PerspectiveCamera } */
let camera;

/** @type { Scene } */
let scene;

function init() {
    // 1. `<canvas />` íƒœê·¸ ìƒì„±
    const $canvas = document.createElement('canvas');

    const $app = document.querySelector('#app');
    $app.appendChild($canvas);

    // 2. `WebGLRenderer` ê°ì²´ ìƒì„±
    renderer = new WebGLRenderer({
        canvas: $canvas,
    });
    renderer.setSize(
        window.innerWidth,
        window.innerHeight
    );

    // 3. ì¹´ë©”ë¼ ìƒì„±
    camera = new PerspectiveCamera();
    camera.position.set(0, 0, 10);

    // 4. ì¡°ëª… ìƒì„±
    const light = new DirectionalLight();
    light.position.set(1, 1, 1);

    // 5. `Scene` ê°ì²´ ìƒì„±
    scene = new Scene();
    scene.add(light);

    // 6. ìœ„ì—ì„œ ìƒì„±í•œ ê°ì²´ë“¤ì„ ì¡°í•©í•˜ì—¬ WebGLRenderer ì— ì ìš©
    renderer.render(scene, camera);

    // ì¶”ê°€: Schene ì— SphereMesh ì¶”ê°€í•˜ê¸°
    createSphereMesh();

    // 7. requestAnimationFrame() ì„ ì‚¬ìš©í•˜ì—¬ <canvas /> ë Œë”ë§
    render();
}

function render() {
    renderer.render(scene, camera);

    requestAnimationFrame(render);
}

function createSphereMesh() {
    const sphere_geometry = new SphereGeometry();
    const sphere_material = new MeshPhongMaterial();
    const sphere_mesh = new Mesh(sphere_geometry, sphere_material);

    scene.add(sphere_mesh);
}

init();
```

<br />

ì´ë ‡ê²Œ ì ìš©í•œ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

<img src="/markdownAssets/threejs/2023-12-31-01/2023-12-31-01-02.png" alt="ì „ì²´í™”ë©´ ì ìš©" />



<br />



## ì¶”ê°€: ì°Œê·¸ëŸ¬ì§„ í™”ë©´ ë³´ì •í•˜ê¸°

Scene ì— ì¶”ê°€í•œ ëª¨ë¸ë§ì€ êµ¬(Sphere) ì…ë‹ˆë‹¤.

í•˜ì§€ë§Œ ê²°ê³¼ í™”ë©´ì—ì„œ ë³´ì—¬ì§€ëŠ” êµ¬ëŠ” íƒ€ì›í˜•ìœ¼ë¡œ ë³´ì—¬ì§‘ë‹ˆë‹¤.

ì›ì¸ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤. 

* **ì¹´ë©”ë¼ì˜ ì¢…íš¡ë¹„(aspect radio)** ì„¤ì •ì„ í•˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ, ê¸°ë³¸ê°’ì¸ **1** ë¡œ ì„¤ì •ë¨
* ë¸Œë¼ìš°ì €ì˜ ì¢…íš¡ë¹„ê°€ 1:1 ì´ ì•„ë‹Œ ìƒíƒœì—ì„œ `<canvas />` ë¥¼ ì „ì²´í™”ë©´ìœ¼ë¡œ ëŠ˜ë¦¬ë©´ì„œ ë°œìƒí•˜ëŠ” í™”ë©´ ëŠ˜ì–´ì§

<br />

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ **ì¹´ë©”ë¼ì˜ ì¢…íš¡ë¹„(aspect radio)** ë¥¼ ì„¤ì •í•´ì¤ë‹ˆë‹¤.

```js title="main.js" showLineNumbers {39-42}
import {
    WebGLRenderer,
    PerspectiveCamera,
    DirectionalLight,
    Scene,

    SphereGeometry,
    MeshPhongMaterial,
    Mesh,
} from 'three';
import './style.css';

/** @type { WebGLRenderer } */
let renderer;

/** @type { PerspectiveCamera } */
let camera;

/** @type { Scene } */
let scene;

function init() {
    // 1. `<canvas />` íƒœê·¸ ìƒì„±
    const $canvas = document.createElement('canvas');

    const $app = document.querySelector('#app');
    $app.appendChild($canvas);

    // 2. `WebGLRenderer` ê°ì²´ ìƒì„±
    renderer = new WebGLRenderer({
        canvas: $canvas,
    });
    renderer.setSize(
        window.innerWidth,
        window.innerHeight
    );

    // 3. ì¹´ë©”ë¼ ìƒì„±
    camera = new PerspectiveCamera(
        45,
        window.innerWidth / window.innerHeight
    );
    camera.position.set(0, 0, 10);

    // 4. ì¡°ëª… ìƒì„±
    const light = new DirectionalLight();
    light.position.set(1, 1, 1);

    // 5. `Scene` ê°ì²´ ìƒì„±
    scene = new Scene();
    scene.add(light);

    // 6. ìœ„ì—ì„œ ìƒì„±í•œ ê°ì²´ë“¤ì„ ì¡°í•©í•˜ì—¬ WebGLRenderer ì— ì ìš©
    renderer.render(scene, camera);

    // ì¶”ê°€: Schene ì— SphereMesh ì¶”ê°€í•˜ê¸°
    createSphereMesh();

    // 7. requestAnimationFrame() ì„ ì‚¬ìš©í•˜ì—¬ <canvas /> ë Œë”ë§
    render();
}

function render() {
    renderer.render(scene, camera);

    requestAnimationFrame(render);
}

function createSphereMesh() {
    const sphere_geometry = new SphereGeometry();
    const sphere_material = new MeshPhongMaterial();
    const sphere_mesh = new Mesh(sphere_geometry, sphere_material);

    scene.add(sphere_mesh);
}

init();
```

<br />

`PerspectiveCamera` ìƒì„±ìì— ì¸ìë¡œ 2ê°€ì§€ë¥¼ ë„˜ê²¨ì£¼ì—ˆìŠµë‹ˆë‹¤.

ì¸ì íƒ€ì…ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```ts title="Perspective ìƒì„±ìì˜ ì¸ì"
class PerspectiveCamera {
    constructor(
        fov: number,
        aspect: number
    ) {
        // ...
    }
}
```

**fov (Field of View)** ëŠ” **ì¹´ë©”ë¼ì˜ ì™œê³¡ ì •ë„ê°’**ì„ ë§í•©ë‹ˆë‹¤.

ì´ëŠ” **ë Œì¦ˆ ë°°ìœ¨** ê³¼ **Sensor-size** ì— ëŒ€í•œ ì—°ì‚°ê°’ì´ë©°, **í™”ê°ì„ ìˆ˜ì¹˜í™”** í•œ ê²ƒì…ë‹ˆë‹¤.

ê°’ì´ í´ìˆ˜ë¡ ë©€ë¦¬ì„œ ë³´ëŠ” ëŠë‚Œì˜ íš¨ê³¼ê°€ ë°œìƒí•©ë‹ˆë‹¤.

<br />

ë‘ë²ˆì§¸ ì¸ìì¸ **aspect** ëŠ” **ì¹´ë©”ë¼ ì¢…íš¡ë¹„(aspect ratio)** ì— ëŒ€í•œ ì„¤ì •ì…ë‹ˆë‹¤.

í™”ë©´ì˜ **ê°€ë¡œ / ì„¸ë¡œ** ë¹„ìœ¨ì„ ë‚˜íƒ€ë‚´ë¯€ë¡œ, `window.innerWidth / window.innerHeight` ë¡œ ê°’ì„ ë„ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br />

ì´ë ‡ê²Œ ì„¤ì •í•œ ê²°ê³¼ë¬¼ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

<img src="/markdownAssets/threejs/2023-12-31-01/2023-12-31-01-03.png" alt="ì „ì²´í™”ë©´ ì ìš©" />



<br />



## ì¶”ê°€: **ê³„ë‹¨ íš¨ê³¼** ë³´ì •í•˜ê¸°

ëª¨ë‹ˆí„°ëŠ” Pixel ì— RGB ë¥¼ ë°œì‚¬í•˜ì—¬ í™”ë©´ì„ ê·¸ë¦½ë‹ˆë‹¤.

ì´ Pixel ì€ ì •ì‚¬ê°í˜• ëª¨ì–‘ì´ê¸° ë•Œë¬¸ì— ê³¡ì„ ì„ ë Œë”ë§í•˜ê²Œ ë˜ë©´ ë§ˆì¹˜ ê³„ë‹¨ì²˜ëŸ¼ ê°ì§„ ê³¡ì„ ìœ¼ë¡œ í‘œí˜„ë©ë‹ˆë‹¤.

**WebGLRenderer** ê°ì²´ë¥¼ ìƒì„±í•˜ë©° options ë¥¼ í†µí•´ ê³„ë‹¨ íš¨ê³¼ë¥¼ ë³´ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br />

ì»´í“¨í„° ê·¸ë˜í”½ìŠ¤ì—ì„œ ê³„ë‹¨ íš¨ê³¼ë¥¼ í•´ì†Œí•˜ëŠ” ê¸°ë²•ì„ ê°„ë‹¨í•˜ê²Œ ì„¤ëª…í•˜ë©´, ê³¡ì„ ì´ ì•„ë‹Œ ë¶€ë¶„ì„ íë¦¼(blur) ì²˜ë¦¬í•˜ì—¬ ë§ˆì¹˜ ìì—°ìŠ¤ëŸ¬ìš´ ê³¡ì„ ì²˜ëŸ¼ í‘œí˜„í•´ ì¤ë‹ˆë‹¤.

ì´ëŸ¬í•œ ê¸°ë²•ì„ **Anti-Aliasing** ì´ë¼ê³  í•©ë‹ˆë‹¤.

```js title="main.js" showLineNumbers {32}
import {
    WebGLRenderer,
    PerspectiveCamera,
    DirectionalLight,
    Scene,

    SphereGeometry,
    MeshPhongMaterial,
    Mesh,
} from 'three';
import './style.css';

/** @type { WebGLRenderer } */
let renderer;

/** @type { PerspectiveCamera } */
let camera;

/** @type { Scene } */
let scene;

function init() {
    // 1. `<canvas />` íƒœê·¸ ìƒì„±
    const $canvas = document.createElement('canvas');

    const $app = document.querySelector('#app');
    $app.appendChild($canvas);

    // 2. `WebGLRenderer` ê°ì²´ ìƒì„±
    renderer = new WebGLRenderer({
        canvas: $canvas,
        antialias: true,
    });
    renderer.setSize(
        window.innerWidth,
        window.innerHeight
    );

    // 3. ì¹´ë©”ë¼ ìƒì„±
    camera = new PerspectiveCamera(
        45,
        window.innerWidth / window.innerHeight
    );
    camera.position.set(0, 0, 10);

    // 4. ì¡°ëª… ìƒì„±
    const light = new DirectionalLight();
    light.position.set(1, 1, 1);

    // 5. `Scene` ê°ì²´ ìƒì„±
    scene = new Scene();
    scene.add(light);

    // 6. ìœ„ì—ì„œ ìƒì„±í•œ ê°ì²´ë“¤ì„ ì¡°í•©í•˜ì—¬ WebGLRenderer ì— ì ìš©
    renderer.render(scene, camera);

    // ì¶”ê°€: Schene ì— SphereMesh ì¶”ê°€í•˜ê¸°
    createSphereMesh();

    // 7. requestAnimationFrame() ì„ ì‚¬ìš©í•˜ì—¬ <canvas /> ë Œë”ë§
    render();
}

function render() {
    renderer.render(scene, camera);

    requestAnimationFrame(render);
}

function createSphereMesh() {
    const sphere_geometry = new SphereGeometry();
    const sphere_material = new MeshPhongMaterial();
    const sphere_mesh = new Mesh(sphere_geometry, sphere_material);

    scene.add(sphere_mesh);
}

init();
```



## ë§ˆì¹˜ë©°

Three.js ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•œ ìµœì†Œ êµ¬ì„±ìš”ì†Œë¥¼ êµ¬í˜„í•´ ë³´ì•˜ìŠµë‹ˆë‹¤.

ë­”ê°€ ë³µì¡í•´ ë³´ì´ì§€ë§Œ í˜„ì‹¤ ì„¸ê³„ì˜ ë¬´ëŒ€ë¥¼ ë§Œë“œëŠ” ê²ƒê³¼ ìœ ì‚¬í•œ ê°œë…ìœ¼ë¡œ ë§Œë“¤ê³  ìˆìŠµë‹ˆë‹¤.

* `WebGLRenderer`: ë¬´ëŒ€ë¥¼ êµ¬ì„±í•  ê±´ë¬¼
* `Scene`: ë¬´ëŒ€
* `PerspectiveCamera`: ì¹´ë©”ë¼
* `DirectionalLight`: ì¡°ëª…
* `Mesh`: ë°°ê²½, ë°°ìš°, ì†Œí’ˆ

<br />

Three.js ë¥¼ ì²˜ìŒ ì‹œì‘í•˜ë©° ì œê°€ ëŠë‚€ ì–´ë ¤ì›€ìœ¼ë¡œëŠ” ì»´í“¨í„° ê·¸ë˜í”½ìŠ¤ ê°œë…ê³¼ ì¹´ë©”ë¼ì— ëŒ€í•œ ì´í•´ì˜€ìŠµë‹ˆë‹¤.

ë‹¨ìˆœíˆ Three.js ì‚¬ìš©ë²•ì„ ìµíˆëŠ” ê²ƒë§Œìœ¼ë¡œ ì›í•˜ëŠ” ê²°ê³¼ë¬¼ì„ ì–»ê¸°ëŠ” ì–´ë ¤ì›Œ ë³´ì…ë‹ˆë‹¤.

ì§€ê¸ˆê¹Œì§€ì˜ ì½”ë”©ì— ë¹„í•´ í•™ìŠµ ë‚œì´ë„ëŠ” ë†’ì§€ë§Œ, ìƒˆë¡œìš´ ì„±ì·¨ê°ê³¼ ì¦ê±°ì›€ì´ ê¸°ëŒ€ë©ë‹ˆë‹¤.
f:T1171,---
id: 1
title: êµ¬ì¡° ë¶„í•´ í• ë‹¹ì˜ ê¸°ë³¸ê°’ ì§€ì •, null ì€ ì‚¬ìš© ë¶ˆê°€!
description: 'êµ¬ì¡° ë¶„í•´ í• ë‹¹ì˜ ê¸°ë³¸ê°’ ì„¤ì •ì€ Nullish(undefined ì™€ null) ê°€ ì•„ë‹Œ, ì˜¤ì§ undefined ì¼ ë•Œë§Œ ì ìš©ë©ë‹ˆë‹¤.'
thumbnail: https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg

featured: false
tags: [
    'javascript',
]

createdAt: '2023-12-21 20:20:00'
modifiedHistories: []
---

# êµ¬ì¡° ë¶„í•´ í• ë‹¹ì˜ ê¸°ë³¸ê°’ ì§€ì •, Null ì€ ì‚¬ìš© ë¶ˆê°€!

plain object ë¥¼ ì‚¬ìš©í•˜ì—¬, ë°ì´í„°ë¥¼ ì˜ë¯¸ë‹¨ìœ„ë¡œ ë¬¶ì–´ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤.

ì˜ë¯¸ë¥¼ ê°€ì§€ëŠ” key ì™€ ìŒì„ ì´ë£¨ëŠ” value ë¡œ êµ¬ì„±ë˜ë©°, Javascript built-in object ì—ë„ ë§ì€ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” ì´ëŸ¬í•œ plain object ì˜ ê¸°ëŠ¥ë“¤ ì¤‘, **êµ¬ì¡° ë¶„í•´ í• ë‹¹ì˜ ê¸°ë³¸ê°’ ì„¤ì •** ì— ëŒ€í•´ ì •ë¦¬í•©ë‹ˆë‹¤.



<br />



## êµ¬ì¡° ë¶„í•´ í• ë‹¹ì˜ ê¸°ë³¸ê°’

êµ¬ì¡° ë¶„í•´ í• ë‹¹ì€ plain object ì˜ í•˜ìœ„ í”„ë¡œí¼í‹°ì— ì¢€ ë” íš¨ìœ¨ì ìœ¼ë¡œ ì°¸ì¡°í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.

```javascript title="êµ¬ì¡° ë¶„í•´ í• ë‹¹ ì˜ˆì‹œ" showLineNumbers {8-14}
const obj = {
    keyA: 'value a',
    keyB: 'value b',
    keyC: undefined,
    keyD: null,
};

// êµ¬ì¡° ë¶„í•´ í• ë‹¹
const {
    keyA,
    keyB,
    keyC,
    keyD,
} = obj;
```

<br />

ìœ„ ì˜ˆì‹œì²˜ëŸ¼ value ê°€ `undefined` ì¸ ê²½ìš°ë„ ìˆê³ , `null` ì¸ ê²½ìš°ê°€ ìˆì—ˆìŠµë‹ˆë‹¤.

ì´ëŸ¬í•œ ê²½ìš° **ê¸°ë³¸ê°’ì„ ì§€ì •í•˜ì—¬ ìœ íš¨í•œ value ë¥¼ ë³´ì¥** í•˜ë„ë¡ ì˜ë„í•˜ì˜€ìŠµë‹ˆë‹¤.

```javascript title="êµ¬ì¡° ë¶„í•´ í• ë‹¹ì˜ ê¸°ë³¸ê°’ ì˜ˆì‹œ" showLineNumbers {8-14}
const obj = {
    keyA: 'value a',
    keyB: 'value b',
    keyC: undefined,
    keyD: null,
};

// êµ¬ì¡° ë¶„í•´ í• ë‹¹ ê¸°ë³¸ê°’ ì§€ì •
const {
    keyA,
    keyB,
    keyC =. 'ë¹ˆ ê°’',
    keyD = 'ë¹ˆ ê°’',
};
```

<br />

ì—¬ê¸°ì„œ ì œê°€ ì‹¤ìˆ˜í•œ ë¶€ë¶„ì´ ìˆìŠµë‹ˆë‹¤.

~~`value` ê°€ `Nullish (undefined ë˜ëŠ” null)` ì¼ ê²½ìš°, ê¸°ë³¸ê°’ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.~~

í•˜ì§€ë§Œ `null` ì—ëŠ” ê¸°ë³¸ê°’ ì„¤ì •ì´ ë¶ˆê°€ëŠ¥ í•˜ê³ , **`value` ê°€ `undefined` ì¼ ê²½ìš°ì—ë§Œ ê¸°ë³¸ê°’ì„ ì„¤ì •** í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

* [MDN - êµ¬ì¡° ë¶„í•´ í• ë‹¹](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#%EA%B8%B0%EB%B3%B8%EA%B0%92)

<br />

ì œê°€ ì‹¤ìˆ˜í•œ ë¶€ë¶„ì´ ì¼ìœ¼í‚¨ ì´ìŠˆëŠ” ì•„ë˜ì˜ ì½”ë“œì™€ ê°™ìŠµë‹ˆë‹¤.

```javascript title="êµ¬ì¡° ë¶„í•´ í• ë‹¹ì˜ ê¸°ë³¸ê°’ ì´ìŠˆ" showLineNumbers {11-12, 15-17}
const obj = {
    keyA: 'value a',
    keyB: 'value b',
    keyC: undefined,
    keyD: null,
};

const {
    keyA,
    keyB,
    keyC = 'ê°’ ì—†ìŒ',
    keyD = 'ê°’ ì—†ìŒ',
} = obj;

// ì—ëŸ¬ ë°œìƒ
// Error: Cannot read properties of null (reading 'toUpperCase')
console.log('keyD.toUpperCase(): ', keyD.toUpperCase());
```

<br />

`keyD` ì— ê¸°ë³¸ê°’ì„ `string` ìœ¼ë¡œ ì§€ì •í•˜ì˜€ì§€ë§Œ, `null` ì´ë¯€ë¡œ ê¸°ë³¸ê°’ ì§€ì •ì´ ì ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ê·¸ëŸ¬ë¯€ë¡œ `keyD.toUpperCase()` ë¥¼ í˜¸ì¶œí•  ê²½ìš°, `null` ì— ëŒ€í•œ ë©”ì†Œë“œ í˜¸ì¶œì´ ë˜ë©° ì—ëŸ¬ê°€ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤.



<br />



## null ì€ ëª…ì‹œì ìœ¼ë¡œ í‘œí˜„í•œ ê°’ì´ ì—†ìŒ!

ê°’ì´ ì—†ì„ì„ ë‚˜íƒ€ë‚´ëŠ” `undefined` ì™€ `null` ì€ íƒ€ì…ë„ ë‹¤ë¥´ì§€ë§Œ, ë” **ì¤‘ìš”í•œ ê²ƒì€ ì˜ë¯¸** ì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

ë³€ìˆ˜ë‚˜ í”„ë¡œí¼í‹°ì— í• ë‹¹í•œ ê°’ì´ ì—†ëŠ” ê²½ìš° `undefined` ë¥¼ ê°€ì§€ê³ , `null` ì€ ê°œë°œìê°€ ì˜ë„ë¥¼ ê°€ì§€ê³  ê°’ì„ ë¹„ìš´ë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.

ì¦‰, ì˜ë„ë¥¼ ê°€ì§€ê³  ë¹„ì›Œë‘” ê°’ì—ëŠ” êµ¬ì¡° ë¶„í•´ í• ë‹¹ì˜ ê¸°ë³¸ê°’ì´ ì ìš©ë˜ì§€ ì•ŠëŠ” ê²ƒ ì…ë‹ˆë‹¤.

<br />

ë§Œì•½ `Nullish` ì— ëŒ€í•œ ê¸°ë³¸ê°’ì„ ì§€ì •í•˜ê³  ì‹¶ì„ ê²½ìš°ëŠ” **Nullish ë³‘í•© ì—°ì‚°ì** ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

```javascript title="Nullish ë³‘í•© ì—°ì‚°ì" showLineNumbers {11-12, 15-16}
const obj = {
    keyA: 'value a',
    keyB: 'value b',
    keyC: undefined,
    keyD: null
};

const {
    keyA,
    keyB,
    keyC: _keyC,
    keyD: _keyD,
};

const keyC = _keyC ?? 'ê°’ ì—†ìŒ';
const keyD = _keyD ?? 'ê°’ ì—†ìŒ';
```



<br />



## ìœ ê°ìŠ¤ëŸ¬ìš´ êµ¬ì¡° ë¶„í•´ í• ë‹¹ì˜ ê¸°ë³¸ê°’

`undefined` ë¿ë§Œ ì•„ë‹ˆë¼, `Nullish` ì— ëŒ€í•œ ê¸°ë³¸ê°’ì„ ì„¤ì •í•˜ê³  ì‹¶ë‹¤ë©´, ìœ„ ì˜ˆì‹œì½”ë“œì™€ ê°™ì´ ì½”ë“œ 1ì¤„ì”© ì¶”ê°€ë¡œ ì‘ì„±í•˜ê²Œ ë©ë‹ˆë‹¤.

ì´ ê¸°ëŠ¥ì˜ ì˜ë¯¸ëŠ” ì´í•´í•˜ì§€ë§Œ, ì‘ì„±í•  ì½”ë“œê°€ ëŠ˜ì–´ë‚œë‹¤ëŠ” ì ì—ì„œëŠ” ì•„ì‰½ìŠµë‹ˆë‹¤.

<br />

ë‹¤ë¥¸ë¶„ë“¤ì€ ì €ì™€ ê°™ì€ ì‹¤ìˆ˜ê°€ ì—†ê¸°ë¥¼ ë°”ë¼ë©°, ì´ë²ˆ í¬ìŠ¤íŒ…ì„ ë§ˆë¬´ë¦¬ í•©ë‹ˆë‹¤.
10:T1174,---
id: 2
title: AWS S3 ë¥¼ ì‚¬ìš©í•œ PDF ë·°ì–´ êµ¬í˜„ì‹œ, Metadata ì„¤ì •
description: 'AWS S3 ì— ì—…ë¡œë“œí•œ PDF íŒŒì¼ì´ ë Œë”ë§ë˜ì§€ ì•Šê³  ë‹¤ìš´ë¡œë“œ ë˜ëŠ” ì´ìŠˆì— ëŒ€í•œ ì •ë¦¬ ì…ë‹ˆë‹¤.'
thumbnail: https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg

featured: false
tags: [
    'javascript',
    'PDF',
    'PDF Metadata',
    'AWS',
    'S3',
]

createdAt: '2023-12-30 16:00:00'
modifiedHistories: []
---

# ì›¹ì—ì„œ PDF ë·°ì–´ë¥¼ ì œê³µí•˜ëŠ” ë°©ë²•

PDF íŒŒì¼ì€ ë²”ìš©ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë¬¸ì„œ íŒŒì¼ ì…ë‹ˆë‹¤.

PDF ë·°ì–´ë¥¼ ì œê³µí•˜ëŠ” ë°©ë²•ì—ëŠ” ì—¬ëŸ¬ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤.

* `<iframe />`, `<object />`, `<embed />` íƒœê·¸
* PDF ë·°ì–´ ê´€ë ¨ ë¼ì´ë“œëŸ¬ë¦¬ë“¤



<br />



## `<object />` ë¥¼ ì‚¬ìš©í•œ PDF ë·°ì–´ êµ¬í˜„í•˜ê¸°

PDF íŒŒì¼ì€ ë¸Œë¼ìš°ì € ë‚´ì¥ ë·°ì–´ì—ì„œ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

êµ¬í˜„ ì´ˆê¸°ì—ëŠ” `<iframe />` ì´ë‚˜ `<object />` ì˜ ë³´ì•ˆë¬¸ì œë¥¼ í”¼í•˜ê¸° ìœ„í•´, PDF ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê³ ì í•˜ì˜€ìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ ë¸Œë¼ìš°ì €ì˜ ë‚´ì¥ PDF ë·°ì–´ì˜ ê°•ë ¥í•œ ê¸°ëŠ¥ë“¤ì„ í¬ê¸°í•˜ê±°ë‚˜ ì§ì ‘ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.

<br />

ì´ëŸ¬í•œ ì´ìœ ë¡œ `<object />` íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ PDF ë·°ì–´ë¥¼ ì‚¬ìš©í•˜ê¸°ë¡œ í•˜ì˜€ìŠµë‹ˆë‹¤.

ë˜í•œ `<iframe />` ë³´ë‹¤ëŠ” `<object />` íƒœê·¸ê°€ PDF ì—ëŠ” ì í•©í•˜ë‹¤ëŠ” MDN ê³µì‹ë¬¸ì„œì— ë”°ë¥´ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

* ì°¸ê³ : [MDN ê³µì‹ ë¬¸ì„œ](https://developer.mozilla.org/ko/docs/Learn/HTML/Multimedia_and_embedding/Other_embedding_technologies#embed_%EC%99%80_object_%EC%9A%94%EC%86%8C)



<br />



## `<object />` ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°„ë‹¨í•œ PDF ë·°ì–´ ë§Œë“¤ê¸°

ì•„ë˜ì™€ ê°™ì´ `<object />` íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°„ë‹¨í•˜ê²Œ PDF ë·°ì–´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx title="PDF ë·°ì–´ ì˜ˆì‹œ ì½”ë“œ" showLineNumbers
type TMyPdfViewerProps = {
    url: string;
}

function MyPdfViewer(props: TMyPdfViewerProps) {
    const {
        url,
    } = props;

    const data = `${url}#view=FitH`;

    return (<>
        <object 
            data={data}
            type='application/pdf' 
            width='100%' 
            height='100%' />
    </>);
}

export default MyPdfViewer;
```



<br />



## AWS S3 ì— ì—…ë¡œë“œí•œ PDF íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë˜ëŠ” ì´ìŠˆ

AWS S3 ëŠ” ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” í´ë¼ìš°ë“œ ìŠ¤í† ë¦¬ì§€ ì…ë‹ˆë‹¤.

PDF íŒŒì¼ì„ S3 ì— ì—…ë¡œë“œí•œ í›„, `<MyPdfViewer />` ì»´í¬ë„ŒíŠ¸ë¡œ ë³´ì—¬ì£¼ê³ ì í•©ë‹ˆë‹¤.

ë§Œì•½ ë‹¨ìˆœíˆ S3 ì— PDF íŒŒì¼ì„ ì—…ë¡œë“œ í–ˆë‹¤ë©´, `<object />` ì— ì—°ë™í•œ **PDF íŒŒì¼ì´ ë Œë”ë§ ë˜ì§€ ì•Šê³  ë‹¤ìš´ë¡œë“œë˜ëŠ” í˜„ìƒ**ì„ ë§ˆì£¼í•˜ê²Œ ë©ë‹ˆë‹¤.



<br />



## PDF íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë§Œ ë˜ëŠ” ì´ìœ 

AWS S3 ì— íŒŒì¼ì„ ì—…ë¡œë“œí•  ê²½ìš°, ë³„ë„ì˜ ì„¤ì •ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì€ **Metadata** ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤.

* `Content-Type: binary/octet-stream`
* `Content-Disposition: attachment`

<br />

ìœ„ì™€ ê°™ì€ íŒŒì¼ì„ ë¸Œë¼ìš°ì €ì—ì„œ ìš”ì²­í•  ê²½ìš°, í•´ë‹¹ íŒŒì¼ì€ ì²¨ë¶€íŒŒì¼ë¡œ ì¸ì‹í•˜ê³  ë‹¤ìš´ë¡œë“œí•˜ëŠ” ë™ì‘ì„ í•˜ê²Œ ë©ë‹ˆë‹¤.

AWS S3 ì— ì—…ë¡œë“œí•œ íŒŒì¼ì´ **ë‹¨ìˆœ ì²¨ë¶€íŒŒì¼ ì‘ë‹µ ìœ¼ë¡œ ì²˜ë¦¬ë˜ê¸° ë•Œë¬¸ì—** `<object />` íƒœê·¸ì— ë Œë”ë§ë˜ëŠ” ê²ƒì´ ì•„ë‹Œ ë‹¤ìš´ë¡œë“œê°€ ë©ë‹ˆë‹¤.

<br />

ì´ë¥¼ PDF ë·°ì–´ë¡œ ë™ì‘í•˜ë„ë¡ í•˜ë ¤ë©´, **AWS S3 ì— ì—…ë¡œë“œí•œ PDF íŒŒì¼ì˜ Metadata ë¥¼ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •** í•´ì„œ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

* `Content-Type: application/pdf`
* `Content-Disposition: inline`

<br />

ìœ„ì™€ ê°™ì´ Metadata ë¥¼ ë³€ê²½í–ˆë‹¤ë©´, `<object />` íƒœê·¸ì—ì„œ ìš”ì²­í•œ PDF íŒŒì¼ì€ ë‹¤ìš´ë¡œë“œë˜ì§€ ì•Šê³  ë¸Œë¼ìš°ì € ë‚´ì¥ PDF ë·°ì–´ë¡œ ë Œë”ë§ë©ë‹ˆë‹¤.



<br />



## ë§ˆì¹˜ë©°

ì´ë²ˆ ì´ìŠˆë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´, ìµœì´ˆ ì‹œë„í–ˆë˜ ë°©ë²•ì€ AWS S3 ì— PDF íŒŒì¼ì„ ë³„ë„ë¡œ ìš”ì²­í•œ í›„, ì‘ë‹µ ê²°ê³¼ì¸ PDF íŒŒì¼ ë°ì´í„°ë¥¼ `Blob` ìœ¼ë¡œ wrapping í•˜ëŠ” ë°©ì‹ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ ì´ë ‡ê²Œ wrapping í•œ Blob ì€ íŒŒì¼ë‚´ìš©ì— ë”°ë¼ ë Œë”ë§ì´ ë˜ì§€ ì•ŠëŠ” ì´ìŠˆê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.

Blob ìœ¼ë¡œ ë³€í™˜í•œ PDF íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•˜ì—¬ í™•ì¸í•˜ë©´ ì •ìƒì ìœ¼ë¡œ ì—´ë¦¬ì§€ë§Œ `<object />` íƒœê·¸ì— ë Œë”ë§ë˜ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ìˆë‹¤ë³´ë‹ˆ, AWS S3 ì— ì—…ë¡œë“œí•œ íŒŒì¼ì˜ Metadata ë¥¼ ìˆ˜ì •í•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

ì´ë²ˆ ì´ìŠˆë¥¼ í†µí•´, íŒŒì¼ì„ ë‹¤ë£¨ëŠ” ê²½ìš°ì—ëŠ” Metadata ì— ëŒ€í•œ í™•ì¸ ë° ì„¤ì •ì´ í•„ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ë°°ìš°ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
11:T1598,---
id: 4
title: 'Nextjs ì˜ useRouter mock ì •ì˜í•˜ê¸°'
description: 'Nextjs ì˜ useRouter ë¥¼ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•œ ë°©ë²•ì„ ì •ë¦¬í•©ë‹ˆë‹¤.'
thumbnail: https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg

featured: false
tags: [
    'jest',
    '@testing-library',
    'useRouter',
    'next-router-mock',
    'ìœ ë‹› í…ŒìŠ¤íŠ¸',
]

createdAt: '2024-01-06 17:30:00'
modifiedHistories: []
---

# Nextjs ì˜ useRouter mock ì •ì˜í•˜ê¸°

í˜ì´ì§€ ì´ë™ì„ ìœ„í•œ ì»´í¬ë„ŒíŠ¸ëŠ” ì›¹í˜ì´ì§€ì—ì„œ ë¹ ì§ˆ ìˆ˜ ì—†ëŠ” ì»´í¬ë„ŒíŠ¸ ì…ë‹ˆë‹¤.

Nextjs í”„ë¡œì íŠ¸ì—ì„œ í˜ì´ì§€ ì´ë™ì€ Nextjs ì˜ `useRouter` hook ì„ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•©ë‹ˆë‹¤.

ì´ëŸ¬í•œ ì»´í¬ë„ŒíŠ¸ëŠ” ë‚´ë¶€ì—ì„œ `useRouter` ë¥¼ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì—, Jest ì˜ `render()` ë¥¼ ì‚¬ìš©í•œ ë Œë”ë§ ì‹œ, ì—ëŸ¬ê°€ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤.

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” `useRouter` ë¥¼ mocking í•˜ì—¬ í…ŒìŠ¤íŠ¸ í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì •ë¦¬í•˜ê³ ì í•©ë‹ˆë‹¤.



<br />



## ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ ì‹¤íŒ¨

`useRouter` ë¥¼ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì•„ë¬´ëŸ° ì„¤ì •ì—†ì´ Jest ì˜ `render()` ë¥¼ ì‹¤í–‰ì‹œí‚¤ë©´, ë Œë”ë§ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.

ì´ëŠ” í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ `useRouter()` ê°€ ë Œë”ë§ ë˜ì§€ ì•Šìœ¼ë©´ì„œ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤.

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´, `next-router-mock` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
yarn add -D next-router-mock
```



<br />



## `useRouter` ë¥¼ ì‚¬ìš©í•˜ëŠ” í…ŒìŠ¤íŠ¸ìš© ì»´í¬ë„ŒíŠ¸

ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œ í…ŒìŠ¤íŠ¸í•  ì»´í¬ë„ŒíŠ¸ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

`onClick()` ë‚´ë¶€ì—ì„œ `router.push()` ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜ì´ì§€ë¥¼ ì´ë™ ì‹œí‚¤ëŠ” ë™ì‘ì„ í•©ë‹ˆë‹¤.

```tsx title="MyAnchor.tsx" showLineNumbers
import {
    useCallback,
    PropsWithChildren,
} from 'react';
import {
    useRouter,
} from 'next/navigation';

type TMyAnchorProps = PropsWithChildren<{
    className?: string;
    href: string;
}>;

function MyAnchor(props: TMyAnchorProps) {
    const {
        className,
        href,
        children,
    } = props;

    const router = useRouter();

    const onClick = useCallback(() => {
        router.push(href);
    }, [href]);

    return (
        <a 
            className={className}
            href={href}>
            {children}
        </a>
    );
}

export default MyAnchor;
```



<br />



## `jest.mock()` ì„ ì‚¬ìš©í•˜ì—¬ `useRouter()` mocking í•˜ê¸°

`jest.mock()` ì„ ì‚¬ìš©í•˜ë©´, íŠ¹ì • ëª¨ë“ˆì„ mocking í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ë¥¼ í™œìš©í•˜ì—¬, `next/navigation` ëª¨ë“ˆì„ mocking í•˜ì—¬ `useRouter` ê°€ í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ë Œë”ë§ë  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

```ts title="jest.mock() ìœ¼ë¡œ useRouter mocking í•˜ê¸°"
jest.mock('next/navigation', () => jest.requireActual('next-router-mock'));
```

* `jest.mock()`: íŠ¹ì • ëª¨ë“ˆì„ mocking í•©ë‹ˆë‹¤.
    * ì²«ë²ˆì§¸ ì¸ì: mocking í•  ëª¨ë“ˆëª…
    * ë‘ë²ˆì§¸ ì¸ì: mocking ë°˜í™˜ í•¨ìˆ˜
* `jest.requireActual()`: ì‹¤ì œ ëª¨ë“ˆì„ ê°€ì ¸ì˜µë‹ˆë‹¤. (`import`, `require`)

<br />

ìœ„ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ `useRouter` ë¥¼ mocking í•˜ê²Œ ë˜ë©´, ì •ìƒì ìœ¼ë¡œ ë Œë”ë§ë¨ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì•„ë˜ëŠ” í…ŒìŠ¤íŠ¸ ì˜ˆì‹œ ì½”ë“œ ì…ë‹ˆë‹¤.

```tsx title="MyAnchor í…ŒìŠ¤íŠ¸" showLineNumbers {7, 9, 12-15, 48-50}
import MyAnchor from './MyAnchor';
import {
    render,
    screen,
} from '@testing-library/react';
import userEvent from '@testing-library/user-event';
import mockRouter from 'next-router-mock';

jest.mock('next/navigation', () => jest.requireActual('next-router-mock'));

describe('<MyAnchor /> í…ŒìŠ¤íŠ¸', () => {
    beforeEach(() => {
        // mockRouter ì˜ pathname ì„ '/' ìœ¼ë¡œ ì´ˆê¸°í™” í•©ë‹ˆë‹¤.
        mockRouter.push('/');
    });

    it('DOM ì— ë Œë”ë§ ëœë‹¤.', () => {
        render(
            <div data-testid="test-MyAnchor">
                <MyAnchor href="/test-url">
                    Test Page
                </MyAnchor>
            </div>
        );

        const $anchor = screen.getByTestId('test-MyAnchor');

        expect($anchor).toBeInTheDocument();
    });

    it('click ì‹œ, href ê²½ë¡œë¡œ í˜ì´ì§€ ì´ë™í•œë‹¤.', async () => {
        render(
            <div data-testid="test-MyAnchor">
                <MyAnchor 
                    className="test-className"
                    href="test-url">
                    Test Page
                </MyAnchor>
            </div>
        );

        const $anchor = screen
            .getByTestId('test-MyAnchor')
            .querySelector('.test-className');

        await userEvent.click($anchor);

        expect(mockRouter).toMatchObject({
            pathname: '/test-url',
        });
    });
});
```

<br />

ê·¸ë¦¬ê³  `router` ê°€ í´ë¦­ëœ í›„, í˜ì´ì§€ ì´ë™ì´ ë˜ì—ˆëŠ”ì§€ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´, `mockRouter` ë¥¼ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

`mockRouter` ì˜ `pathname` ì— ì´ë™í•  í˜ì´ì§€ì˜ url ì´ ë°˜ì˜ë˜ì—ˆë‹¤ë©´, ì‹¤ì œë¡œëŠ” í˜ì´ì§€ ì´ë™ì´ ëœ ê²ƒìœ¼ë¡œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.



<br />



## ë§ˆì¹˜ë©°

í”„ë ˆì„ì›Œí¬ëŠ” ê°œë°œì— í•„ìš”í•œ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

ì´ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ì„œëŠ” í”„ë ˆì„ì›Œí¬ì™€ ë™ì¼í•œ í™˜ê²½ì„ ë§Œë“¤ì–´ì£¼ì–´ì•¼ í•¨ì„ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

ë‹¨ìˆœ ì»´í¬ë„ŒíŠ¸ë‚˜ í•¨ìˆ˜ë¥¼ í…ŒìŠ¤íŠ¸í•  ë•ŒëŠ” ì‹ ê²½ì“°ì§€ ì•Šì•˜ë˜ **ëª¨ë“ˆ mocking** ì´ í•„ìš”í•˜ê³ , `jest.mock()` ì„ ì‚¬ìš©í•˜ì—¬ mocking í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

`next-router-mock` ë¼ì´ë¸ŒëŸ¬ë¦¬ ì²˜ëŸ¼ ì˜¤í”ˆ ì†ŒìŠ¤ ë¬¸í™”ê°€ ìˆê¸°ì— ì €ë„ ì›¹ ê°œë°œì„ í•  ìˆ˜ ìˆìŒì„ ìƒˆì‚¼ ëŠë¼ê²Œ ë©ë‹ˆë‹¤. ğŸ« 
12:T14bb,---
id: 3
title: '"styled-components" ë¡œ êµ¬í˜„í•œ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸í•˜ê¸°'
description: '"styled-components" ë¥¼ ì‚¬ìš©í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•œ í™˜ê²½ì„¤ì •ì— ëŒ€í•´ ì•Œì•„ë´…ë‹ˆë‹¤.'
thumbnail: https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg

featured: false
tags: [
    'jest',
    'styled-components',
    '@testing-library',
    'ìœ ë‹› í…ŒìŠ¤íŠ¸',
]

createdAt: '2023-12-26 23:50:00'
modifiedHistories: []
---

# styled-components ë¡œ êµ¬í˜„í•œ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸í•˜ê¸°

ì»´í¬ë„ŒíŠ¸ì˜ style ì‘ì„±ì—ëŠ” ì—¬ëŸ¬ê°€ì§€ ì„ íƒì§€ê°€ ìˆìŠµë‹ˆë‹¤.

ê·¸ ì¤‘ ì €ëŠ” **styled-components** ë¥¼ ê°€ì¥ ì„ í˜¸í•©ë‹ˆë‹¤.

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” **styled-components** ë¥¼ ì‚¬ìš©í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•œ jest í™˜ê²½ì„ ì„¤ì •í•´ë³´ê² ìŠµë‹ˆë‹¤.



<br />



## ì„¤ì •ì—†ì´ jest ë¥¼ ì‹¤í–‰í•˜ë©´? throw Error!

**styled-components** ëŠ” `<ThemeProvider />` í•˜ìœ„ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë§Œì•½ ì¶”ê°€ ì„¤ì •ì—†ì´ jest ë¥¼ ì‹¤í–‰í•˜ê²Œ ë˜ë©´, `render()` í˜¸ì¶œì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.

```tsx title="ì—ëŸ¬ ë°œìƒ ì˜ˆì‹œ" showLineNumbers {10-12}
import MyComponent from './MyComponent';
import {
    render,
} from '@testing-library/react';

describe('MyComponent í…ŒìŠ¤íŠ¸', () => {
    it('DOM ì— ë Œë”ë§ ëœë‹¤.', () => {
        // render() í˜¸ì¶œ ì‹œ, Error ë°œìƒ
        render(
            <div data-testid="my-component">
                <MyComponent />
            </div>
        );

        const $myComponent = screen.getByTestId('my-component');

        expect($myComponent).toBeInTheDocument();
    });
});
```

```bash title="ì—ëŸ¬ ë©”ì‹œì§€"
TypeError: Cannot read properties of undefined (reading 'MarkdownAnchor')
```

<br />

ì•„ë˜ì™€ ê°™ì´ `render()` í˜¸ì¶œë¶€ì— `<ThemeProvider />` ë¥¼ í•¨ê»˜ ë„˜ê²¨ì£¼ë©´ í…ŒìŠ¤íŠ¸ê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx title="í…ŒìŠ¤íŠ¸ ì •ìƒ ë™ì‘" showLineNumbers {11, 13}
import MyComponent from './MyComponent';
import {
    render,
} from '@testing-library/react';

describe('MyComponent í…ŒìŠ¤íŠ¸', () => {
    it('DOM ì— ë Œë”ë§ ëœë‹¤.', () => {
        // render() ì„±ê³µ
        render(
            <div data-testid="my-component">
                <ThemeProvier theme={theme}>
                    <MyComponent />
                </ThemeProvier>
            </div>
        );

        const $myComponent = screen.getByTestId('my-component');

        // í…ŒìŠ¤íŠ¸ í†µê³¼
        expect($myComponent).toBeInTheDocument();
    });
});
```



<br />



## util ë˜ëŠ” hook ìœ¼ë¡œ `<ThemeProvider />` ì œê³µí•˜ê¸°

í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œ, ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë³„ë¡œ ì¤‘ë³µë˜ëŠ” ì½”ë“œë“¤ì´ ìƒê¸°ê²Œ ë©ë‹ˆë‹¤.

ì´ëŸ¬í•œ ë¶€ë¶„ë“¤ì„ ê³µí†µ í•¨ìˆ˜ë¡œ ë¬¶ì–´ë‚´ê±°ë‚˜ ì¶”ìƒí™”í•˜ì§€ ì•ŠëŠ” ì´ìœ ëŠ”, í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì½ì–´ë‚˜ê°€ëŠ” ê²ƒìœ¼ë¡œ ì–´ë–¤ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ëŠ”ì§€ íŒŒì•…í•  ìˆ˜ ìˆëŠ” ê²ƒì´ ë” í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ê°€ì¹˜ë¥¼ ë†’ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

<br />

í•˜ì§€ë§Œ `<ThemeProvider />` ë¥¼ ê°ì‹¸ëŠ” ì½”ë“œëŠ” **styled-components** ì„¤ì •ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ì´ìƒ, íŠ¹ì • ì»´í¬ë„ŒíŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ”ë° ì˜ë¯¸ë¥¼ ë‘ê¸° ì–´ë µìŠµë‹ˆë‹¤.

ê·¸ëŸ¬ë¯€ë¡œ ì´ ë¶€ë¶„ì€ ë³„ë„ì˜ **util í•¨ìˆ˜** ë˜ëŠ” **custom hook** ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬ ì‚¬ìš©í•´ë„ ë¬´ë°©í•´ ë³´ì…ë‹ˆë‹¤.

<br />

ì €ëŠ” **@testing-library** ì—ì„œ ì œê³µí•˜ëŠ” `render()` í•¨ìˆ˜ ì²˜ëŸ¼ `util í•¨ìˆ˜` ë¡œ ë§Œë“œëŠ” ê²ƒì´ ì¢€ ë” ì¼ê´€ë˜ëŠ” íŒ¨í„´ìœ¼ë¡œ ìƒê°í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•´ ë³´ì•˜ìŠµë‹ˆë‹¤.

```tsx title="@/utils/testing-library/renderTestComponent.tsx" showLineNumbers
// react
import { 
    ReactElement,
} from 'react';
// jest
import { 
    render,
} from '@testing-library/react';
// styled-components
import { 
    ThemeProvider,
} from 'styled-components';
import theme from '@/styles/theme';

const renderTestComponent = (element: ReactElement) => {
    const { rerender } = render(
        <ThemeProvider theme={theme('light')}>
            {element}
        </ThemeProvider>
    );

    return {
        rerender,
    };
};

export default renderTestComponent;
```

<br />

ì´ë¥¼ í…ŒìŠ¤íŠ¸ ì½”ë“œì— ì ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```tsx title="util í•¨ìˆ˜ë¥¼ ì ìš©í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ" showLineNumbers {5, 10}
import MyComponent from './MyComponent';
// import {
//     render,
// } from '@testing-library/react';
import renderTestComponent from '@/utils/testing-library/renderTestComponent';

describe('MyComponent í…ŒìŠ¤íŠ¸', () => {
    it('DOM ì— ë Œë”ë§ ëœë‹¤.', () => {
        // render() ì„±ê³µ
        renderTestComponent(
            <div data-testid="my-component">
                <MyComponent />
            </div>
        );

        const $myComponent = screen.getByTestId('my-component');

        // í…ŒìŠ¤íŠ¸ í†µê³¼
        expect($myComponent).toBeInTheDocument();
    });
});
```



<br />



## ë§ˆì¹˜ë©°

ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ í•˜ë‚˜ì”© ì¶”ê°€í•˜ë©°, coverage ê°€ ë†’ì•„ì ¸ ê°€ëŠ” ê²ƒì´ í•˜ë‚˜ì˜ ì¬ë¯¸ìš”ì†Œê°€ ë˜ì—ˆìŠµë‹ˆë‹¤.

`renderTestComponent()` ì²˜ëŸ¼ í…ŒìŠ¤íŠ¸ í™˜ê²½ì„ ìœ„í•œ ê¸°ëŠ¥ì„ ë§Œë“œëŠ” ê³¼ì •ì€ ì„±ì·¨ê°ê³¼ ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.

ì´ ë¸”ë¡œê·¸ í”„ë¡œì íŠ¸ëŠ” ê°œë°œ ì´ˆê¸° ì‹œì ì¸ ë§Œí¼, ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë„ë¡ ëª©í‘œë¥¼ ì¡ì•„ì•¼ê² ìŠµë‹ˆë‹¤!
13:T15fe,---
id: 2
title: '"jest.fn()" ìœ¼ë¡œ í•¨ìˆ˜ í…ŒìŠ¤íŠ¸í•˜ê¸°'
description: 'ì»´í¬ë„ŒíŠ¸ props ë¡œ ë„˜ê²¨ì£¼ëŠ” í•¨ìˆ˜ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ "jest.fn()" ì‚¬ìš©ë°©ë²•ì— ëŒ€í•œ ì •ë¦¬ ì…ë‹ˆë‹¤.'
thumbnail: https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg

featured: false
tags: [
    'jest.fn',
    'jest',
    '@testing-library',
    'ìœ ë‹› í…ŒìŠ¤íŠ¸',
]

createdAt: '2023-12-23 14:45:00'
modifiedHistories: []
---

# "jest.fn()" ìœ¼ë¡œ í•¨ìˆ˜ í…ŒìŠ¤íŠ¸í•˜ê¸°

ì»´í¬ë„ŒíŠ¸ì—ëŠ” props ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ì™€ í•¨ìˆ˜ë¥¼ ë„˜ê²¨ì£¼ë„ë¡ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” `jest.fn()` ì„ ì‚¬ìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ì— ë„˜ê²¨ì¤€ í•¨ìˆ˜ê°€ ì •ìƒë™ì‘í•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì •ë¦¬í•©ë‹ˆë‹¤.



<br />



## ì»´í¬ë„ŒíŠ¸ props ì— ë„˜ê²¨ì£¼ëŠ” í•¨ìˆ˜

ì»´í¬ë„ŒíŠ¸ props ì—ëŠ” í•¨ìˆ˜ë¥¼ ë„˜ê²¨ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì‚¬ìš©ì ì¸í„°ë ‰ì…˜ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ í•¨ìˆ˜ê°€ ë  ìˆ˜ë„ ìˆê³ , íŠ¹ì • ë™ì‘ì— ëŒ€í•œ callback ìœ¼ë¡œ í™œìš©ë˜ë„ë¡ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ë ‡ê²Œ ë„˜ê²¨ì¤€ í•¨ìˆ˜ê°€ ì˜ë„í•œ ì‹œì , ìƒí™©ì— í˜¸ì¶œì´ ë˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸í•˜ê³ ì í•©ë‹ˆë‹¤.



<br />



## í…ŒìŠ¤íŠ¸ ì˜ˆì‹œ ì»´í¬ë„ŒíŠ¸

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œ í…ŒìŠ¤íŠ¸ì— ì‚¬ìš©í•  input ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤.

```typescript title="./ChocobeInput.tsx" showLineNumbers
import {
    useCallback,
    memo,
    ChangeEvent,
} from 'react';

type TChocobeButtonProps = {
    value: string;
    onChange: (value: string) => void;
};

function ChocobeInput(props: TChocobeInputProps) {
    const {
        value,
        onChange,
    } = props;

    //
    // callback
    //
    const onChangeInput = useCallback((e: ChangeEvent<HTMLInputElement>) => {
        const value = e.target.value;
        onChange(value);
    }, [onChange]);

    return (
        <input
            value={value}
            onChange={onChangeInput} />
    );
}

export default memo(ChocobeInput);
```



<br />



## `jest.fn()` ìœ¼ë¡œ onChange mockup function ë§Œë“¤ê¸°

* ì°¸ê³ : [[Jest ê³µì‹ ë¬¸ì„œ] Using a mock function](https://jestjs.io/docs/mock-functions#using-a-mock-function)

`Jest` ëŠ” `fn()` ì´ë¼ëŠ” **í•¨ìˆ˜ mockup ë©”ì†Œë“œ** ë¥¼ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤.

ìœ„ ì˜ˆì‹œ ì»´í¬ë„ŒíŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•œë‹¤ë©´, `props.onChange()` ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ `jest.fn()` ì„ ì‚¬ìš©í•˜ê²Œ ë©ë‹ˆë‹¤.

```typescript title="jest.fn() ìœ¼ë¡œ mockup function ìƒì„±í•˜ê¸°" showLineNumbers {11, 16}
// UI Components
import ChocobeInput from './ChocobeInput';
// jest
import {
    render,
    screen,
} from '@testing-library/react';

describe('ChocobeInput ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸', () => {
    it('ChocobeInput ì— ê°’ì„ ì…ë ¥í•˜ë©´ onChange() ê°€ í˜¸ì¶œëœë‹¤.', async () => {
        const fn_onChange = jest.fn();

        render(
            <ChocobeInput
                value=""
                onChange={fn_onChange} />
        );
    });
});
```



<br />

## input ìš”ì†Œì— KeyboardEvent ë°œìƒì‹œí‚¤ê¸°

`fn_onChange()` í•¨ìˆ˜ëŠ” `<ChocobeInput />` ì»´í¬ë„ŒíŠ¸ì— `KeyboardEvent` ê°€ ë°œìƒí•˜ë©´ í˜¸ì¶œë˜ëŠ” êµ¬ì¡° ì…ë‹ˆë‹¤.

`userEvent` ë¥¼ ì‚¬ìš©í•˜ì—¬ `KeyboardEvent` ë‚˜ `click` ì´ë²¤íŠ¸ ë“±ì„ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆìœ¼ë©°, `<ChocobeInput />` ì»´í¬ë„ŒíŠ¸ì˜ ê²½ìš°ì—ëŠ” `KeyboardEvent` ê°€ ë°œìƒí•˜ë©´ `onChange()` ê°€ í˜¸ì¶œë©ë‹ˆë‹¤.

ì»´í¬ë„ŒíŠ¸ì— `KeyboardEvent` ë¥¼ ë°œìƒì‹œí‚¤ë ¤ë©´ `userEvent.type()` ë©”ì†Œë“œë¥¼ í™œìš©í•˜ê²Œ ë©ë‹ˆë‹¤.

```typescript title="userEvent.type() ìœ¼ë¡œ KeyboardEvent ë°œìƒì‹œí‚¤ê¸°" showLineNumbers {24}
// UI Components
import ChocobeInput from './ChocobeInput';
// jest
import {
    render,
    screen,
} from '@testing-library/react';
import {
    userEvent,
} from '@testing-library/user-event';

describe('ChocobeInput ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸', () => {
    it('ChocobeInput ì— ê°’ì„ ì…ë ¥í•˜ë©´ onChange() ê°€ í˜¸ì¶œëœë‹¤.', async () => {
        const fn_onChange = jest.fn();

        render(
            <ChocobeInput
                value=""
                onChange={fn_onChange} />
        );

        const $chocobeInput = screen.getByRole('textbox');

        await userEvent.type($chocobeInput, 'Hello');
    });
});
```



<br />



## KeyboardEvent ì— ì˜í•´ fn_onClick() í˜¸ì¶œ ì—¬ë¶€ í…ŒìŠ¤íŠ¸í•˜ê¸°

ìœ„ ì˜ˆì‹œ ì½”ë“œë¥¼ í†µí•´ `<ChocobeInput />` ì»´í¬ë„ŒíŠ¸ì— `KeyboardEvent` ê°€ ë°œìƒí•œ ìƒíƒœ ì…ë‹ˆë‹¤.

`userEvent.type(ìš”ì†Œ, ì…ë ¥ê°’)` ìœ¼ë¡œ ë„˜ê²¨ì¤€ `ì…ë ¥ê°’` ì€ ë¬¸ì 1ê°œë‹¹ 1ë²ˆì˜ KeyboardEvent ê°€ ë°œìƒí•˜ê²Œ ë˜ë¯€ë¡œ, ì´ 5ë²ˆì˜ KeyboardEvent ê°€ ë°œìƒí•œ ìƒíƒœ ì…ë‹ˆë‹¤.

ì´ë¥¼ í…ŒìŠ¤íŠ¸í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```typescript title="ë°œìƒí•œ ì´ë²¤íŠ¸ í…ŒìŠ¤íŠ¸" showLineNumbers
// UI Components
import ChocobeInput from './ChocobeInput';
// jest
import {
    render,
    screen,
} from '@testing-library/react';
import {
    userEvent,
} from '@testing-library/user-event';

describe('ChocobeInput ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸', () => {
    it('ChocobeInput ì— ê°’ì„ ì…ë ¥í•˜ë©´ onChange() ê°€ í˜¸ì¶œëœë‹¤.', async () => {
        const fn_onChange = jest.fn();

        render(
            <ChocobeInput
                value=""
                onChange={fn_onChange} />
        );

        const $chocobeInput = screen.getByRole('textbox');

        await userEvent.type($chocobeInput, 'Hello');

        expect(fn_onChange).toHaveBeenCalledTimes(5);
    });
});
```



<br />



## ë§ˆì¹˜ë©°

í•¨ìˆ˜ í…ŒìŠ¤íŠ¸ëŠ” `jest.fn()` ë¿ë§Œ ì•„ë‹ˆë¼ `jest.spyOn()` ìœ¼ë¡œë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.

ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œëŠ” `jest.spyOn()` ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²•ê³¼ `jest.fn()` ê³¼ ì°¨ì´ì ì— ëŒ€í•´ ì •ë¦¬í•˜ê² ìŠµë‹ˆë‹¤.
14:T1e27,---
id: 1
title: LLMOps ì™€ ì¹œí•´ì§€ê¸° 1 - ìš©ì–´ ì •ë¦¬
description: 'AI í•™ìŠµ ëª¨ë¸ì¸ Large Language Model ì— ëŒ€í•œ ì •ë¦¬ì…ë‹ˆë‹¤.'
thumbnail: https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg

featured: false
tags: []

createdAt: '2023-12-16 15:00:00'
modifiedHistories: []
---

# LLMOps ì™€ ì¹œí•´ì§€ê¸° 1 - ìš©ì–´ ì •ë¦¬

**LLMOps** ë€, Large Language Model ì˜ ì•½ìì´ë©° ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ ì…ë‹ˆë‹¤.

ì‚¬ë‚´ ì‹ ê·œ í”„ë¡œì íŠ¸ë¡œ **LLMOps** ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ UI íˆ´ ì„œë¹„ìŠ¤ë¥¼ ê°œë°œí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

ê°œë°œí•  ì„œë¹„ìŠ¤ì— ëŒ€í•œ ë„ë©”ì¸ ì§€ì‹ì´ í•„ìš”í•¨ì„ ëŠë¼ê²Œ ë˜ì—ˆê¸°ì—, ê´€ë ¨ ìš©ì–´ì™€ ê°œë…ì„ ì •ë¦¬í•˜ê³ ì í•©ë‹ˆë‹¤.

ì¼ë°˜ì¸ì˜ ì‹œì•¼ì—ì„œ ì¡°ì‚¬í•œ ë‚´ìš©ì„ ì •ë¦¬í•˜ëŠ” ëª©ì ì„ ê°€ì§€ê³  LLM ì— ì´ˆì ì„ ê°€ì§€ë¯€ë¡œ, ì¢€ ë” ì •í™•í•œ ë‚´ìš©ì€ ì²¨ë¶€í•œ **ì°¸ê³  ë§í¬** ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.



<br />



## ìš©ì–´ ì •ë¦¬

### ë¨¸ì‹ ëŸ¬ë‹

> ì°¸ê³ : [Machine learning (ML) â€“  ë¨¸ì‹ ëŸ¬ë‹ ì´ë€?](https://www.ibm.com/kr-ko/topics/machine-learning)

<br />

ê¸°ê³„í•™ìŠµ ë°©ë²•ì„ ë§í•©ë‹ˆë‹¤.

**ë”¥ëŸ¬ë‹** ì´ ì•„ë‹Œ **ë¨¸ì‹ ëŸ¬ë‹** ì€ ì •í˜•í™”ëœ ë°ì´í„°ë¥¼ í•™ìŠµí•˜ë©° ì‚¬ëŒì˜ ê°œì…ì´ ë§ì´ í•„ìš”í•©ë‹ˆë‹¤.

ì •í˜•í™”ëœ ë°ì´í„°ë€ ë°ì´í„° ê°ê°ì— ëŒ€í•˜ì—¬ **labeling** ì´ë‚˜ **tagging** ì‘ì—…ì„ í•œ í•™ìŠµ ë°ì´í„°ë¥¼ ë§í•©ë‹ˆë‹¤.

ë°ì´í„°ê°€ ë§ì„ìˆ˜ë¡ ì¢‹ì€ ê²°ê³¼ë¥¼ ê¸°ëŒ€í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, ì •í˜•í™”ëœ ë°ì´í„°ë¥¼ ë§Œë“œëŠ” ê³¼ì •ë¶€í„° ë§ì€ ì‹œê°„ê³¼ ë…¸ë ¥ì´ í•„ìš”í•˜ê²Œ ë©ë‹ˆë‹¤.



<br />



### ë”¥ëŸ¬ë‹

> ì°¸ê³ : [Machine learning (ML) â€“  ë¨¸ì‹ ëŸ¬ë‹ ì´ë€?](https://www.ibm.com/kr-ko/topics/machine-learning)

<br />

ë¨¸ì‹ ëŸ¬ë‹ì˜ í•˜ìœ„ ë¶„ì•¼ì´ë©°, ë¨¸ì‹ ëŸ¬ë‹ ì²˜ëŸ¼ ì •í˜•í™”ëœ ë°ì´í„°ë¡œ í•™ìŠµí•  ìˆ˜ ìˆìœ¼ë©°, ì¶”ê°€ë¡œ ë¹„ì •í˜• ë°ì´í„°ë¥¼ í•™ìŠµí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

ë¹„ì •í˜• ë°ì´í„° í•™ìŠµì„ ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ê°œë…ìœ¼ë¡œ **ì‹ ê²½ë§** ì´ ìˆìŠµë‹ˆë‹¤.



<br />



### ì‹ ê²½ë§

> ì°¸ê³ : [AWS - ì‹ ê²½ë§ì´ë€ ë¬´ì—‡ì¸ê°€ìš”?](https://aws.amazon.com/ko/what-is/neural-network/)
>
> ì°¸ê³ : [Machine learning (ML) â€“  ë¨¸ì‹ ëŸ¬ë‹ ì´ë€?](https://www.ibm.com/kr-ko/topics/machine-learning)

<br />

ì‹ ê²½ë§ì€ ë¨¸ì‹ ëŸ¬ë‹ì˜ í•˜ìœ„ ë¶„ì•¼ì´ë©° ë”¥ëŸ¬ë‹ì˜ ê¸°ê³„ í•™ìŠµ ì•Œê³ ë¦¬ì¦˜ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.

ì‹ ê²½ë§ì€ êµ¬ì¡°í™” ë˜ì§€ ì•Šì€ ë°ì´í„°ì™€ ëª…ì‹œì ì´ì§€ ì•Šì€ í›ˆë ¨ ë°©ì‹ì„ ì‚¬ìš©í•˜ë©°, ì´ë ‡ê²Œ í•™ìŠµí•œ ë°ì´í„°ë¥¼ **ì¼ë°˜í™”** í•˜ê³  **ì¶”ë¡ ** í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```bash
ì§ˆë¬¸1: "ê²°ì œ ë°©ë²•ì„ ì•Œë ¤ì¤˜"

ì§ˆë¬¸2: "ë¹„ìš© ì†¡ê¸ˆ ë°©ë²•ì„ ì•Œë ¤ì¤˜"
```

ìœ„ ì§ˆë¬¸ì€ ë¬¸ì¥ì€ ë‹¤ë¥´ì§€ë§Œ, ì»´í“¨í„°ëŠ” ì‹ ê²½ë§ì„ í†µí•´ "ê²°ì œ ë°©ë²• ì•ˆë‚´" ë¼ëŠ” ë™ì¼í•œ ë¬¸ë§¥ì„ì„ ì´í•´í•©ë‹ˆë‹¤.

<br />

ì‹ ê²½ë§ì€ **ë…¸ë“œ** ë¡œ êµ¬ì„±ë˜ë©°, ë…¸ë“œì—ëŠ” **ì…ë ¥ ë…¸ë“œ**, **ì¶œë ¥ ë…¸ë“œ** ë“±, ë¬´ìˆ˜íˆ ë§ì€ ë…¸ë“œë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.

ê° ë…¸ë“œëŠ” **ê´€ë ¨ì„±ì— ëŒ€í•œ ì„ê³„ì¹˜** ê°€ ìˆìœ¼ë©°, ì„ê³„ì¹˜ì— ë‹¤ë‹¤ë¥´ë©´ í™œì„±í™” ë˜ëŠ”ë°, ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ê´€ë ¨ëœ ë…¸ë“œë“¤ì˜ í™œì„±í™”ë¥¼ í†µí•´ **ì¼ë°˜í™”** ì™€ **ì¶”ë¡ ** ì„ í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.



<br />



### MLOps

> ì°¸ê³ : [MLOpsë€?](https://www.ibm.com/kr-ko/topics/machine-learning)

<br />

**MLOps** ëŠ” **Machine Learning** ê³¼ **Operations** ì˜ í•©ì„±ì–´ë¡œ, íš¨ìœ¨ì ì¸ ë¨¸ì‹ ëŸ¬ë‹ **ëª¨ë¸ ê°œë°œ**, **ë°°í¬**, **ìš´ìš©** ì„ ìœ„í•œ ê°œë°œ ë°©ë²•ë¡ ì´ë©°, **ìƒˆë¡œìš´ ëª¨ë¸ ê°œë°œì´ ëª©ì ** ì…ë‹ˆë‹¤.

**MLOps** ë¥¼ êµ¬ì„±í•˜ëŠ” ìš”ì†ŒëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

* ì§€ì†ì  í†µí•© (**CI**: Continuous Integration)
* ì§€ì†ì  ë°°í¬ (**CD**: Continuous Deployment)
* ì§€ì†ì  í•™ìŠµ (**CT**: Continuous Training)



<br />



### FMOps

> ì°¸ê³ : [ì¹´ì¹´ì˜¤ì—”í„°í”„ë¼ì´ì¦ˆ ê¸°ìˆ ë¸”ë¡œê·¸ Tech&(í…Œí¬ì•¤):í‹°ìŠ¤í† ë¦¬](https://tech.kakaoenterprise.com/196)

**FM(Foundation Model)** ì„ í•œêµ­ì–´ë¡œ **ê¸°ë°˜ ëª¨ë¸** ì´ë¼ê³  í•©ë‹ˆë‹¤.

**FMOps(Foundation Model Operations)** ëŠ” **ê¸°ë°˜ ëª¨ë¸ ê°œë°œ**, **ë°°í¬**, **ìš´ìš©** ì„ ìœ„í•œ ê°œë°œ ë°©ë²•ë¡  ì…ë‹ˆë‹¤.

**FMOps(Foundation Model Operations)** ì—ëŠ” ìì—°ì–´ ë¿ë§Œ ì•„ë‹ˆë¼, ì´ë¯¸ì§€ë‚˜ ìŒì„±ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ëª¨ë¸(ì˜ˆì‹œ: **DALL-E**) ì„ ëª¨ë‘ í¬í•¨í•©ë‹ˆë‹¤.



<br />



### LLMOps

> ì°¸ê³ : [ì¹´ì¹´ì˜¤ì—”í„°í”„ë¼ì´ì¦ˆ ê¸°ìˆ ë¸”ë¡œê·¸ Tech&(í…Œí¬ì•¤):í‹°ìŠ¤í† ë¦¬](https://tech.kakaoenterprise.com/196)

<br />

**FMOps** ì— í¬í•¨ë˜ëŠ” ê°œë…ì´ë©°, **ìì—°ì–´ ì²˜ë¦¬** ë¥¼ ìœ„í•œ ê°œë…ìœ¼ë¡œ **LLM(Large Language Model)** ì´ ìˆìŠµë‹ˆë‹¤.

**LLMOps(Large Langague Model Operations)** ëŠ” **LLM ê°œë°œ**, **ë°°í¬**, **ìš´ìš©** ì„ ìœ„í•œ ê°œë°œ ë°©ë²•ë¡ ì…ë‹ˆë‹¤.



<br />



### MLOps ì™€ FMOps ë¹„êµ

> ì°¸ê³ : [ì¹´ì¹´ì˜¤ì—”í„°í”„ë¼ì´ì¦ˆ ê¸°ìˆ ë¸”ë¡œê·¸ Tech&(í…Œí¬ì•¤):í‹°ìŠ¤í† ë¦¬](https://tech.kakaoenterprise.com/196)

<br />

* ëª©ì 
    * MLOps: **ìƒˆë¡œìš´ ëª¨ë¸ì„ ê°œë°œ** í•©ë‹ˆë‹¤.
    * FMOps: ì´ë¯¸ í•™ìŠµì´ ì™„ë£Œëœ ëª¨ë¸ê³¼ ìì‹ ì˜ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬, **ìì‹ ë§Œì˜ AI ì•±ì„ ê°œë°œ** í•©ë‹ˆë‹¤.
* ë‹¤ë£¨ëŠ” ëª¨ë¸ ìœ í˜•
    * MLOps: ê¸°ì—…ì´ ì§ì ‘ ëª¨ë¸ê³¼ íŒŒì´í”„ë¼ì¸ ëª¨ë‘ ê°œë°œí•˜ê²Œ ë©ë‹ˆë‹¤.
    * FMOps: **API ë¥¼ í†µí•´ì„œ ì›í•˜ëŠ” ëª¨ë¸ì„ ì‚¬ìš©** í•©ë‹ˆë‹¤.
* ì‚°ì¶œë¬¼
    * MLOps: **Model** ê³¼ ì´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” **API** ë¥¼ ë§Œë“¤ê²Œ ë©ë‹ˆë‹¤.
    * FMOps: LLM ê³¼ ì‚¬ìš©ìì˜ ì»¤ìŠ¤í…€ ë°ì´í„°ë¥¼ ì‚¬ìš©í•œ **AI ì–´í”Œë¦¬ì¼€ì´ì…˜** ì„ ë§Œë“¤ê²Œ ë©ë‹ˆë‹¤.



<br />



### í”„ë¡¬í”„íŠ¸

> [í”„ë¡¬í”„íŠ¸ (Prompt) ë€ ë¬´ì—‡ì¸ê°€? - ì •ì˜, ì›ë¦¬, fine tuning](https://www.thedatahunt.com/trend-insight/what-is-prompt)

<br />

ê°œë°œ í™˜ê²½ì—ì„œëŠ” ë‹¤ì–‘í•œ ì„¤ì •ê³¼ ì‹¤í–‰ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤.

ì´ë¥¼ UI ë¡œ ëª¨ë‘ ì œê³µí•˜ëŠ” ê²ƒì€ ì–´ë µê¸°ë„ í•˜ê³ , ì‚¬ìš©ì„±ë„ ë³µì¡í•´ì§‘ë‹ˆë‹¤.

ê·¸ë˜ì„œ CLI ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤.

í”„ë¡¬í”„íŠ¸ë€, ì»´í“¨í„°ì—ê²Œ ì‹¤í–‰í•  íƒœìŠ¤í¬ë¥¼ ì „ë‹¬í•˜ëŠ” ë©”ì‹œì§€, **ëª…ë ¹ì–´** ë¼ëŠ” ì˜ë¯¸ë¥¼ ê°€ì§‘ë‹ˆë‹¤.

AI ê°€ ë°œì „í•¨ì— ë”°ë¼ í˜„ì¬ëŠ” ëª…ë ¹ì–´ë¿ë§Œ ì•„ë‹ˆë¼, ìì—°ì–´ê¹Œì§€ ì»´í“¨í„°ê°€ ì´í•´í•  ìˆ˜ ìˆê²Œ ë˜ì–´ì„œ, í”„ë¡¬í”„íŠ¸ì˜ ì˜ë¯¸ëŠ” **ì»´í“¨í„°ì—ê²Œ ì–´ë–¤ íƒœìŠ¤í¬ë¥¼ ìˆ˜í–‰í• ì§€ ì „ë‹¬í•˜ëŠ” ìì—°ì–´ ë©”ì‹œì§€** ë¼ëŠ” ì˜ë¯¸ë¡œ í™•ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.



<br />



### í”„ë¡¬í”„íŠ¸ ì²´ì´ë‹

> ì°¸ê³ : [ì¹´ì¹´ì˜¤ì—”í„°í”„ë¼ì´ì¦ˆ ê¸°ìˆ ë¸”ë¡œê·¸ Tech&(í…Œí¬ì•¤):í‹°ìŠ¤í† ë¦¬](https://tech.kakaoenterprise.com/196)

<br />

í”„ë¡¬í”„íŠ¸ë¥¼ ì˜ ì‘ì„±í• ìˆ˜ë¡ AI ëŠ” ë” ì •í™•í•œ ì‘ë‹µì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

LLM ì— í•˜ë‚˜ì˜ í”„ë¡¬í”„íŠ¸ë¥¼ ì—°ê²°í•˜ì—¬ AI ì•±ì„ ë§Œë“¤ìˆ˜ë„ ìˆì§€ë§Œ, ë” ì •í™•í•œ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ LLM ì— ì™¸ë¶€ì˜ í”„ë¡¬í”„íŠ¸ë¥¼ í¬í•¨í•˜ì—¬ ë³µìˆ˜ì˜ í”„ë¡¬í”„íŠ¸ë¥¼ ì—°ê²°í•˜ì—¬ ê°œë°œí•˜ê²Œ ë˜ëŠ”ë°, ì´ë¥¼ **í”„ë¡¬í”„íŠ¸ ì²´ì´ë‹(Prompt Chaing)** ì´ë¼ê³  í•©ë‹ˆë‹¤.



<br />



### LangChain

> ì°¸ê³ : [ì¹´ì¹´ì˜¤ì—”í„°í”„ë¼ì´ì¦ˆ ê¸°ìˆ ë¸”ë¡œê·¸ Tech&(í…Œí¬ì•¤):í‹°ìŠ¤í† ë¦¬](https://tech.kakaoenterprise.com/196)

<br />

**LangChain** ì€ **í”„ë¡¬í”„íŠ¸ ì²´ì´ë‹** ì„ ì§€ì›í•˜ëŠ” í”„ë ˆì„ì›Œí¬ ì…ë‹ˆë‹¤.

LLM ê³¼ ì™¸ë¶€ì˜ í”„ë¡¬í”„íŠ¸ë“¤ì„ ììœ ë¡­ê²Œ ì—°ê²°í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.



<br />



### LLM ì•± ê°œë°œ í”Œë ›í¼

LLM ê³¼ LangChain ì„ ì‚¬ìš©í•˜ì—¬ AI ì•±ì„ ë§Œë“¤ ìˆ˜ ìˆëŠ” í”Œë ›í¼ì´ ìˆìŠµë‹ˆë‹¤. (í”„ë¡¬í”„íŠ¸ ì²´ì´ë‹ ì„œë¹„ìŠ¤ í”Œë ›í¼)

ëŒ€í‘œì ìœ¼ë¡œ **LangFlow** ì™€ **FlowiseAI** ê°€ ìˆìŠµë‹ˆë‹¤.

<br />

* LangFlow:
    * [LangFlow Github](https://github.com/logspace-ai/langflow)
    * ì„œë²„: `Python`
    * í”„ë¡ íŠ¸: `React(Typescript)`
* FlowiseAI
    * [FlowiseAI Github](https://github.com/FlowiseAI/Flowise)
    * ì„œë²„: `Express(Typescript)`
    * í”„ë¡ íŠ¸: `React(Javascript)`
15:T1d77,---
id: 1
title: Nextjs í”„ë¡œì íŠ¸ì˜ ìœ ë‹› í…ŒìŠ¤íŠ¸
description: 'ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ Jest ì™€ @testing-library ì„¤ì¹˜ ë° ì„¤ì •ì— ëŒ€í•œ ì •ë¦¬ ì…ë‹ˆë‹¤.'
thumbnail: https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg

featured: false
tags: [
    'nextjs',
    'jest',
    '@testing-library',
    'react',
    'ìœ ë‹› í…ŒìŠ¤íŠ¸',
]

createdAt: '2023-12-16 22:13:00'
modifiedHistories: []
---

# Nextjs í”„ë¡œì íŠ¸ì˜ ìœ ë‹› í…ŒìŠ¤íŠ¸

* ì°¸ê³ : [Next.js with React Testing Library, Jest, and TypeScript](https://medium.com/readytowork-org/next-js-with-react-testing-library-jest-and-typescript-a6aa11b85434)
* ì°¸ê³ : [Nextjs ê³µì‹ë¬¸ì„œ](https://nextjs.org/docs/pages/building-your-application/testing/jest)



<br />



<details>
<summary>ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ ë©€ë¦¬í•œ í•‘ê³„ì™€ ê²°ì‹¬</summary>

<br />

ìŠ¤íƒ€íŠ¸ì—…ì— ì¬ì§í•˜ë©° ë‹¤ì–‘í•œ í”„ë¡œì íŠ¸ë¥¼ ê°œë°œí•˜ê³  ìˆìŠµë‹ˆë‹¤.

ì§„í–‰í–ˆë˜ í”„ë¡œì íŠ¸ë¥¼ ë˜ëŒì•„ë³´ë©´, í•œê²°ê°™ì´ ì‹œê°„ì´ ë¶€ì¡±í•˜ì˜€ê³ , ì´ë¥¼ í•‘ê³„ì‚¼ì•„ ìœ ë‹› í…ŒìŠ¤íŠ¸ ì—†ì´ ê¸°ëŠ¥ êµ¬í˜„ë§Œì„ í•˜ì˜€ìŠµë‹ˆë‹¤.

<br />

### ğŸ¤ª ìœ ë‹› í…ŒìŠ¤íŠ¸ ì—†ì´ë„ ê°œë°œ ê°€ëŠ¥í•œë°?

í…ŒìŠ¤íŠ¸ì— ê´€í•œ ë¸”ë¡œê·¸ ê¸€ì´ë‚˜ **í´ë¦°ì½”ë“œ** ì™€ ê°™ì€ ì±…ì—ì„œ ì–¸ê¸‰í•œ **ì½”ë“œì— ëŒ€í•œ ì‹ ë¢°ë„** ëŠ” ì‚¬ì‹¤ ì²´ê°ì„ í•˜ì§€ ëª»í•˜ì˜€ìŠµë‹ˆë‹¤.

ì˜¤íˆë ¤ ìœ ë‹› í…ŒìŠ¤íŠ¸ ì‘ì„± ë•Œë¬¸ì— ê¸°ëŠ¥ êµ¬í˜„í•  ì‹œê°„ì„ ëºê¸´ë‹¤ëŠ” ëŠë‚Œì´ ì»¸ê³ , ìœ ë‹› í…ŒìŠ¤íŠ¸ ì—†ì´ë„ ê¸°ëŠ¥ ê°œë°œì€ ì¶©ë¶„íˆ ê°€ëŠ¥í–ˆìŠµë‹ˆë‹¤.

<br />

### ğŸ˜° `console.log` ì™€ ìˆ˜ì‘ì—… í…ŒìŠ¤íŠ¸ ë…¸ê°€ë‹¤...

ê¸°ëŠ¥ ê°œë°œì„ ì™„ë£Œí•œ í›„, ê¸°ì–µì´ íë¦¿í•´ì§ˆ ì •ë„ë¡œ ì‹œê°„ì´ ì§€ë‚˜ì„œ ê¸°ëŠ¥ ì¶”ê°€/ìˆ˜ì • ì‘ì—…ì´ ìƒê²¼ìŠµë‹ˆë‹¤.

ê¸°ì–µì„ ìƒê¸°í•˜ê¸° ìœ„í•´ ì—¬ê¸° ì €ê¸°ì— `console.log()` ë¥¼ ì‘ì„±í•˜ì˜€ê³ , ê¸°ëŠ¥ ì¶”ê°€ í›„ì—ëŠ” ë‚¨ì•„ìˆëŠ” `console.log()` ë¥¼ ì œê±°í•˜ëŠ” ê·€ì°®ì€ ì‘ì—…ë“¤ì´ ë‚¨ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

ì‚¬ì‹¤ í•¨ìˆ˜ëª…, ë©”ì†Œë“œëª…, ë³€ìˆ˜ëª… ë“±ì´ ëª¨ë‘ ëª…í™•í•˜ê³ , ëª¨ë“  ì½”ë“œê°€ ì„œë¡œ ì˜ì¡´ì„± ì—†ì´ ë…ë¦½ì ì¸ ê¸°ëŠ¥ì„ í•œë‹¤ë©´ `console.log()` ë¡œ í™•ì¸í•˜ëŠ” ì‘ì—…ì´ í•„ìš” ì—†ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ ê¸°ëŠ¥ì´ ì–¸ì œë‚˜ ë‹¨ìˆœ ëª…ë£Œí•˜ê²Œ êµ¬í˜„ë  ìˆ˜ ì—†ê³ , ë”ë”ìš± ì´ ì½”ë“œë¥¼ ì‘ì„±í•œ ì €ì˜ ì½”ë“œ í’ˆì§ˆì— ë¶€ì¡±í•¨ì´ ë§ê¸° ë•Œë¬¸ì— `console.log()` ë…¸ê°€ë‹¤ì™€ í•¨ê»˜í•  ê°€ëŠ¥ì„±ì´ ë³´ì˜€ìŠµë‹ˆë‹¤.

**ê·¸ë¦¬ê³  ê°€ì¥ í° ë¬¸ì œëŠ”, ë³€ê²½ëœ ê¸°ëŠ¥ì´ ë‹¤ë¥¸ ë¶€ë¶„ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”ì§€, ë²„ê·¸ë¥¼ ì°¾ê¸°ìœ„í•œ ë°˜ë³µëœ ìˆ˜ì‘ì—… í…ŒìŠ¤íŠ¸ë¥¼ í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.**

ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” ì½”ë“œ ë² ì´ìŠ¤ê°€ í´ ìˆ˜ë¡, ìˆ˜ì‘ì—… í…ŒìŠ¤íŠ¸ëŠ” ìƒë‹¹í•œ ì‹œê°„ì„ ì†Œë¹„í•˜ê²Œ í•˜ì˜€ìŠµë‹ˆë‹¤.

<br />

### ğŸ¤“ ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•œ í…ŒìŠ¤íŠ¸ ìë™í™”ê°€ í•„ìš”í•´!

ë§Œì•½ ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ ë‘ì—ˆë‹¤ë©´, ì•„ë˜ì™€ ê°™ì€ ë³´ìƒì´ ìˆì—ˆë‹¤ê³  ìƒê°ë©ë‹ˆë‹¤.

* í˜„ì¬ ì½”ë“œê°€ í…ŒìŠ¤íŠ¸ì— í†µê³¼í•˜ê³  ìˆìœ¼ë¯€ë¡œ, ì ì–´ë„ ì‘ì„±ëœ **Test Case** ë‚´ì—ì„œëŠ” ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì½”ë“œë‹¤.
* í…ŒìŠ¤íŠ¸ ëŒ€ìƒì´ ì§€ì›í•˜ëŠ” ëª¨ë“  ê¸°ëŠ¥ê³¼ `porps` ì— ëŒ€í•˜ì—¬, ë…ë¦½ì ì¸ **Use Case** ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
* **ìˆ˜ì •í•œ ì½”ë“œê°€ ì˜ë„í•œ ë¶€ë¶„ì—ë§Œ ì ìš©ë¨ì„ ë³´ì¥ ë°›ì„ ìˆ˜ ìˆë‹¤.**

<br />

ìœ„ì™€ ê°™ì€ ê¸°ëŒ€ê°’ì„ ê°€ì§€ë©°, **ìœ ë‹› í…ŒìŠ¤íŠ¸ì— ëŒ€í•œ ê²°ì‹¬** ì„ í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

</details>



<br />



## ìœ ë‹› í…ŒìŠ¤íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜

ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´, `jest` ì™€ `@testing-library` ë¥¼ ì‚¬ìš©í•˜ê³ ì í•©ë‹ˆë‹¤.

```bash title="jest ê´€ë ¨ íŒ¨í‚¤ì§€"
yarn add -D jest ts-jest ts-node jest-environment-jsdom @types/jest
```

```bash title="@testing-library ê´€ë ¨ íŒ¨í‚¤ì§€"
yarn add -D @testing-library/jest-dom @testing-library/react @testing-library/user-event
```


<br />



## jest ì‹¤í–‰ì„ ìœ„í•œ ëª…ë ¹ì–´ ì¶”ê°€í•˜ê¸°

`package.json` ì˜ `scripts` ë¥¼ í†µí•´ í”„ë¡œì íŠ¸ì— ëŒ€í•œ ëª…ë ¹ì–´ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë‹¨ë°œì„± í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ëª…ë ¹ì–´ì™€ ì½”ë“œ ë³€ê²½ë§ˆë‹¤ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ” ëª…ë ¹ì–´ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

```json title="package.json" {5-7}
{
    // ...
    "scripts": {
        // ...
        "test": "jest",
        "test:watch": "jest --watch",
        "test:watchAll": "jest --watchAll"
    },
    // ...
}
```



<br />



## jest ì„¤ì •í•˜ê¸°

[Nextjs ê³µì‹ ë¬¸ì„œ](https://nextjs.org/docs/pages/building-your-application/testing/jest#manual-setup) ì—ì„œë„ **jest** ì™€ **@testing-library** ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•ˆë‚´í•˜ê³  ìˆìŠµë‹ˆë‹¤.

<br />

**jest.config.ts** íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì§ì ‘ íŒŒì¼ì„ ìƒì„±í•˜ì§€ ì•Šê³ , CLI ë¥¼ í†µí•´ ì„¤ì • í…œí”Œë¦¿ì„ ìƒì„±í•˜ì—¬ ìˆ˜ì •í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ì„¤ì •í•˜ê² ìŠµë‹ˆë‹¤.

í„°ë¯¸ë„ì—ì„œ ì•„ë˜ì˜ ëª…ë ¹ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.

```bash title="npm ìœ¼ë¡œ jest.config.ts ìƒì„±í•˜ê¸°"
npm init jest@latest
```

```bash title="yarn ìœ¼ë¡œ jest.config.ts ìƒì„±í•˜ê¸°"
yarn create jest@latest
```

<br />

ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´, ëª‡ê°€ì§€ ì§ˆë¬¸(Y/N)ìœ¼ë¡œ ê¸°ë³¸ ì„¤ì •ê°’ì´ ë°˜ì˜ëœ **jest.config.ts** íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤.

ìƒì„±ëœ **jest.config.ts** ë¥¼ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•©ë‹ˆë‹¤.

```typescript showLineNumbers
import {
    Config,
} from 'jest';
import nextJest from 'next/jest.js';

const createJestConfig = nextJest({
    dir: './',
});

/**
 * For a detailed explanation regarding each configuration property, visit:
 * https://jestjs.io/docs/configuration
 */

const config: Config = {
    // The directory where Jest should output its coverage files
    coverageDirectory: "coverage",

    // Indicates which provider should be used to instrument code for coverage
    coverageProvider: "babel",

    // A preset that is used as a base for Jest's configuration
    preset: "ts-jest",

    // A list of paths to modules that run some code to configure or set up the testing framework before each test
    setupFilesAfterEnv: ["<rootDir>/jest.setup.ts"],

    // The test environment that will be used for testing
    testEnvironment: "jest-environment-jsdom",
};

export default createJestConfig(config);
```

<br />

`jest.config.ts` íŒŒì¼ì˜ **26ë²ˆì¤„** ì—ì„œ ì„¤ì •í•œ **jest.setup.ts** íŒŒì¼ì„ ìƒì„±í•˜ê³  ì•„ë˜ì˜ ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

```typescript title="jest.setup.ts"
import '@testing-library/jest-dom';
```

**jest.setup.ts** ì—ì„œ `import` í•˜ëŠ” ëª¨ë“ˆì€ **@testing-library** ì—ì„œ ì œê³µí•˜ëŠ” **í™•ì¥ matcher** ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

ì´ë¡œì¨ Nextjs ì˜ ìœ ë‹› í…ŒìŠ¤íŠ¸ ì„¤ì •ì„ ì™„ë£Œ í•˜ì˜€ìŠµë‹ˆë‹¤.



<br />



## ì²«ë²ˆì§¸ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ ë§Œë“¤ê¸°

ë¨¼ì € í…ŒìŠ¤íŠ¸ë¥¼ í•  React ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ê² ìŠµë‹ˆë‹¤.

```tsx title="Hello.tsx"
function Hello() {
    return (
        <h1>
            Hello World
        </h1>
    );
}

export default Hello;
```

<br />

*Hello.tsx* ì™€ ë™ì¼í•œ ê²½ë¡œì— **Hello.spec.tsx** íŒŒì¼ì„ ìƒì„±í•˜ê³ , ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

```typescript title="Hello.spec.tsx"
import Hello from './Hello';
import {
    render,
    screen,
} from '@testing-library/react';

describe('<Hello /> ì»´í¬ë„ŒíŠ¸ ìœ ë‹› í…ŒìŠ¤íŠ¸', () => {
    it('Dom ì— ë Œë”ë§ ë¨', () => {
        render(<Hello />);

        const $hello = screen.getByRole('heading', {
            level: 1,
        });

        expect($hello).toBeInTheDocument();
    });
});
```

<br />

ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•œ í›„, í„°ë¯¸ë„ì— ì•„ë˜ì˜ ëª…ë ¹ì–´ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìœ¼ë©°, ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ í†µê³¼ë¨ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash title="jest ì‹¤í–‰í•˜ê¸°"
yarn test
```
16:T2361,---
id: 1
title: Custom Hook ìœ¼ë¡œ ë¶„ë¦¬í•˜ë©° ë°œìƒí•œ ì‹¤ìˆ˜
description: 'Custom Hook ìœ¼ë¡œ ë¶„ë¦¬í•œ useEffect ê°€ ì—¬ëŸ¬ë²ˆ í˜¸ì¶œ ì¼€ì´ìŠ¤ ì¤‘ í•œê°€ì§€ë¥¼ ì •ë¦¬í•©ë‹ˆë‹¤.'
thumbnail: https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg

featured: false
tags: [
    'react',
    'custom hook',
]

createdAt: '2023-12-19 22:50:00'
modifiedHistories: []
---

# Custom Hook ìœ¼ë¡œ ë¶„ë¦¬í•˜ë©° ë°œìƒí•œ ì‹¤ìˆ˜

## ì‹¤ìˆ˜ê°€ ë°œìƒí•œ ìƒí™©

í˜ì´ì§€ê°€ mount ë˜ë©´ API ë¥¼ í˜¸ì¶œí•˜ëŠ” íë¦„ì€ ë¹ˆë²ˆíˆ ì‚¬ìš©ë©ë‹ˆë‹¤.

ê·¸ë¦¬ê³  API ì‘ë‹µì„ ë°›ìœ¼ë©´, í›„ì²˜ë¦¬ë¥¼ í•˜ëŠ” `useEffect` ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br />

ì´ë²ˆ ì´ìŠˆì—ì„œëŠ” Custom Hook ìœ¼ë¡œ ë‚˜ëˆ„ê¸° ì „ê¹Œì§€ëŠ” ì˜ë„í•œ ëŒ€ë¡œ API ì‘ë‹µê³¼ Effect ê°€ 1:1 ë¡œ ì‹¤í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.

```tsx title="MyPage.tsx" showLineNumbers {28-30, 32-34}
import {
    useCallback,
    useEffect,
} from 'react';
import {
    useAppSelector,
} from '@/redux/hooks';

function MyPage() {
    const triggerState = useAppSelector(({ triggerState }) => triggerState);

    const responseOfApi_1 = useAppSelector(({ api_1 }) => api_1);
    const responseOfApi_2 = useAppSelector(({ api_2 }) => api_2);

    const callApi_1 = useCallback(() => {
        // API í˜¸ì¶œ 1
    }, []);

    const callApi_2 = useCallback(() => {
        // API í˜¸ì¶œ 2
    }, []);

    useEffect(function handleTriggerState() {
        callApi_1();
        callApi_2();
    }, [triggerState]);

    useEffect(function onSuccessApi_1() {
        // API 1 ì‘ë‹µ í›„ì²˜ë¦¬
    }, [responseOfApi_1]);

    useEffect(function onSuccessApi_2() {
        // API 2 ì‘ë‹µ í›„ì²˜ë¦¬
    }, [responseOfApi_2]);

    return (
        // ...
    );
}

export default MyPage;
```

<br />

ì´ëŸ° ë°©ì‹ìœ¼ë¡œ **í˜¸ì¶œí•˜ëŠ” API ê°€ ëŠ˜ì–´ë‚˜ì, ì»´í¬ë„ŒíŠ¸ê°€ ì ì  ë³µì¡í•´ì¡ŒìŠµë‹ˆë‹¤.**

**ë˜í•œ ì‚¬ìš©ì ì¸í„°ë ‰ì…˜ì— ì˜í•´ ë‹¤ì‹œ í˜¸ì¶œí•´ì•¼ í•˜ëŠ” API ë„ ìˆì–´ì„œ** Custom Hook ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬ ì¬ì‚¬ìš©í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ìƒê°í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

<br />

ë¦¬í™í† ë§ ê²°ê³¼, API í›„ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•˜ëŠ” `useEffect` ê°€ ë²ˆë³µ ì‹¤í–‰ë˜ëŠ” í˜„ìƒì´ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤.

```tsx title="./hooks/useApi_1.ts" showLineNumbers {16-18}
import {
    useCallback,
    useEffect,
} from 'react';
import {
    useAppSelector
} from '@/redux/hooks';

const useApi_1 = () => {
    const responseOfApi_1 = useAppSelector(({ api_1 }) => api_1);

    const callApi_1 = useCallback(() => {
        // API í˜¸ì¶œ 1
    }, []);

    useEffect(function onSuccessApi_1() {
        // (ë²ˆë³µ ì‹¤í–‰ë¨) API 1 ì‘ë‹µ í›„ì²˜ë¦¬
    }, [responseOfApi_1]);

    return {
        callApi_1,
    };
};

export default useApi_1;
```

```tsx title="./hooks/useApi_2.ts" showLineNumbers {16-18}
import {
    useCallback,
    useEffect,
} from 'react';
import {
    useAppSelector
} from '@/redux/hooks';

const useApi_2 = () => {
    const responseOfApi_2 = useAppSelector(({ api_2 }) => api_2);

    const callApi_2 = useCallback(() => {
        // API í˜¸ì¶œ 2
    }, []);

    useEffect(function onSuccessApi_2() {
        // (ë²ˆë³µ ì‹¤í–‰ë¨) API 2 ì‘ë‹µ í›„ì²˜ë¦¬
    }, [responseOfApi_2]);

    return {
        callApi_2,
    };
};

export default useApi_2;
```

```tsx title="MyPage.tsx" showLineNumbers {10-11, 13-16}
import {
    useEffect,
} from 'react';
import useApi_1 from './hooks/useApi_1';
import useApi_2 from './hooks/useApi_2';

function MyPage() {
    const triggerState = useAppSelector(({ triggerState }) => triggerState);

    const { callApi_1 } = useApi_1();
    const { callApi_2 } = useApi_2();

    useEffect(function onSuccessApi_2() {
        callApi_1();
        callApi_2();
    }, [triggerState]);

    return (
        // ...
    );
};

export default MyPage;
```



<br />



## useEffect ì˜ dependencies ëŠ” ë¬´ì£„

`useEffect` ì˜ `dependencies` ëŠ” redux ì—ì„œ ê°€ì ¸ì˜¨ state ì˜€ìŠµë‹ˆë‹¤.

(ìœ„ì˜ ì˜ˆì‹œ ì½”ë“œì—ì„œëŠ” `triggerState` ë¡œ í‘œí˜„í•˜ì˜€ìŠµë‹ˆë‹¤.)

**`triggerState` ì— ì˜ë„ì¹˜ ì•Šì€ mutate ê°€ ë°œìƒí•˜ëŠ” ê²ƒì¸ê°€** ë¼ê³  ìƒê°í–ˆì§€ë§Œ, ì´ëŠ” ì•„ë‹ˆì˜€ìŠµë‹ˆë‹¤.



<br />



## Custom Hook ì„ ì¬ì‚¬ìš©í•œ ë§Œí¼ ë²ˆë³µë˜ëŠ” useEffect

Custom Hook ìœ¼ë¡œ ë¶„ë¦¬í•˜ëŠ” ë‹¨ìœ„ë¥¼ **íŠ¹ì • API í˜¸ì¶œ í•¨ìˆ˜** ì™€ **í•´ë‹¹ API ì‘ë‹µ í›„ì²˜ë¦¬ Effect** ë¡œ ë¬¶ì–´ì„œ êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.

ê·¸ë¦¬ê³  í•„ìš”í•œ ê³³ì—ì„œ ì¬ì‚¬ìš©ì„ í•˜ì˜€ìŠµë‹ˆë‹¤.

<br />

ê²°ê³¼ì ìœ¼ë¡œ ì¬ì‚¬ìš©í•œ íšŸìˆ˜ë§Œí¼ `useEffect` ê°€ ë²ˆë³µ ì‹¤í–‰ëœ ê²ƒì…ë‹ˆë‹¤.

Custom Hook ì€ ì‚¬ìš©í•˜ëŠ” ê³³ì— scope ë¥¼ ë§Œë“œëŠ” ê²ƒì´ë¯€ë¡œ, ë‹¹ì—°í•œ ê²°ê³¼ì„ì—ë„ ì•Œì•„ì°¨ë¦¬ì§€ ëª»í•˜ì˜€ìŠµë‹ˆë‹¤.



<br />



## API í˜¸ì¶œí•¨ìˆ˜ì™€ Effect ë¥¼ ë¶„ë¦¬í•œ Custom Hook ìœ¼ë¡œ ì´ìŠˆ í•´ê²°

ì›ì¸ì„ ì°¾ì€ í›„, API ì˜ í›„ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•˜ëŠ” `useEffect` ë¥¼ Custom Hook ì—ì„œ ë¹¼ê³ , ê¸°ì¡´ì˜ `MyPage` ì— ìœ„ì¹˜ì‹œì¼°ìŠµë‹ˆë‹¤.

ê·¸ëŸ¬ì ë²ˆë³µë˜ëŠ” `useEffect` ì´ìŠˆëŠ” í•´ê²° ë˜ì—ˆìŠµë‹ˆë‹¤.


```tsx title="./hooks/useApi_1.ts" showLineNumbers {15-17}
import {
    useCallback,
} from 'react';
import {
    useAppSelector
} from '@/redux/hooks';

const useApi_1 = () => {
    const responseOfApi_1 = useAppSelector(({ api_1 }) => api_1);

    const callApi_1 = useCallback(() => {
        // API í˜¸ì¶œ 1
    }, []);

    // useEffect(function onSuccessApi_1() {
    //     // API 1 ì‘ë‹µ í›„ì²˜ë¦¬
    // }, [responseOfApi_1]);

    return {
        callApi_1,
    };
};

export default useApi_1;
```

```tsx title="./hooks/useApi_2.ts" showLineNumbers {15-17}
import {
    useCallback,
} from 'react';
import {
    useAppSelector
} from '@/redux/hooks';

const useApi_2 = () => {
    const responseOfApi_2 = useAppSelector(({ api_2 }) => api_2);

    const callApi_2 = useCallback(() => {
        // API í˜¸ì¶œ 2
    }, []);

    // useEffect(function onSuccessApi_2() {
    //     // API 2 ì‘ë‹µ í›„ì²˜ë¦¬
    // }, [responseOfApi_2]);

    return {
        callApi_2,
    };
};

export default useApi_2;
```

```tsx title="MyPage.tsx" showLineNumbers {20-22, 24-26}
import {
    useEffect,
} from 'react';
import useApi_1 from './hooks/useApi_1';
import useApi_2 from './hooks/useApi_2';

function MyPage() {
    const triggerState = useAppSelector(({ triggerState }) => triggerState);

    const { callApi_1 } = useApi_1();
    const { callApi_2 } = useApi_2();

    useEffect(function onSuccessApi_2() {
        callApi_1();
        callApi_2();

        // eslint-disable-next-line
    }, [triggerState]);

    useEffect(function onSuccessApi_1() {
        // API 1 ì‘ë‹µ í›„ì²˜ë¦¬
    }, [responseOfApi_1]);

    useEffect(function onSuccessApi_2() {
        // API 2 ì‘ë‹µ í›„ì²˜ë¦¬
    }, [responseOfApi_2]);

    return (
        // ...
    );
};

export default MyPage;
```



<br />



## MyPage ì—ì„œ API í›„ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•˜ëŠ” useEffect ë¶„ë¦¬

ìœ„ ì½”ë“œì²˜ëŸ¼ ë¦¬í™í† ë§í•œ ì´í›„, ì˜ë„í•œ ë™ì‘ì€ ë˜ì—ˆìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ, **MyPage.tsx íŒŒì¼ì„ ì—´ì–´ë³´ê¸° ì „ê¹Œì§€ëŠ” API í›„ì²˜ë¦¬ë¥¼ ì–´ë””ì„œ í•˜ëŠ”ì§€ íŒŒì•…í•˜ê¸°ê°€ ì–´ë µë‹¤ê³  ëŠê»´ì¡ŒìŠµë‹ˆë‹¤.**

<br />

ê·¸ë˜ì„œ MyPage.tsx ì˜ **API í›„ì²˜ë¦¬ Effect ë“¤ì„ Custom Hook ìœ¼ë¡œ** ë‚˜ëˆ ë³´ê¸°ë¡œ í•˜ì˜€ìŠµë‹ˆë‹¤.

```ts title="./hooks/useMyPageApiEffects.ts" showLineNumbers {9-11, 13-15}
import {
    useEffect,
} from 'react';

const useMyPageApiEffects = () => {
    const responseOfApi_1 = useAppSelector(({ api_1 }) => api_1);
    const responseOfApi_2 = useAppSelector(({ api_2 }) => api_2);

    useEffect(function onSuccessApi_1() {
        // API 1 ì‘ë‹µ í›„ì²˜ë¦¬
    }, [responseOfApi_1]);

    useEffect(function onSuccessApi_2() {
        // API 2 ì‘ë‹µ í›„ì²˜ë¦¬
    }, [responseOfApi_2]);
}

export default useMyPageApiEffects;
```

```tsx title="MyPage.tsx" showLineNumbers {13}
import {
    useEffect,
} from 'react';
import useApi_1 from './hooks/useApi_1';
import useApi_2 from './hooks/useApi_2';
import useMyPageApiEffects from './hooks/useMyPageApiEffects';

function MyPage() {
    const triggerState = useAppSelector(({ triggerState }) => triggerState);

    const { callApi_1 } = useApi_1();
    const { callApi_2 } = useApi_2();
    useMyPagteApiEffects();

    useEffect(function onSuccessApi_2() {
        callApi_1();
        callApi_2();
    }, [triggerState]);

    return (
        // ...
    );
};

export default MyPage;
```



<br />



## ë§ˆì¹˜ë©°

ì—¬ê¸°ê¹Œì§€ ìˆ˜ì •í•œ ê²°ê³¼, MyPage.tsx ì—ì„œ API ì— ëŒ€í•œ í›„ì²˜ë¦¬ Effect ê°€ ìˆë‹¤ëŠ” ê²ƒì„ íŒŒì¼ ëª©ë¡ì„ í†µí•´ì„œë„ íŒŒì•…í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

ê°œì¸ì ìœ¼ë¡œëŠ” ìœ„ì™€ ê°™ì€ êµ¬ì¡°ì˜ Custom Hook ì´ ë§ˆìŒì— ë“¤ì—ˆìŠµë‹ˆë‹¤.

ì´ë ‡ê²Œ ë¶„ë¦¬í•œ Custom Hook ì€ ì•„ë˜ì™€ ê°™ì€ íŒŒì¼ êµ¬ì¡°ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤.

```bash
â””â”€â”€ MyPage
    â”œâ”€â”€ MyPage.tsx
    â””â”€â”€ hooks
        â”œâ”€â”€ useApi_1.ts
        â”œâ”€â”€ useApi_2.ts
        â””â”€â”€ useMyPageApiEffects.ts
``` 

<br />

ì‚¬ì†Œí•œ ì‹¤ìˆ˜ì— ì˜í•œ ì´ìŠˆë¼ì„œ ìì±… í¬ì¸íŠ¸ê°€ ë˜ì—ˆì§€ë§Œ, Custom Hook ìœ¼ë¡œ ë¶„ë¦¬í•˜ëŠ” êµ¬ì¡°ë¥¼ ìƒê°í•  ìˆ˜ ìˆëŠ” ê³„ê¸°ê°€ ë˜ì–´ì„œ ì„±ì·¨ê°ì´ ëŠê»´ì¡ŒìŠµë‹ˆë‹¤.
17:T1f1c,---
id: 7
title: ëª¨ë¸ íŒŒì¼ì„ Three.js ì— ë Œë”ë§í•˜ê¸°
description: '.gltf ë˜ëŠ” .glb í™•ì¥ìì¸ ëª¨ë¸ íŒŒì¼ì„ Three.js ì— ë¶ˆëŸ¬ì˜¤ê³  ë Œë”ë§í•˜ëŠ” ë°©ë²•ì„ ì •ë¦¬í•©ë‹ˆë‹¤.'
thumbnail: https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg

featured: false
tags: [
    'threejs',
    'javascript',
    '3d',
    'hdr',
    '.gltf',
    '.glb',
    'model',
]

createdAt: '2024-01-10 23:50:00'
modifiedHistories: []
---

# ëª¨ë¸ íŒŒì¼ì„ Three.js ì— ë Œë”ë§í•˜ê¸°

3D ëª¨ë¸ íŒŒì¼ì˜ í™•ì¥ìëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

* .gltf
    * 3D ëª¨ë¸ íŒŒì¼ì´ë©° JSON í˜•ì‹ì˜ ë°ì´í„°ì…ë‹ˆë‹¤.
* .glb
    * 3D ëª¨ë¸ íŒŒì¼ì´ë©° Binary ë°ì´í„°ì…ë‹ˆë‹¤.
    * **3D ëª¨ë¸ì„ ë Œë”ë§í•˜ì—¬ ì‚¬ìš©í•  ëª©ì ì´ë¼ë©´, .glb íŒŒì¼ì˜ ìš©ëŸ‰ì´ ë” ì ìœ¼ë¯€ë¡œ ì í•©í•©ë‹ˆë‹¤.**

<br />

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” 3D ëª¨ë¸ íŒŒì¼ì„ Three.js ì— ë Œë”ë§í•˜ëŠ” ë°©ë²•ê³¼ ë¶ˆëŸ¬ì˜¨ ëª¨ë¸ ê°ì²´ë¥¼ ìˆ˜ì •í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì •ë¦¬í•˜ê³ ì í•©ë‹ˆë‹¤.



<br />



## ìš©ì–´ ì •ë¦¬

### Luminance

Luminance ëŠ” **íœ˜ë„** ë¼ëŠ” ëœ»ì„ ê°€ì§‘ë‹ˆë‹¤.

Three.js ì—ì„œëŠ” **emissive** ê°€ **ë¹›ì„ ë°©ì¶œí•˜ëŠ” ì •ë„ì— ëŒ€í•œ ì†ì„±** ì´ì§€ë§Œ, 3D Tool ì¤‘ Cinema4D ì—ì„œëŠ” **Luminance** ë¡œ í‘œê¸°ë˜ì–´ ìˆìŠµë‹ˆë‹¤.



<br />



## ì˜ˆì‹œ ì½”ë“œ

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œ ì‚¬ìš©í•  ì˜ˆì‹œ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```js title="ì˜ˆì‹œ ì½”ë“œ" showLineNumbers
import {
    WebGLRenderer,
    Scene,
    PerspectiveCamera,

    Color,
    DirectionalLight,
    HemisphereLight,

    SphereGeometry,
    MeshStandardMaterial,
    Mesh,
} from 'three';
import {
    OrbitControls,
} from 'three/examples/jsm/controls/OrbitControls';
import './style.css';

/** @type { WebGLRenderer } */
let renderer;

/** @type { Scene } */
let scene;

/** @type { PerspectiveCamera } */
let camera;

/** @type { OrbitControls } */
let controls;

//
// core
//
function initCanvas() {
    const $canvas = document.createElement('canvas');
    $canvas.width = window.innerWidth;
    $canvas.height = window.innerHeight;

    const $app = document.querySelector('#app');
    $app.appendChild($canvas);

    return $canvas;
}

function initRenderer($canvas) {
    renderer = new WebGLRenderer({
        canvas: $canvas,
        antialias: true,
    });

    renderer.shadowMap.enabled = true;
}

function initScene() {
    scene = new Scene();
}

function initCamera() {
    camera = new PerspectiveCamera();
    camera.fov = 35;
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.position.set(0, 0, 2);

    camera.updateProjectionMatrix();
}

function initControls($emitter) {
    controls = new OrbitControls(camera, $emitter);
    controls.enableDamping = true;
}

//
// light
//
function initDirectionalLight() {
    const color = new Color('#fff');

    const light = new DirectionalLight(color);
    light.position.set(1, 1, 1);
    light.castShadow = true;

    scene.add(light);
}

function initHemisphereLight() {
    const skyColor = new Color('#fff');
    const groundColor = new Color('#000');

    const light = new HemisphereLight(
        skyColor,
        groundColor,
        0.25
    );

    scene.add(light);
}

//
// mesh
//
function initSphereMesh() {
    const geometry = new SphereGeometry();
    const material = new MeshStandardMaterial();
    const sphere = new Mesh(geometry, material);

    scene.add(sphere);
}

//
// executor
//
function render() {
    window.requestAnimationFrame(render);

    renderer.render(scene, camera);
    controls.update();
}

function init() {
    const $canvas = initCanvas();

    initRenderer($canvas);
    initScene();
    initCamera();
    initControls($canvas);

    initDirectionalLight();
    initHemisphereLight();

    initSphereMesh();

    render();
}

init();
```



<br />



## GLTFLoader ë¥¼ ì‚¬ìš©í•˜ì—¬ 3D ëª¨ë¸ íŒŒì¼ ë¶ˆëŸ¬ì˜¤ê¸°

.glb ë˜ëŠ” .gltf íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¤ê¸° ìœ„í•´ì„œëŠ” Loader ê°€ í•„ìš”í•©ë‹ˆë‹¤.

ì´ ë•Œ ì‚¬ìš©í•˜ëŠ” Loader ëŠ” GLTFLoader ì¸ìŠ¤í„´ìŠ¤ ì…ë‹ˆë‹¤.

ì•„ë˜ëŠ” .gltf íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¨ í›„, ë¶ˆëŸ¬ì˜¨ ëª¨ë¸ ê°ì²´ë¥¼ `console.log()` ë¡œ ì¶œë ¥í•˜ê³  ìˆìŠµë‹ˆë‹¤.

```js title="GLTFLoader import í•˜ê¸°" showLineNumbers{17}
import {
    GLTFLoader,
} from 'three/examples/jsm/loaders/GLTFLoader';
```

```js title="GLTFLoader ë¡œ .gltf íŒŒì¼ ë¶ˆëŸ¬ì˜¤ê¸°" showLineNumbers{112}
function initRubberDuck() {
    const loader = new GLTFLoader();
    loader.load('/gltf/rubberDuck/rubber_duck_toy_4k.gltf', gltf => {
        console.group('onLoad()');
        console.log('gltf: ', gltf);
        console.groupEnd();
    });
}
```

```js title="iniRubberDuct í•¨ìˆ˜ í˜¸ì¶œ" showLineNumbers{131} {13}
function init() {
    const $canvas = initCanvas();

    initRenderer($canvas);
    initScene();
    initCamera();
    initControls($canvas);

    initDirectionalLight();
    initHemisphereLight();

    initSphereMesh();
    initRubberDuck();

    render();
}
```

<br />

ë¶€ë¼ìš°ì € ì½˜ì†”ì—ì„œ í™•ì¸í•˜ë©´, GLTFLoader ê°€ ë¶ˆëŸ¬ì˜¨ 3D ëª¨ë¸ ê°ì²´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.



## ë¶ˆëŸ¬ì˜¨ 3D ëª¨ë¸ ê°ì²´ ë Œë”ë§í•˜ê¸°

ë¶ˆëŸ¬ì˜¨ 3D ëª¨ë¸ ê°ì²´ì—ëŠ” **scene ì†ì„±** ì´ ìˆìŠµë‹ˆë‹¤.

**scene ì†ì„±** ì„ Mesh ì™€ ë™ì¼í•˜ê²Œ ì·¨ê¸‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ ê¸°ì¡´ì˜ sphere Mesh ë¥¼ `scene.add()` ë©”ì„œë“œë¡œ ì¶”ê°€í–ˆë˜ ê²ƒê³¼ ë™ì¼í•œ ë°©ë²•ìœ¼ë¡œ `scene` ì— ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js title="3D ëª¨ë¸ ê°ì²´ ë Œë”ë§" showLineNumbers{112} {8-9}
function initRubberDuck() {
    const loader = new GLTFLoader();
    loader.load('/gltf/rubberDuck/rubber_duck_toy_4k.gltf', gltf => {
        console.group('onLoad()');
        console.log('gltf: ', gltf);
        console.groupEnd();

        gltf.scene.position.set(0, -0.15, 0);
        scene.add(gltf.scene);
    });
}
```

<img src="/markdownAssets/threejs/2024-01-10-01/2024-01-10-01-01.png" alt="3D ëª¨ë¸ ë Œë”ë§" />



<br />



## ì¶”ê°€: ë¶ˆë ë¡  3D ëª¨ë¸ì´ ê¹¨ì§€ëŠ” í˜„ìƒ

3D ëª¨ë¸ì„ Three.js ì— ë Œë”ë§í–ˆì„ ë•Œ, ê¹¨ì§€ëŠ” í˜„ìƒì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ëŠ” 3D Tool(ì˜ˆ: Cinema4D, Blender) ë¥¼ ì‚¬ìš©í•˜ì—¬, ëª¨ë¸ì˜ **Material** ì„ ìˆ˜ì •í•˜ì—¬ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê°€ì¥ ìœ ë ¥í•œ ì¼€ì´ìŠ¤ëŠ” **Material** ì„¤ì • ì¤‘, **Alpha** ì„¤ì •ì´ í™œì„±í™”ëœ ê²½ìš° ì…ë‹ˆë‹¤.

ë§Œì•½ **Alpha** ì„¤ì •ì´ í™œì„±í™”ë˜ì–´ ìˆì—ˆë‹¤ë©´, í•´ì œ í›„ export í•œ íŒŒì¼ì„ ì‚¬ìš©í•´ë´…ë‹ˆë‹¤.

<br />

Three.js ëŠ” ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì— 3D Tool ì˜ ë¬´ê±°ìš´ ê¸°ëŠ¥ë“¤ì€ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ì´ëŸ¬í•œ í˜„ìƒì´ ë‚˜íƒ€ë‚œë‹¤ë©´, **Material** ì„ ì¢€ ë” ê°€ë³ê²Œ í•˜ë©´ í•´ì†Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.



<br />



## 3D ëª¨ë¸ ê°ì²´ êµ¬ì¡° ì‚´í´ë³´ê¸°

Three.js ì— ë¶ˆëŸ¬ì˜¨ 3D ëª¨ë¸ì„ ê·¸ëŒ€ë¡œ ë Œë”ë§í–ˆì„ ë•Œ, ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ì–»ì§€ ëª»í•  ê°€ëŠ¥ì„±ì´ í½ë‹ˆë‹¤.

íŠ¹íˆ ê·¸ë¦¼ì ì„¤ì •ì€ 3D ëª¨ë¸ì„ ê°œë°œí•  ë•Œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ, Three.js ì— ë Œë”ë§í•  ê°ì²´ì˜ ì„¤ì •ì´ í•„ìš”í•œ ê²½ìš°ì…ë‹ˆë‹¤.

ì´ëŸ¬í•œ ì´ìœ ë¡œ Three.js ì— ë¶ˆëŸ¬ì˜¨ 3D ëª¨ë¸ ê°ì²´ì˜ ì£¼ìš” ì†ì„±ë“¤ì„ ìˆ˜ì •í•˜ê¸° ìœ„í•´, ë¨¼ì € ì†ì„±ë“¤ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

<br />

GLTFLoader ë¡œ ë¶ˆëŸ¬ìš´ 3D ëª¨ë¸ì„ gltf ë¡œ ì¹­í•˜ê² ìŠµë‹ˆë‹¤.

gltf ê°ì²´ëŠ” í¬ê²Œ ë‹¤ìŒê³¼ ê°™ì€ ì†ì„±ì´ ìˆìŠµë‹ˆë‹¤.

* scene
    * Mesh ì²˜ëŸ¼ ë‹¤ë£° ìˆ˜ ìˆìœ¼ë©°, ë Œë”ë§í•  ë•Œë„ ì‚¬ìš©í•©ë‹ˆë‹¤.
* animations
    * ì• ë‹ˆë©”ì´ì…˜ ê°ì²´ ì…ë‹ˆë‹¤.
* children
    * 3D Tool ë¡œ ê°œë°œí•  ë•Œ ë§Œë“  ë¶€ëª¨-ìì‹ ê³„ì¸µ ì…ë‹ˆë‹¤.
* material
    * í˜„ì¬ Mesh ì˜ Material ì„¤ì •ì…ë‹ˆë‹¤.

<br />

gltf ê°ì²´ì˜ scene ê³¼ children ì˜ ì¤‘ì²©êµ¬ì¡°ë¥¼ ì‚´í´ë³´ë©´ í¬ê²Œ 2ê°€ì§€ íƒ€ì…ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆìŠµë‹ˆë‹¤.

* Mesh
    * ì‹¤ì œ Mesh ê°ì²´ì…ë‹ˆë‹¤.
* Object3D
    * Mesh ê°€ ì•„ë‹Œ ê¸°íƒ€ íƒ€ì…ì…ë‹ˆë‹¤.
    * 3D Tool ì˜ Symmetry(ëŒ€ì¹­ë³µì‚¬), Subdivision(ê³¡ì„ ìƒì„±) ë“±ì˜ ê¸°ëŠ¥ìœ¼ë¡œ ë§Œë“  ë¶€ë¶„ (ì—„ë°€íˆ Mesh ëŠ” ì•„ë‹ˆê¸° ë•Œë¬¸)



<br />



## 3D ëª¨ë¸ ê°ì²´ ìˆ˜ì •í•˜ê¸°
18:T3408,---
id: 6
title: ë°°ê²½í™”ë©´ ë° í™˜ê²½ì¡°ëª… ì„¤ì •í•˜ê¸°
description: '360ë„ ì´ë¯¸ì§€ í™•ì¥ìì¸ .hdr íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ë°°ê²½í™”ë©´ì„ ì„¤ì •í•˜ê³ , ë°°ê²½í™”ë©´ì— ì˜í•œ í™˜ê²½ì¡°ëª… ì„¤ì •ì— ëŒ€í•œ ì •ë¦¬ì…ë‹ˆë‹¤.'
thumbnail: https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg

featured: false
tags: [
    'threejs',
    'javascript',
    '3d',
    'hdr',
    'background',
    '3D ë°°ê²½í™”ë©´',
    'í™˜ê²½ì¡°ëª…',
]

createdAt: '2024-01-08 23:50:00'
modifiedHistories: []
---

# ë°°ê²½í™”ë©´ ë° í™˜ê²½ì¡°ëª… ì„¤ì •í•˜ê¸°

ì§€ê¸ˆê¹Œì§€ëŠ” ë°°ê²½ì´ ì—†ëŠ” í™˜ê²½ì—ì„œ ë¬¼ì²´ë¥¼ ë Œë”ë§í•˜ì˜€ìŠµë‹ˆë‹¤.

3D í™˜ê²½ì—ì„œ ë°°ê²½í™”ë©´ì„ ì„¤ì •í•˜ê¸° ìœ„í•´ 360ë„ ì´ë¯¸ì§€ íŒŒì¼ì¸ **.hdr (Hign Dynamic Range)** íŒŒì¼ì„ ì„¤ì •í•´ ë³´ê³ ì í•©ë‹ˆë‹¤.

<br />

ì¶”ê°€ë¡œ ë°°ê²½í™”ë©´ì´ ë¬¼ì²´ì— ë°˜ì‚¬ë˜ëŠ” í™˜ê²½ì¡°ëª…ê¹Œì§€ ì„¤ì •í•´ ë³´ê² ìŠµë‹ˆë‹¤.

í™˜ê²½ì¡°ëª…ì„ ì„¤ì •í•˜ê²Œ ë˜ë©´, ë°°ê²½ì´ ìŠ¤í‹¸ì— ë°˜ì‚¬ë˜ëŠ” íš¨ê³¼ë¥¼ ì—°ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ë¥¼ ìœ„í•´ **Material** ì„¤ì • ë°©ë²•ì— ëŒ€í•´ì„œë„ ì •ë¦¬í•©ë‹ˆë‹¤.



<br />



## ì˜ˆì‹œ ì½”ë“œ

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œ ì‚¬ìš©í•  ì˜ˆì‹œ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```js title="ì˜ˆì‹œ ì½”ë“œ" showLineNumbers
import {
    WebGLRenderer,
    Scene,
    PerspectiveCamera,

    Color,

    DirectionalLight,
    DirectionalLightHelper,
    HemisphereLight,
    HemisphereLightHelper,

    Mesh,
    MeshStandardMaterial,

    SphereGeometry,
    PlaneGeometry,

    VSMShadowMap,
} from 'three';
import {
    OrbitControls,
} from 'three/examples/jsm/controls/OrbitControls';

import './style.css';

/** @type { WebGLRenderer } */
let renderer;

/** @type { Scene } */
let scene;

/** @type { PerspectiveCamera } */
let camera;

/** @type { OrbitControls } */
let controls;

//
// core
//
function initCanvas() {
    const $canvas = document.createElement('canvas');
    $canvas.width = window.innerWidth;
    $canvas.height = window.innerHeight;

    const $app = document.querySelector('#app');
    $app.appendChild($canvas);

    return $canvas;
}

function initRenderer($canvas) {
    renderer = new WebGLRenderer({
        canvas: $canvas,
        antialias: true,
    });

    renderer.shadowMap.enabled = true;
    renderer.shadowMap.type = VSMShadowMap;
}

function initScene() {
    scene = new Scene();
}

function initCamera() {
    camera = new PerspectiveCamera();
    camera.fov = 75;
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.position.set(-3, 3, 5);

    camera.updateProjectionMatrix();
}

function initControls($canvas) {
    controls = new OrbitControls(camera, $canvas);
    controls.enableDamping = true;
}

//
// light
//
function initDirectionalLight() {
    const color = new Color('#fff');

    const light = new DirectionalLight(
        color,
        0.75
    );
    light.position.set(1, 1, 1);
    light.castShadow = true;
    light.shadow.blurSamples = 30;
    light.shadow.radius = 12;

    const helper = new DirectionalLightHelper(light);

    scene.add(light);
    scene.add(helper);
}

function initHemisphereLight() {
    const skyColor = new Color('#fff');
    const groundColor = new Color('#000');

    const light = new HemisphereLight(
        skyColor,
        groundColor,
        0.25
    );

    const helper = new HemisphereLightHelper(light);

    scene.add(light);
    scene.add(helper);
}

//
// mesh
//
function initSphereMesh() {
    const geometry = new SphereGeometry();
    const material = new MeshStandardMaterial();
    const sphere = new Mesh(geometry, material);
    sphere.castShadow = true;

    scene.add(sphere);
}

function initPlaneMesh() {
    const geometry = new PlaneGeometry(10, 10);
    const material = new MeshStandardMaterial();
    const plane = new Mesh(geometry, material);
    plane.position.set(0, -1, 0);
    plane.rotation.set(Math.PI / -2, 0, 0);
    plane.receiveShadow = true;

    scene.add(plane);
}

//
// executor
//
function render() {
    window.requestAnimationFrame(render);

    controls.update();
    renderer.render(scene, camera);
}

(function init() {
    const $canvas = initCanvas();
    initRenderer($canvas);
    initScene();
    initCamera();
    initControls($canvas);

    initDirectionalLight();
    initHemisphereLight();

    initSphereMesh();
    initPlaneMesh();

    render();

    console.log('init()');
}());
```



<br />



## **.hdr** íŒŒì¼ì´ë€?

Three.js ëŠ” 3D í™˜ê²½ì…ë‹ˆë‹¤.

ë°°ê²½í™”ë©´ì„ ì„¤ì •í•˜ë ¤ë©´ ì¼ë°˜ì ì¸ 2D ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•´ì„œëŠ” ì—°ì¶œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

**.hdr (High Dynamic Range)** í™•ì¥ìë¥¼ ê°€ì§„ íŒŒì¼ì€ 360ë„ ì´ë¯¸ì§€ íŒŒì¼ì´ë©°, ì´ íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ 3D í™˜ê²½ì— ë°°ê²½í™”ë©´ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br />

360ë„ ë°°ê²½í™”ë©´ì€ ì•„ë˜ì˜ í”Œë ›í¼ì—ì„œ ì˜¤í”ˆì†ŒìŠ¤ë¡œ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

* [polyhaven.com](https://polyhaven.com/hdris)



<br />



## ìš©ì–´ ì •ë¦¬

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œ ì‚¬ìš©í•˜ê²Œë  ì»´í“¨í„° ê·¸ë˜í”½ìŠ¤ ìš©ì–´ì— ëŒ€í•´ ê°„ë‹¨í•˜ê²Œ ì •ë¦¬í•˜ê³  ê°€ê² ìŠµë‹ˆë‹¤.

### Vertex

3D ê³µê°„ì—ì„œ ê°€ì¥ ì‘ì€ ë‹¨ìœ„ì¸ **ì ** ì„ ë§í•©ë‹ˆë‹¤.

### Edge

2ê°œì˜ Vertex ë¥¼ ì—°ê²°í•˜ì—¬ ìƒì„±ëœ **ì„ ** ì„ ë§í•©ë‹ˆë‹¤.

### Polygon

ë³µìˆ˜ì˜ Edge ë¥¼ ì—°ê²°í•˜ì—¬ ë§Œë“¤ì–´ì§„ **ë©´** ì„ ë§í•©ë‹ˆë‹¤.

ê°€ì¥ ì‘ì€ Polygon ì€ 3ê°œì˜ Edge ë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ì‚¼ê°í˜• ì…ë‹ˆë‹¤.

### Mesh

ë³µìˆ˜ì˜ Polygon ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ë‹¤ê°í˜•ìœ¼ë¡œ, ì§€ê¸ˆê¹Œì§€ ì‚¬ìš©í•´ë³´ì•˜ë˜ Sphere, Box, Plane ë“±ì„ ë§í•©ë‹ˆë‹¤.

### Texture

[ì°¸ê³ : ë‚˜ë¬´ìœ„í‚¤](https://namu.wiki/w/%ED%85%8D%EC%8A%A4%EC%B2%98)

3D ë¬¼ì²´ì˜ í‘œë©´ì— 2D ì´ë¯¸ì§€ë¥¼ ì…í˜€ì„œ ë Œë”ë§ í•˜ëŠ” ë°©ì‹ì„ ë§í•©ë‹ˆë‹¤.

Mesh ë¥¼ êµ¬ì„±í•˜ëŠ” Polygon ì´ ë§ì„ìˆ˜ë¡ ì„±ëŠ¥ì„ ë§ì´ ì‚¬ìš©í•˜ê²Œ ë˜ëŠ”ë°, ì´ë¥¼ í•´ì†Œí•˜ê¸° ìœ„í•´ Mesh ì˜ í‘œë©´ì— 2D ì´ë¯¸ì§€ë¥¼ ì…íˆëŠ” ë°©ì‹ì˜ ë Œë”ë§ ìš”ì†Œ ì…ë‹ˆë‹¤.

### emissive

emission ì€ **(ë¹›)ë°©ì‚¬** ë¼ëŠ” ëœ»ì„ ê°€ì§‘ë‹ˆë‹¤.

ì»´í“¨í„° ê·¸ë˜í”½ìŠ¤ì—ì„œ **emissive** ë¼ëŠ” ìš©ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, ì´ëŠ” Mesh ê°€ ê´‘ì›ì´ ë˜ì—¬ ë¹›ì„ ë°©ì¶œí•œë‹¤ëŠ” ê²ƒì„ ë§í•©ë‹ˆë‹¤.

### (ì˜ë‹¨ì–´) equirectangular

ì •ì‚¬ê°í˜•

### (ì˜ë‹¨ì–´) reflection

ë°˜ì‚¬

### (ì˜ë‹¨ì–´) refraction

êµ´ì ˆ



<br />



## RGBELoader ë¥¼ ì‚¬ìš©í•˜ì—¬ .hdr íŒŒì¼ì„ Texture ë¡œ ë§Œë“¤ê¸°

3D ê³µê°„ ìì²´ë¥¼ í•˜ë‚˜ì˜ Mesh ë¼ê³  ê°€ì •í•´ ë³´ê² ìŠµë‹ˆë‹¤.

Three.js ì—ì„œëŠ” `Scene` ê°ì²´ê°€ ë°°ê²½ì˜ ì—­í• ì„ í•˜ê³  ìˆìŠµë‹ˆë‹¤.

ë°°ê²½í™”ë©´ì„ ì„¤ì •í•˜ê¸° ìœ„í•´ì„œëŠ” `Scene` ì˜ `background` ì— `Texture` ë¥¼ ì…í˜€ì„œ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br />

Three.js ëŠ” ë‹¤ì–‘í•œ **DataTextureLoader** ë¥¼ ì œê³µí•˜ëŠ”ë°, Loader ë¥¼ ì‚¬ìš©í•˜ë©´ 360ë„ ì´ë¯¸ì§€ì¸ `.hdr` íŒŒì¼ì„ ì½ì–´ì„œ `Texture` ê°ì²´ë¡œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ìƒì„±í•œ `Texture` ë¥¼ `Scene` ì˜ `background` ë¡œ ì…í˜€ì£¼ëŠ” ê²ƒìœ¼ë¡œ ë°°ê²½í™”ë©´ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

[Three.js ê³µì‹ë¬¸ì„œ - DataTextureLoader](https://threejs.org/docs/#api/en/loaders/DataTextureLoader)

<br />

```js title="import í•˜ê¸°" showLineNumbers {21, 27}
import {
    WebGLRenderer,
    Scene,
    PerspectiveCamera,

    Color,

    DirectionalLight,
    DirectionalLightHelper,
    HemisphereLight,
    HemisphereLightHelper,

    Mesh,
    MeshStandardMaterial,

    SphereGeometry,
    PlaneGeometry,

    VSMShadowMap,

    EquirectangularReflectionMapping,
} from 'three';
import {
    OrbitControls,
} from 'three/examples/jsm/controls/OrbitControls';
import {
    RGBELoader,
} from 'three/examples/jsm/loaders/RGBELoader';
```

```js title="Scene ì— ë°°ê²½í™”ë©´ ì„¤ì •í•˜ê¸°" showLineNumbers{68} {4-9}
function initScene() {
    scene = new Scene();

    const loader = new RGBELoader();
    loader.load('/hrd/background.hdr', texture => {
        texture.mapping = EquirectangularReflectionMapping;

        scene.background = texture;
    });
}
```

<br />

ë¨¼ì € import ë¶€ë¶„ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

**EquirectangularReflectionMapping** ì€ Texture ì˜ mapping ë°©ì‹ì„ ì œê³µí•˜ëŠ” **ê°ì²´** ì…ë‹ˆë‹¤.

Texture ê°ì²´ì˜ `mapping` ì†ì„±ì— **EquirectangularReflectionMapping** ê°ì²´ë¥¼ ëŒ€ì…í•˜ëŠ” ê²ƒìœ¼ë¡œ mapping ë°©ì‹ì„ ì„¤ì •í•˜ê²Œ ë©ë‹ˆë‹¤.

<br />

Three.js ì—ì„œ ì œê³µí•˜ëŠ” Texture mapping ë°©ì‹ì€ ì—¬ëŸ¬ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤.

[Three.js ê³µì‹ë¬¸ì„œ - Texture Constants](https://threejs.org/docs/index.html?q=texture#api/en/constants/Textures)

* UVMapping (default)
* CubeReflectionMapping 
* CubeRefractionMapping
* EquirectangularReflectionMapping
* EquirectangularRefractionMapping 
* CubeUVReflectionMapping

<br />

ìœ„ì—ì„œ ì‚¬ìš©í•œ **EquirectangularReflectionMapping** ì€ **environment map** ì— ì‚¬ìš©í•˜ëŠ” Texture mapping ë°©ì‹ ì…ë‹ˆë‹¤.

ì´ mapping ë°©ì‹ì„ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ `.hdr` ì´ë¯¸ì§€ê°€ ë§ˆì¹˜ ë°°ê²½ì²˜ëŸ¼ ë Œë”ë§ë©ë‹ˆë‹¤.

<br />

Texture ì˜ mapping ë°©ì‹ì„ ì„¤ì •í•´ì¤€ ë’¤, **Scene** ì˜ `background` ì†ì„±ì— Texture ë¥¼ ëŒ€ì…í•˜ë©´ ë°°ê²½í™”ë©´ì´ ë Œë”ë§ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<img src="/markdownAssets/threejs/2024-01-08-01/2024-01-08-01-01.png" alt="ë°°ê²½í™”ë©´ ì„¤ì •" />



<br />



## í™˜ê²½ì¡°ëª… ì„¤ì •

ë¹›ì´ ìˆì–´ì•¼ ë¬¼ì²´ê°€ ë Œë”ë§ ë©ë‹ˆë‹¤.

ì§€ê¸ˆê¹Œì§€ëŠ” DirectionalLight ë‚˜ HemisphereLight ì²˜ëŸ¼ ì¡°ëª… ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ë¹›ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

ì´ë²ˆì—ëŠ” ì¡°ëª…ì„ ëª¨ë‘ ì œê±°í•˜ê³ , í™˜ê²½ì¡°ëª…ìœ¼ë¡œ ë Œë”ë§í•˜ê³ ì í•©ë‹ˆë‹¤.

<br />

**Scene** ì˜ `environment` ì†ì„±ì— í™˜ê²½ì¡°ëª…ìœ¼ë¡œ ì‚¬ìš©í•  Texture ë¥¼ ëŒ€ì…í•˜ì—¬ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

`background` ë¡œ ì‚¬ìš©í–ˆë˜ Texture ë¥¼ í™˜ê²½ì¡°ëª…ìœ¼ë¡œë„ ì‚¬ìš©í•˜ë„ë¡ í•´ë³´ê² ìŠµë‹ˆë‹¤.

```js title="í™˜ê²½ì¡°ëª… ì„¤ì •í•˜ê¸°" showLineNumbers{68} {9}
function initScene() {
    scene = new Scene();

    const loader = new RGBELoader();
    loader.load('/hdr/background.hdr', texture => {
        texture.mapping = EquirectangularReflectionMapping;

        scene.background = texture;
        scene.environment = texture;
    });
}
```

<img src="/markdownAssets/threejs/2024-01-08-01/2024-01-08-01-02.png" alt="í™˜ê²½ì¡°ëª… ì„¤ì •í•˜ê¸°" />

<br />

í™˜ê²½ì¡°ëª…ìœ¼ë¡œ ì„¤ì •í•œ Texture ì˜ ë°ì€ ë¶€ë¶„ê³¼ ì–´ë‘ìš´ ë¶€ë¶„ì´ ì¡°ëª…ì˜ ì„¸ê¸°ë¡œ ì ìš©ë˜ì–´ ë°°ê²½í™”ë©´ê³¼ ìì—°ìŠ¤ëŸ¬ìš´ ì—°ì¶œì´ ë©ë‹ˆë‹¤.



<br />



## ë°°ê²½í™”ë©´ì„ ë°˜ì‚¬í•˜ëŠ” Mesh ë§Œë“¤ê¸°

Sphere ì™€ Plane Mesh ë¥¼ ë Œë”ë§í•˜ê³  ìˆìŠµë‹ˆë‹¤.

í˜„ì¬ëŠ” ê° Mesh ì— ì„¤ì •í•œ **MeshStandardMaterial** ìƒ‰ìƒ ê·¸ëŒ€ë¡œ ë Œë”ë§ë˜ëŠ” ìƒíƒœì…ë‹ˆë‹¤.

ì´ë²ˆì—ëŠ” Mesh ì˜ Material ì— ì„¤ì •ì„ ì¶”ê°€í•˜ì—¬, ë°°ê²½í™”ë©´ì´ Mesh ì— ë¹„ì¶”ì–´ì§€ëŠ” íš¨ê³¼ë¥¼ ì—°ì¶œí•´ ë³´ê² ìŠµë‹ˆë‹¤.

<br />

Mesh ì˜ ì™¸ê´€ì€ Material ì— ì˜í•´ ë Œë”ë§ ê²°ê³¼ê°€ ë‹¬ë¼ì§‘ë‹ˆë‹¤.

Material ì€ Mesh ì˜ ìƒ‰ìƒì´ë‚˜ ì§ˆê°ì„ í‘œí˜„í•˜ëŠ” ê°ì²´ì…ë‹ˆë‹¤.

ë°°ê²½í™”ë©´ì„ ë°˜ì‚¬í•˜ëŠ” Mesh ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” Material ì„¤ì •ì„ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js title="ë°°ê²½í™”ë©´ì„ ë°˜ì‚¬í•˜ëŠ” Mesh ì„¤ì •í•˜ê¸°" showLineNumbers{134} {3-8}
function initSphereMesh() {
    const geometry = new SphereGeometry();
    const material = new MeshStandardMaterial({
        color: new Color('#fff'),
        roughness: 0,
        metalness: 1,
        // emissive: Color('#000'),
    });
    const sphere = new Mesh(geometry, material);
    sphere.castShadow = true;

    scene.add(sphere);
}
```

<img src="/markdownAssets/threejs/2024-01-08-01/2024-01-08-01-03.png" alt="Material ì„¤ì •" />

<br />

**MeshStandardMaterial** ìƒì„±ì params ë¥¼ ì‚¬ìš©í•˜ì—¬ Material ë¥¼ ì„¤ì •í•˜ê³  ìˆìŠµë‹ˆë‹¤.

params ì˜ ê° ì†ì„±ì€ ë‹¤ìŒê³  ê°™ì€ ì„¤ì •ì„ ê°€ì§‘ë‹ˆë‹¤.

* `color`: 
    * Material ìì²´ì˜ ìƒ‰ìƒì…ë‹ˆë‹¤. (Mesh ì˜ ìƒ‰ìƒì´ ë©ë‹ˆë‹¤.)
* `roughness`: 
    * ë°°ê²½í™”ë©´ì„ ë°˜ì‚¬í•˜ëŠ” Mesh ì˜ ì§ˆê°ì„ ì–¼ë§Œí¼ ê±°ì¹ ê²Œ í‘œí˜„í• ì§€ì— ëŒ€í•œ ì„¤ì •ì…ë‹ˆë‹¤.
    * `0` ì„¤ì • ì‹œ, ë°°ê²½í™”ë©´ì´ ê¹”ë”í•˜ê²Œ ë°˜ì‚¬ë©ë‹ˆë‹¤.
    * `1` ì„¤ì • ì‹œ, ë°˜ì‚¬ë˜ëŠ” ë°°ê²½í™”ë©´ì´ ë¶„ê°„í•˜ê¸° ì–´ë ¤ìš¸ ì •ë„ë¡œ ì–´ê¸€ì–´ì ¸ì„œ ë Œë”ë§ë©ë‹ˆë‹¤.
* `metalness`:
    * ë§¤íƒˆ ì¬ì§ˆì²˜ëŸ¼ ë³´ì´ëŠ” ì •ë„ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
    * `0` ì„¤ì • ì‹œ, ë©”íƒˆ ëŠë‚Œ ë³´ë‹¤ëŠ” í”Œë¼ìŠ¤í‹± ëŠë‚Œì´ ê°•í•˜ë©°, í•¨ê»˜ ì„¤ì •í•œ `color` ì˜ ë¹„ì¤‘ì´ ë” í¬ê²Œ ë Œë”ë§ë©ë‹ˆë‹¤.
    * `1` ì„¤ì • ì‹œ, í•¨ê»˜ ì„¤ì •í•œ `color` ëŠ” ê±°ì˜ ë³´ì´ì§€ ì•Šê³ , ë©”íƒˆ ëŠë‚Œìœ¼ë¡œ ë Œë”ë§ë©ë‹ˆë‹¤.
* `emissive`:
    * Mesh(Material) ì´ ë°©ì¶œí•˜ëŠ” ë¹›ì˜ ìƒ‰ìƒì„ ì„¤ì •í•©ë‹ˆë‹¤.
    * `ë°ì€ìƒ‰` ì„¤ì • ì‹œ, ê´‘ì›ì²˜ëŸ¼ ë°ì€ ë¹›ì„ ë‚´ë©°, ìì‹ ì˜ ê·¸ë¦¼ìê°€ ê±°ì˜ ìƒê¸°ì§€ ì•ŠìŠµë‹ˆë‹¤.
    * `ì–´ë‘ìš´ìƒ‰` ì„¤ì • ì‹œ, ë°œê´‘í•˜ëŠ” ë¹›ì´ ê±°ì˜ ì—†ìœ¼ë©°, ìì‹ ì˜ ê·¸ë¦¼ìê°€ ë¹„êµì  ì„ ëª…í•˜ê²Œ ìƒê¹ë‹ˆë‹¤.
    * ì¼ë°˜ì ìœ¼ë¡œ í™œìš©ë„ê°€ ë–¨ì–´ì§€ëŠ” ì„¤ì •ì´ë¼ì„œ, ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.



<br />



## ë§ˆì¹˜ë©°

Material ì„¤ì •ì„ í†µí•´ ë°°ê²½í™”ë©´ì„ ë°˜ì‚¬í•˜ëŠ” íš¨ê³¼ë¥¼ ì—°ì¶œí•´ ë³´ì•˜ìŠµë‹ˆë‹¤.

ì´ë²ˆì— ì‚¬ìš©í•œ ë°˜ì‚¬íš¨ê³¼ëŠ” ë°°ê²½í™”ë©´ë§Œì„ ë°˜ì‚¬í•˜ê³ , Mesh ê°„ì˜ ë°˜ì‚¬ëŠ” ë Œë”ë§ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

**Post Processing** ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´, ê±°ìš¸ì²˜ëŸ¼ ë‹¤ë¥¸ Mesh ì™€ ìƒí˜¸ì‘ìš©í•˜ë©° ë°˜ì‚¬í•˜ëŠ” ì—°ì¶œì´ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.

ì´ ë¶€ë¶„ì€ ì°¨í›„ ì •ë¦¬í•  ì˜ˆì •ì…ë‹ˆë‹¤.

[Three.js ê³µì‹ë¬¸ì„œ - ê±°ìš¸íš¨ê³¼ ì˜ˆì‹œ](https://threejs.org/examples/?q=mirror#webgl_mirror)
19:T2c06,---
id: 5
title: ê·¸ë¦¼ì í‘œí˜„í•˜ê¸°
description: 'ê·¸ë¦¼ì ì„¤ì •ë°©ë²•ê³¼ íŠ¹ì§•ì— ëŒ€í•´ ì •ë¦¬í•©ë‹ˆë‹¤.'
thumbnail: https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg

featured: false
tags: [
    'threejs',
    'javascript',
    '3d',
    'shadow',
]

createdAt: '2024-01-07 23:50:00'
modifiedHistories: []
---

# ê·¸ë¦¼ì í‘œí˜„í•˜ê¸°

ê·¸ë¦¼ìë¥¼ í‘œí˜„í•˜ê¸° ìœ„í•´ì„œëŠ” ë¬¼ì²´ì™€ ì¡°ëª…ì˜ ê°ë„, ê·¸ë¦¼ìì˜ í¬ê¸°, í˜•íƒœ ë“±ì˜ ìƒí˜¸ì‘ìš© ì—°ì‚°ì´ í•„ìš”í•©ë‹ˆë‹¤.

ê·¸ë˜ì„œ Three.js ì˜ ê·¸ë¦¼ì ì„¤ì •ì˜ ê¸°ë³¸ê°’ì€ ëª¨ë‘ ë¯¸ì‚¬ìš©ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

ì´ ë•ë¶„ì— ê°œë°œìê°€ ì›í•˜ëŠ” ì¡°ëª…ê³¼ ì›í•˜ëŠ” ë¬¼ì²´ì˜ ê·¸ë¦¼ìë¥¼ ì§ì ‘ ì§€ì •í•˜ì—¬ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.



<br />



## ì˜ˆì‹œ ì½”ë“œ

ì´ì „ í¬ìŠ¤íŒ…ì—ì„œ ë°”ë‹¥(ë•…) ì„ ë§Œë“¤ì—ˆë˜ ì½”ë“œì— ê·¸ë¦¼ì ì„¤ì •ì„ ì¶”ê°€í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```js title="ì˜ˆì‹œ ì½”ë“œ" showLineNumbers
import {
    WebGLRenderer,
    Scene,
    PerspectiveCamera,

    Mesh,
    MeshStandardMaterial,
    SphereGeometry,
    PlaneGeometry,

    Color,
    HemisphereLight,
    HemisphereLightHelper,
    DirectionalLight,
    DirectionalLightHelper,
} from 'three';
import {
    OrbitControls,
} from 'three/examples/jsm/controls/OrbitControls';
import './style.css';

/** @type { WebGLRenderer } */
let renderer;

/** @type { Scene } */
let scene;

/** @type { PerspectiveCamera } */
let camera;

/** @type { OrbitControls } */
let controls;

function initCanvas() {
    const $canvas = document.createElement('canvas');
    $canvas.width = window.innerWidth;
    $canvas.height = window.innerHeight;

    const $app = document.querySelector('#app');
    $app.appendChild($canvas);

    return $canvas;
}

function initScene() {
    scene = new Scene();
}

function initCamera() {
    camera = new PerspectiveCamera();
    camera.fov = 35;
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.position.set(0, 0, 12);

    camera.updateProjectionMatrix();
}

function initControls($canvas) {
    controls = new OrbitControls(camera, $canvas);
    controls.enableDamping = true;
}

function initHemisphereLight() {
    const skyColor = new Color('#fff');
    const groundColor = new Color('#000');
    const light = new HemisphereLight(
        skyColor,
        groundColor,
        0.75
    );

    const helper = new HemisphereLightHelper(light);

    scene.add(light);
    scene.add(helper);
}

function initDirectionalLight() {
    const color = new Color('#fff');
    const light = new DirectionalLight(color);
    light.position.set(2, 2, 2);

    const helper = new DirectionalLightHelper(light);

    scene.add(light);
    scene.add(helper);
}

function initSphereMesh() {
    const geometry = new SphereGeometry();
    const material = new MeshStandardMaterial();
    const sphere = new Mesh(geometry, material);

    scene.add(sphere);
}

function initPlaneMesh() {
    const geometry = new PlaneGeometry(10, 10);
    const material = new MeshStandardMaterial();
    const plane = new Mesh(geometry, material);
    plane.position.set(0, -1, 0);
    plane.rotation.set(
        Math.PI * -0.5,
        0,
        0
    );

    scene.add(plane);
}

function initRenderer($canvas) {
    renderer = new WebGLRenderer({
        canvas: $canvas,
        antialias: true,
    });
}

function render() {
    window.requestAnimationFrame(render);

    renderer.render(scene, camera);
    controls.update();
}

(function init() {
    const $canvas = initCanvas();
    initRenderer($canvas);
    initScene();
    initCamera();
    initControls($canvas);

    initHemisphereLight();
    initDirectionalLight();

    initSphereMesh();
    initPlaneMesh();

    render();
}());
```



<br />



## ê·¸ë¦¼ì ì¢…ë¥˜

Three.js ì—ì„œ ì œê³µí•˜ëŠ” ê·¸ë¦¼ìëŠ” í¬ê²Œ 2ê°€ì§€ë¡œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

* Hard Shadow: ì„ ëª…í•˜ë©° ê±°ì¹œ ê·¸ë¦¼ìë¥¼ í‘œí˜„í•©ë‹ˆë‹¤.
* Soft Shadow: ë¶€ë“œëŸ¬ìš´ ê·¸ë¦¼ìë¥¼ í‘œí˜„í•©ë‹ˆë‹¤.

<br />

Soft Shadow ëŠ” ê·¸ë¦¼ìì— Blur ë¥¼ ì ìš©í•˜ì—¬ ë¶€ë“œëŸ½ê²Œ í‘œí˜„í•©ë‹ˆë‹¤.

ì£¼ì˜í•  ì ì€ Blur ê°’ì„ í¬ê²Œ ì„¤ì •í• ìˆ˜ë¡ ë¶€ë“œëŸ½ê²Œ í‘œí˜„í•˜ì§€ë§Œ, ì‚¬ìš©ì PC ì˜ ì—°ì‚°ëŸ‰ì´ ì»¤ì§„ë‹¤ëŠ” ê²ƒ ì…ë‹ˆë‹¤.

<br />

Three.js ì˜ ê·¸ë¦¼ì ì„¤ì •ì€ ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

1. Hard Shadow ì„¤ì •í•˜ê¸°
2. Soft Shadow ì„¤ì • ì¶”ê°€í•˜ê¸°



<br />



## ê·¸ë¦¼ì ì„¤ì •ì´ í•„ìš”í•œ ì¸ìŠ¤í„´ìŠ¤ë“¤

ê·¸ë¦¼ìë¥¼ í‘œí˜„í•˜ë ¤ë©´ ëª‡ê°€ì§€ ì„¤ì •ì„ í•¨ê»˜ í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.

ì•„ë˜ëŠ” ê·¸ë¦¼ì ì„¤ì •ì´ í•„ìš”í•œ ì¸ìŠ¤í„´ìŠ¤ë“¤ ì…ë‹ˆë‹¤.

* WebGLRenderer ì¸ìŠ¤í„´ìŠ¤
* Light ì¸ìŠ¤í„´ìŠ¤
* Mesh ì¸ìŠ¤í„´ìŠ¤



<br />



## WebGLRenderer ì— shadow ì„¤ì •í•˜ê¸°

WebGLRenderer ëŠ” **ShadowMap** ì´ë¼ëŠ” ë©”ì»¤ë‹ˆì¦˜ì„ ì œê³µí•©ë‹ˆë‹¤.

ì§€ê¸ˆì€ ì»´í“¨í„° ê·¸ë˜í”½ìŠ¤ì—ì„œ ê·¸ë¦¼ìë¥¼ í‘œí˜„í•˜ëŠ” ì—¬ëŸ¬ ì•Œê³ ë¦¬ì¦˜ ì¤‘ í•œê°€ì§€ ë¼ëŠ” ê²ƒ ì •ë„ë¡œ ì •ë¦¬í•˜ê³ ì í•©ë‹ˆë‹¤.

* WebGLRenderer shadowMap ì€ ê·¸ë¦¼ìë¥¼ ì´ë¯¸ì§€ë¡œ ìƒì„±í•œ í›„, ê·¸ë¦¼ìë¥¼ ì”Œìš°ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤.

<br />

ì•„ë˜ ì½”ë“œëŠ” WebGLRenderer ê°€ ê·¸ë¦¼ìë¥¼ í‘œí˜„í•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.

```js title="WebGLRenderer ê·¸ë¦¼ì ì‚¬ìš© ì„¤ì •" showLineNumbers{111} {7}
function initRenderer($canvas) {
    renderer = new WebGLRenderer({
        canvas: $canvas,
        antialias: true,
    });

    renderer.shadowMap.enabled = true;
}
```



<br />



## Light ì™€ Mesh ì˜ ê·¸ë¦¼ì ì„¤ì • (Hard Shadow)

Light ì™€ Mesh ì˜ ê·¸ë¦¼ì ì„¤ì • ì†ì„±ì€ ë™ì¼í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°€ì§‘ë‹ˆë‹¤.

ê·¸ë¦¼ì ì„¤ì • ì†ì„±ì€ í¬ê²Œ ë‘ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤.

* ê·¸ë¦¼ìë¥¼ ë§Œë“¤ì–´ë‚´ëŠ” ì„¤ì •: `castShadow`
* ë‹¤ë¥¸ Mesh ì˜ ê·¸ë¦¼ìë¥¼ ë°›ëŠ” ì„¤ì •: `receiveShadow`

<br />

Light ê°€ ë¹„ì¶”ëŠ” ë¹›ì€ ë‹¤ë¥¸ Mesh ì— ì˜í•´ ê·¸ë¦¼ìë¥¼ ìƒì„±í•˜ê²Œ ë©ë‹ˆë‹¤.

ê·¸ëŸ¬ë¯€ë¡œ Light ì˜ **castShadow** ë¥¼ `true` ë¡œ ì„¤ì •í•´ì¤ë‹ˆë‹¤.

```js title="DirectionalLight shadow ì„¤ì •" showLineNumbers{78} {5}
function initDirectionalLight() {
    const color = new Color('#fff');
    const light = new DirectionalLight(color);
    light.position.set(2, 2, 2);
    light.castShadow = true;

    const helper = new DirectionalLightHelper(light);

    scene.add(light);
    scene.add(helper);
}
```

<br />

ë¹›ì— ì˜í•´ ê·¸ë¦¼ìë¥¼ ë§Œë“¤ì–´ë‚´ëŠ” Mesh ì—­ì‹œ ê·¸ë¦¼ìë¥¼ ìƒì„±í•˜ë¯€ë¡œ, **caseShadow** ë¥¼ `true` ë¡œ ì„¤ì •í•´ì¤ë‹ˆë‹¤.

```js title="Sphere Mesh shadow ì„¤ì •" showLineNumbers{90} {5}
function initSphereMesh() {
    const geometry = new SphereGeometry();
    const material = new MeshStandardMaterial();
    const sphere = new Mesh(geometry, material);
    sphere.castShadow = true;

    scene.add(sphere);
}
```

<br />

ë°”ë‹¥(ë•…) ì„ í‘œí˜„í•œ Plane Mesh ëŠ” ë‹¤ë¥¸ Mesh ì˜ ê·¸ë¦¼ìë¥¼ ë°›ê²Œ ë˜ë¯€ë¡œ, **receiveShadow** ë¥¼ `true` ë¡œ ì„¤ì •í•´ì¤ë‹ˆë‹¤.

```js title="Plane Mesh shadow ì„¤ì •" showLineNumbers{99} {12}
function initPlaneMesh() {
    const geometry = new PlaneGeometry(10, 10);
    const material = new MeshStandardMaterial();
    const plane = new Mesh(geometry, material);
    plane.position.set(0, -1, 0);
    plane.rotation.set(
        Math.PI * -0.5,
        0,
        0
    );

    plane.receiveShadow = true;

    scene.add(plane);
}
```

<br />

<img src="/markdownAssets/threejs/2024-01-07-02/2024-01-07-02-01.png" alt="Hard Shadow" />

<br />

ì§€ê¸ˆê¹Œì§€ ì„¤ì •í•˜ì—¬ ë§Œë“¤ì–´ë‚¸ ê·¸ë¦¼ìëŠ” **Hard Shadow** ì…ë‹ˆë‹¤.

Blur ì²˜ë¦¬ë¥¼ í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì„ ëª…í•œ ê·¸ë¦¼ìê°€ ê·¸ë ¤ì§€ê³ , ê³¡ì„ ì—ì„œ í”½ì…€ì´ ë³´ì´ëŠ” íŠ¹ì§•ì´ ìˆìŠµë‹ˆë‹¤.



<br />



## Soft Shadow ì„¤ì • ì¶”ê°€í•˜ê¸°

Hard Shadow ì„¤ì •ì„ í•œ í›„, WebGLRenderer ì˜ `shadowMap.type` ì„ `VSMShadowMap` ìœ¼ë¡œ ì„¤ì •í•˜ë¯€ë¡œì¨ Soft Shadow ë¡œ í‘œí˜„ë©ë‹ˆë‹¤.

```js title="VSMShadowMap import í•˜ê¸°" showLineNumbers {16}
import {
    WebGLRenderer,
    Scene,
    PerspectiveCamera,

    Mesh,
    MeshStandardMaterial,
    SphereGeometry,
    PlaneGeometry,

    Color,
    HemisphereLight,
    HemisphereLightHelper,
    DirectionalLight,
    DirectionalLightHelper,
    VSMShadowMap,
} from 'three';
```

```js title="Soft Shadow" showLineNumbers{116} {8}
function initRenderer($canvas) {
    renderer = new WebGLRenderer({
        canvas: $canvas,
        antialias: true,
    });

    renderer.shadowMap.enabled = true;
    renderer.shadowMap.type = VSMShadowMap;
}
```

<br />

ìœ„ ì½”ë“œì—ì„œ ì‚¬ìš©í•œ `VSMShadowMap` ì´ì™¸ì—ë„ ë‹¤ë¥¸ ì¢…ë¥˜ì˜ shadowMap ì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. (ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” `VSMShadowMap` ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.)

[Three.js ê³µì‹ ë¬¸ì„œ - WebGLRenderer.shadowMap](https://threejs.org/docs/index.html?q=webglRenderer#api/en/renderers/WebGLRenderer.shadowMap)

* BasicShadowMap
* PCFShadowMap (default)
* PCFSoftShadowMap
* VSMShadowMap

<br />

ìœ„ ì„¤ì •ì„ ì¶”ê°€í•œ í›„, ê²°ê³¼ë¥¼ í™•ì¸í•˜ë©´ Hard Shadow ì™€ ë‹¤ë¥¸ì ì´ ì—†ì–´ ë³´ì…ë‹ˆë‹¤.

ì´ëŠ” ê·¸ë¦¼ìë¥¼ ìƒì„±í•˜ëŠ” Light ì˜ **Blur ì •ë„** ì™€ **ë²ˆì§€ëŠ” ì˜ì—­ì˜ Radius** ë¥¼ ë³€ê²½í•˜ë©´ì„œ ë¶€ë“œëŸ¬ì›€ì´ ë‹¬ë¼ì§€ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js title="DirectionalLight ì˜ Blur ì™€ Radius ì„¤ì •" showLineNumbers{79} {6-7}
function initDirectionalLight() {
    const color = new Color('#fff');
    const light = new DirectionalLight(color);
    light.position.set(2, 2, 2);
    light.castShadow = true;
    light.shadow.blurSamples = 30;
    light.shadow.radius = 12;

    const helper = new DirectionalLightHelper(light);

    scene.add(light);
    scene.add(helper);
}
```

<img src="/markdownAssets/threejs/2024-01-07-02/2024-01-07-02-02.png" alt="Soft Shadow" />

<br />

Light ì˜ shadow ì„¤ì • ì‹œ, ì£¼ì˜í•  ì‚¬í•­ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

* `shadow.blurSamples`: ê°’ì´ ì»¤ì§ˆìˆ˜ë¡ ë¶€ë“œëŸ¬ìš´ ê·¸ë¦¼ìë¥¼ í‘œí˜„í•˜ì§€ë§Œ, í•„ìš” ì„±ëŠ¥ì´ ë†’ì•„ì§‘ë‹ˆë‹¤.
* `shadow.radius`: ê°’ì´ ë„ˆë¬´ ì‘ìœ¼ë©´ í™”ë©´ì´ ê¹¨ì§€ëŠ” í˜„ìƒì´ ìˆìœ¼ë¯€ë¡œ, **10 ì´ìƒ** ì„¤ì •ì„ ê¶Œì¥í•©ë‹ˆë‹¤.



<br />



## ì¶”ê°€: VSMShadowMap ì— ëŒ€í•˜ì—¬

Soft Shadow ë¥¼ í‘œí˜„í•˜ê¸° ìœ„í•´ VSMShadowMaper ì„ ì‚¬ìš©í•´ ë³´ì•˜ìŠµë‹ˆë‹¤.

VSMShadowMap ì€ ê³¡ì„ ì— ëŒ€í•œ ê·¸ë¦¼ìë¥¼ ë¶€ë“œëŸ½ê²Œ í‘œí˜„í•  ìˆ˜ ìˆëŠ” íŠ¹ì§•ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤.

ê·¸ë˜ì„œ ì§€ê¸ˆê¹Œì§€ ì‹¤ìŠµí–ˆë˜ Shpere Mesh ì˜ ê·¸ë¦¼ìë¥¼ ë¶€ë“œëŸ½ê²Œ í‘œí˜„í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

<br />

ë§Œì•½ Sphere Mesh ê°€ ì•„ë‹Œ Box Mesh ì— VSMShadowMap ì„ ì ìš©í•œë‹¤ë©´, ê·¸ë¦¼ìê°€ ë“œë¦¬ìš°ì§€ ì•Šì•„ì•¼ í•˜ëŠ” ì˜ì—­ê¹Œì§€ ì¹¨ë²”í•˜ëŠ” í˜„ìƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ëŠ” VSMShadowMap ì˜ Blur ì²˜ë¦¬ê°€ ë˜ë©´ì„œ ë²ˆì§€ëŠ” ê·¸ë¦¼ìê°€ ë Œë”ë§ëœ ê²°ê³¼ ì…ë‹ˆë‹¤.

<br />

í™”ë©´ êµ¬ì„±ì— Box Mesh ê°€ ë§ë‹¤ë©´, VSMShadowMap ì„ ì‚¬ìš©í–ˆì„ ë•Œ ì˜¤íˆë ¤ ì§€ì €ë¶„í•œ ê·¸ë¦¼ìê°€ ë§Œë“¤ì–´ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ê³ ë ¤í•˜ì—¬ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.

<img src="/markdownAssets/threejs/2024-01-07-02/2024-01-07-02-03.png" alt="VSMShadow ë‹¨ì " />



<br />



## ë§ˆì¹˜ë©°

ê·¸ë¦¼ìëŠ” ì¡°ëª…ê³¼ ë¬¼ì œì˜ ìƒí˜¸ì—°ì‚°ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ì—°ì‚°ëŸ‰ì´ ë§ì´ í•„ìš”í•˜ë‹¤ê³  í•©ë‹ˆë‹¤.

ê·¸ë˜ì„œ ê·¸ë¦¼ìë¥¼ ìµœì†Œí•œìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì—¬ëŸ¬ê°€ì§€ ì„¤ì •ì„ ë¶„ë¦¬ì‹œì¼œë†“ì€ ëŠë‚Œì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.

Three.js ë¥¼ í™œìš©í•  ë•Œ, ê·¸ë¦¼ì ì„¤ì •ì´ ì„±ëŠ¥ ìµœì í™” ëŒ€ìƒì´ë¼ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
1a:T1a79,---
id: 4
title: í‰í‰í•œ ë°”ë‹¥(ë•…) ë§Œë“¤ê¸° (Plane Mesh)
description: 'ë°”ë‹¥ì„ í‘œí˜„í•˜ê¸° ìœ„í•´ Plane Mesh ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.'
thumbnail: https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg

featured: false
tags: [
    'threejs',
    'javascript',
    '3d',
    'plane',
]

createdAt: '2024-01-07 23:20:00'
modifiedHistories: []
---

# í‰í‰í•œ ë°”ë‹¥(ë•…) ë§Œë“¤ê¸° (Plane Mesh)

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” ë°”ë‹¥(ë•…) ì„ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤.

Three.js ì—ì„œëŠ” ë°”ë‹¥(ë•…) ì„ **Plane Mesh** ë¡œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œ ë‹¤ë£° ê·¸ë¦¼ìë¥¼ í‘œí˜„í•˜ë ¤ë©´, ë°”ë‹¥(ë•…) ì´ ìˆì–´ì•¼ í•˜ë¯€ë¡œ ë³„ë„ì˜ í¬ìŠ¤íŒ…ìœ¼ë¡œ ë¶„ë¦¬í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.



<br />



## ì˜ˆì‹œ ì½”ë“œ

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œ ì‚¬ìš©í•  ì˜ˆì‹œ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```js title="ì˜ˆì‹œ ì½”ë“œ" showLineNumbers {96}
import {
    WebGLRenderer,
    Scene,
    PerspectiveCamera,

    Mesh,
    MeshStandardMaterial,
    SphereGeometry,

    Color,
    HemisphereLight,
    HemisphereLightHelper,
    DirectionalLight,
    DirectionalLightHelper,
} from 'three';
import {
    OrbitControls,
} from 'three/examples/jsm/controls/OrbitControls';
import './style.css';

/** @type { WebGLRenderer } */
let renderer;

/** @type { Scene } */
let scene;

/** @type { PerspectiveCamera } */
let camera;

/** @type { OrbitControls } */
let controls;

function initCanvas() {
    const $canvas = document.createElement('canvas');
    $canvas.width = window.innerWidth;
    $canvas.height = window.innerHeight;

    const $app = document.querySelector('#app');
    $app.appendChild($canvas);

    return $canvas;
}

function initScene() {
    scene = new Scene();
}

function initCamera() {
    camera = new PerspectiveCamera();
    camera.fov = 35;
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.position.set(0, 0, 12);

    camera.updateProjectionMatrix();
}

function initControls($canvas) {
    controls = new OrbitControls(camera, $canvas);
    controls.enableDamping = true;
}

function initHemisphereLight() {
    const skyColor = new Color('#fff');
    const groundColor = new Color('#000');
    const light = new HemisphereLight(
        skyColor,
        groundColor,
        0.75
    );

    const helper = new HemisphereLightHelper(light);

    scene.add(light);
    scene.add(helper);
}

function initDirectionalLight() {
    const color = new Color('#fff');
    const light = new DirectionalLight(color);
    light.position.set(2, 2, 2);

    const helper = new DirectionalLightHelper(light);

    scene.add(light);
    scene.add(helper);
}

function initSphereMesh() {
    const geometry = new SphereGeometry();
    const material = new MeshStandardMaterial();
    const sphere = new Mesh(geometry, material);

    scene.add(sphere);
}

// ì—¬ê¸°ì— Plane Mesh(ë°”ë‹¥) ì„ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ë¥¼ êµ¬í˜„í•  ì˜ˆì •ì…ë‹ˆë‹¤.

function initRenderer($canvas) {
    renderer = new WebGLRenderer({
        canvas: $canvas,
        antialias: true,
    });
}

function render() {
    window.requestAnimationFrame(render);

    renderer.render(scene, camera);
    controls.update();
}

(function init() {
    const $canvas = initCanvas();
    initRenderer($canvas);
    initScene();
    initCamera();
    initControls($canvas);

    initHemisphereLight();
    initDirectionalLight();

    initSphereMesh();

    render();
}());
```



<br />



## Plane Mesh ìƒì„± í•¨ìˆ˜ ë§Œë“¤ê¸°

Plane Mesh ëŠ” **PlaneGeometry** class ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js title="PlaneGeometry class import í•˜ê¸°" showLineNumbers {9}
import {
    WebGLRenderer,
    Scene,
    PerspectiveCamera,

    Mesh,
    MeshStandardMaterial,
    SphereGeometry,
    PlaneGeometry,

    Color,
    HemisphereLight,
    HemisphereLightHelper,
    DirectionalLight,
    DirectionalLightHelper,
} from 'three';
```

```js title="initPlaneMesh() í•¨ìˆ˜ êµ¬í˜„í•˜ê¸°" showLineNumbers{97}
function initPlaneMesh() {
    const geometry = new PlaneGeometry();
    const material = new MeshStandardMaterial();
    const plane = new Mesh(geometry, material);
    plane.position.set(0, -1, 0);

    scene.add(plane);
}
```

```js title="initPlaneMesh í•¨ìˆ˜ í˜¸ì¶œí•˜ê¸°" showLineNumbers{120} {12}
(function init() {
    const $canvas = initCanvas();
    initRenderer($canvas);
    initScene();
    initCamera();
    initControls($canvas);

    initHemisphereLight();
    initDirectionalLight();

    initSphereMesh();
    initPlaneMesh();

    render();
}());
```

<img src="/markdownAssets/threejs/2024-01-07-01/2024-01-07-01-01.png" alt="PlaneMesh" />



<br />



## Plane Mesh íšŒì „ ë° í¬ê¸° ë³€ê²½í•˜ê¸°

ìœ„ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´, Sphere í•˜ë¶€ì— ì‚¬ê°í˜• ë¬¼ì²´ê°€ ë Œë”ë§ë©ë‹ˆë‹¤.

**width**, **height**, **rotation** ì„ ë³€ê²½í•˜ì—¬ ë°”ë‹¥(ë•…) ì²˜ëŸ¼ ë³´ì´ë„ë¡ ì„¤ì •í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```js title="initPlaneMesh() í•¨ìˆ˜ êµ¬í˜„í•˜ê¸°" showLineNumbers{97} {2, 6-10}
function initPlaneMesh() {
    const geometry = new PlaneGeometry(5, 5);
    const material = new MeshStandardMaterial();
    const plane = new Mesh(geometry, material);
    plane.position.set(0, -1, 0);
    plane.rotation.set(
        Math.PI * -0.5, 
        0, 
        0
    );

    scene.add(plane);
}
```

<br />

PlaneGeometry class ëŠ” ìƒì„±ìì— **width** ì™€ **height** ë¥¼ ë„˜ê²¨ì£¼ì–´ í¬ê¸°ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js title="width, height ì„¤ì •" showLineNumbers{98}
const geometry = new PlaneGeometry(5, 5);
```

<br />

ê·¸ë¦¬ê³  Plane Mesh ì¸ìŠ¤í„´ìŠ¤ì˜ `rotation.set()` ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ íšŒì „ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

íšŒì „ì‹œí‚¬ ê°’ì€ **Radian** ìœ¼ë¡œ ë„˜ê²¨ì£¼ì–´ì•¼ í•˜ë¯€ë¡œ, **Math.PI** ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

```js title="íšŒì „ ì‹œí‚¤ê¸°" showLineNumbers{102} {2}
plane.rotation.set(
    Math.PI * -0.5, 
    0, 
    0
);
```

ìœ„ ì½”ë“œì—ì„œ Xì¶• íšŒì „ìœ¼ë¡œ `Math.PI * -0.5` ë¥¼ ì£¼ì—ˆëŠ”ë°, ì´ëŠ” ì•„ë˜ì™€ ê°™ì€ Plane Mesh ì˜ íŠ¹ì„±ìœ¼ë¡œ ê³ ë ¤í•œ ê²ƒì…ë‹ˆë‹¤.

* Plane Mesh ëŠ” í•œìª½ë©´ë§Œ ë Œë”ë§ë˜ëŠ” ë‹¨ë©´ ë¬¼ì²´ ì…ë‹ˆë‹¤.
* ë Œë”ë§ë˜ì§€ ì•ŠëŠ” ë°˜ëŒ€ìª½ ë©´ì—ëŠ” ê·¸ë¦¼ìê°€ ë“œë¦¬ìš°ì§€ ì•ŠìŠµë‹ˆë‹¤.

<br />

ì´ë ‡ê²Œ ì‹¤í–‰í•œ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

<img src="/markdownAssets/threejs/2024-01-07-01/2024-01-07-01-02.png" alt="PlaneMesh ì„¤ì •" />

<br />

ì¹´ë©”ë¼ë¥¼ íšŒì „ì‹œì¼œì„œ Plane Mesh ì˜ ë°˜ëŒ€ìª½ ë©´ì„ ë³´ë©´, ë Œë”ë§ë˜ì§€ ì•Šì€ ê²°ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<img src="/markdownAssets/threejs/2024-01-07-01/2024-01-07-01-03.png" alt="PlaneMesh ë°˜ëŒ€ë©´" />



## ë§ˆì¹˜ë©°

Plane Mesh ë¥¼ ìƒì„±í•˜ì—¬ ë°”ë‹¥(ë•…) ì„ ë§Œë“¤ ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œëŠ” ë°”ë‹¥(ë•…) ì— ê·¸ë¦¼ìë¥¼ í‘œí˜„í•˜ì—¬, ì¡°ëª…ê³¼ ë¬¼ì²´ì˜ ìì—°ìŠ¤ëŸ¬ìš´ ì—°ì¶œ ë°©ë²•ì„ ì •ë¦¬í•´ ë³´ê² ìŠµë‹ˆë‹¤.
1b:T2eef,---
id: 3
title: ì¡°ëª… ì¢…ë¥˜ì™€ ì„¤ì •
description: 'ì¡°ëª… ì¢…ë¥˜ì™€ ì„¤ì • ë°©ë²•ì— ëŒ€í•´ ì •ë¦¬í•©ë‹ˆë‹¤.'
thumbnail: https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg

featured: false
tags: [
    'threejs',
    'javascript',
    '3d',
    'light',
]

createdAt: '2024-01-06 23:00:00'
modifiedHistories: []
---

# ì¡°ëª… ì¢…ë¥˜ì™€ ì„¤ì •

Three.js ëŠ” ì¡°ëª…ì´ ì—†ìœ¼ë©´ ê²€ì€ í™”ë©´ë§Œ ë³´ì´ê²Œ ë©ë‹ˆë‹¤.

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” ì¡°ëª…ì˜ ì¢…ë¥˜ì™€ íŠ¹ì§•, ì„¤ì • ë°©ë²•ì— ëŒ€í•´ ì •ë¦¬í•˜ê³ ì í•©ë‹ˆë‹¤.



<br />



## ì¡°ëª… ì¢…ë¥˜

ì¡°ëª…ì˜ ì¢…ë¥˜ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

* DirectionalLight
* PointLight
* AmbientLight
* HemisphereLight

ê·¸ë¦¬ê³  ê°œë°œí™˜ê²½ì—ì„œ ì¡°ëª…ì˜ ê´‘ì› ìœ„ì¹˜ë¥¼ íŒŒì•…í•˜ê¸° ì‰½ê²Œ ë„ì™€ì£¼ëŠ” **Helper class** ê°€ ìˆìŠµë‹ˆë‹¤.

ìì„¸í•œ ì‚¬í•­ì€ ê° ì¡°ëª…ê³¼ í•¨ê»˜ ì •ë¦¬í•˜ê² ìŠµë‹ˆë‹¤.



<br />



## ì˜ˆì‹œ ì½”ë“œ

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œ ì‚¬ìš©í•  ì˜ˆì‹œ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```js title="ì˜ˆì‹œ ì½”ë“œ" showLineNumbers {94}
import {
    WebGLRenderer,
    Scene,
    PerspectiveCamera,

    SphereGeometry,
    MeshStandardMaterial,
    Mesh,

    Color,

    DirectionalLight,
    DirectionalLightHelper,
} from 'three';
import './style.css';
import {
    OrbitControls,
} from 'three/examples/jsm/controls/OrbitControls';

/** @type { WebGLRenderer } */
let renderer;

/** @type { Scene } */
let scene;

/** @type { PerspectiveCamera } */
let camera;

/** @type { OrbitControls } */
let controls;

function initCanvas() {
    const $canvas = document.createElement('canvas');
    $canvas.width = window.innerWidth;
    $canvas.height = window.innerHeight;

    const $app = document.querySelector('#app');
    $app.appendChild($canvas);

    return $canvas;
}

function initRenderer($canvas) {
    renderer = new WebGLRenderer({
        canvas: $canvas,
        antialias: true,
    });
}

function initScene() {
    scene = new Scene();
}

function initCamera() {
    camera = new PerspectiveCamera();
    camera.fov = 35;
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.position.set(0, 0, 10);

    camera.updateProjectionMatrix();
}

function initControls($canvas) {
    controls = new OrbitControls(camera, $canvas);
    controls.enableDamping = true;
}

function createSphere() {
    const geometry = new SphereGeometry();
    const material = new MeshStandardMaterial();
    const sphere = new Mesh(geometry, material);

    return sphere;
}

function render() {
    requestAnimationFrame(render);

    renderer.render(scene, camera);
    controls.update();
}

function init() {
    const $canvas = initCanvas();

    initRenderer($canvas);
    initScene();
    initCamera();
    initControls($canvas);

    const sphere = createSphere();
    scene.add(sphere);

    // ì—¬ê¸°ì—ì„œ `ì¡°ëª… ì„¤ì •` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©° ì‹¤ìŠµí•  ì˜ˆì •ì…ë‹ˆë‹¤.

    render();
}

init();
```



<br />



## DirectionalLight

DirectionalLight ëŠ” **ê´‘ì›** ì—ì„œ **íŠ¹ì • ì§€ì (lookAt(ì¢Œí‘œ))** ë¡œ ë¹„ì¶”ëŠ” **ë‹¨ë°©í–¥ ì¡°ëª…** ì…ë‹ˆë‹¤.

ë¬¼ì²´ì— ë¹„ì¶”ëŠ” ë¹›ì˜ ì–‘ì€ ê´‘ì›ê³¼ì˜ ê±°ë¦¬ì™€ ë¬´ê´€í•œ ë¹›ì˜ ì„¸ê¸°(intensity) ì„¤ì •ê°’ì´ ì ìš©ë©ë‹ˆë‹¤.

<br />

```js title="DirectionalLight import í•˜ê¸°" showLineNumbers
import {
    DirectionalLight,
} from 'three';
```

```js title="DirectionalLight" showLineNumbers{83} {9, 14-18}
function init() {
    initRenderer(initCanvas());
    initCamera();
    initScene();

    const sphere = createSphere();
    scene.add(sphere);

    initDirectionalLight();

    render();
}

function initDirectionalLight() {
    const light = new DirectionalLight();
    light.position.set(1, 1, 1);
    scene.add(light);
}

init();
```

<br />

DirectionalLight ìƒì„±ìì— ì¸ìë¡œ **Color ê°ì²´** ë¥¼ ë„˜ê²¨ì£¼ì–´ ë¹›ì˜ ìƒ‰ìƒì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**Color** ëŠ” Three.js ì—ì„œ ì œê³µí•˜ëŠ” class ì´ë©°, Three.js ì˜ ìƒ‰ìƒê´€ë ¨ ì„¤ì •ì€ **Color ì¸ìŠ¤í„´ìŠ¤** ë¥¼ ë°›ìŠµë‹ˆë‹¤.

```js title="Color import í•˜ê¸°" showLineNumbers
import {
    Color,
} from 'three';
```

```js title="DirectionalLight ìƒ‰ìƒ ì„¤ì •í•˜ê¸°" showLineNumbers{83} {15}
function init() {
    initRenderer(initCanvas());
    initCamera();
    initScene();

    const sphere = createSphere();
    scene.add(sphere);

    initDirectionalLight();

    render();
}

function initDirectionalLight() {
    const color = new Color('#f0f400');
    const light = new DirectionalLight(color);
    light.position.set(1, 1, 1);

    scene.add(light);
}

init();
```

<img src="/markdownAssets/threejs/2024-01-06-01/2024-01-06-01-01.png" alt="DirectionalLight" />



<br />



### DirectionalLightHelper

DirectionalLight ì˜ ê´‘ì›ì„ í‘œê¸°í•´ì£¼ëŠ” ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ ë³´ê² ìŠµë‹ˆë‹¤.

DirectionalLightHelper ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œ í›„, `scene.add()` ë¥¼ ì‚¬ìš©í•˜ì—¬ ë“±ë¡í•´ ì¤ë‹ˆë‹¤.

```js title="DirectionalLightHelper import í•˜ê¸°" showLineNumbers {3}
import {
    DirectionalLight,
    DirectionalLightHelper,
} from 'three';
```

```js title="DirectionalLight ìƒ‰ìƒ ì„¤ì •í•˜ê¸°" showLineNumbers{83} {20-21}
function init() {
    initRenderer(initCanvas());
    initCamera();
    initScene();

    const sphere = createSphere();
    scene.add(sphere);

    initDirectionalLight();

    render();
}

function initDirectionalLight() {
    const color = new Color('#f0f400');
    const light = new DirectionalLight(color);
    light.position.set(1, 1, 1);
    scene.add(light);

    const helper = new DirectionalLightHelper(light);
    scene.add(helper);
}

init();
```

<img src="/markdownAssets/threejs/2024-01-06-01/2024-01-06-01-02.png" alt="DirectionalLightHelper" />



<br />



## ë¹›ì˜ ì„¸ê¸°(intensity) ì„¤ì •í•˜ê¸°

ì¡°ëª…ì€ ë¹›ì˜ ì„¸ê¸°(intensity) ê°€ ìˆìŠµë‹ˆë‹¤.

Three.js ì˜ ëª¨ë“  ì¡°ëª…ì—ë„ ë¹›ì˜ ì„¸ê¸°(intensity) ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë¹›ì˜ ì„¸ê¸° ê°’ì€ **0 ~ 1** ê°’ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.

ì•„ë˜ ì½”ë“œëŠ” DirectionalLight ì— ë¹›ì˜ ì„¸ê¸°(intensity) ë¥¼ 0.75 ë¡œ ì„¤ì •í•˜ê³  ìˆìŠµë‹ˆë‹¤.

```js title="DirectionalLight ìƒ‰ìƒ ì„¤ì •í•˜ê¸°" showLineNumbers{83} {18}
function init() {
    initRenderer(initCanvas());
    initCamera();
    initScene();

    const sphere = createSphere();
    scene.add(sphere);

    initDirectionalLight();

    render();
}

function initDirectionalLight() {
    const color = new Color('#f0f400');
    const light = new DirectionalLight(
        color, 
        0.75
    );
    light.position.set(1, 1, 1);
    scene.add(light);

    const helper = new DirectionalLightHelper(light);
    scene.add(helper);
}

init();
```



<br />



## PointLight

ì „ë“±ì²˜ëŸ¼ í•œ ì ì—ì„œ ë¹›ì„ ë°©ì‚¬í•˜ëŠ” ì¡°ëª… ì…ë‹ˆë‹¤.

ì‚¬ìš©ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```js title="PointLight import í•˜ê¸°" showLineNumbers
import {
    PointLight,
    PointLightHelper,
} from 'three';
```

```js title="PointLight ìƒ‰ìƒ ì„¤ì •í•˜ê¸°" showLineNumbers{83} {9, 14-25}
function init() {
    initRenderer(initCanvas());
    initCamera();
    initScene();

    const sphere = createSphere();
    scene.add(sphere);

    initPointLight();

    render();
}

function initPointLight() {
    const color = new Color('#f0f400');
    const light = new PointLight(
        color,
        0.75 // ë¹›ì˜ ì„¸ê¸°(intensity)
    );
    light.position.set(1, 1, 1);
    scene.add(light);

    const helper = new PointLightHelper(light);
    scene.add(helper);
}

init();
```

<img src="/markdownAssets/threejs/2024-01-06-01/2024-01-06-01-03.png" alt="PointLight" />



<br />



## AmbientLight

Ambient ëŠ” `ì£¼ë³€` ì´ë¼ëŠ” ëœ»ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

AmbientLight ëŠ” íŠ¹ì •í•œ ê´‘ì›ì´ ì—†ê³ , ëª¨ë“  ì˜ì—­ì— ë™ì¼í•˜ê²Œ ë¹„ì¶”ëŠ” ì¡°ëª…ì…ë‹ˆë‹¤.

ì¦‰ `(x, y, z)` ì— ê´€ê³„ì—†ì´ ë™ì¼í•œ ë¹›ì„ ë¹„ì¶¥ë‹ˆë‹¤.

<br />

AmbientLight ê°€ ì ìš©ëœ ê²°ê³¼ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´, PointLight ì™€ í•¨ê»˜ ì‚¬ìš©í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```js title="PointLight import í•˜ê¸°" showLineNumbers {5}
import {
    PointLight,
    PointLightHelper,

    AmbientLight,
} from 'three';
```

```js title="PointLight ìƒ‰ìƒ ì„¤ì •í•˜ê¸°" showLineNumbers{83} {10, 28-35}
function init() {
    initRenderer(initCanvas());
    initCamera();
    initScene();

    const sphere = createSphere();
    scene.add(sphere);

    initPointLight();
    initAmbientLight();

    render();
}

function initPointLight() {
    const color = new Color('#f0f400');
    const light = new PointLight(
        color,
        0.75 // ë¹›ì˜ ì„¸ê¸°(intensity)
    );
    light.position.set(1, 1, 1);
    scene.add(light);

    const helper = new PointLightHelper(light);
    scene.add(helper);
}

function initAmbientLight() {
    const color = new Color('#fff');
    const light = new AmbientLight(
        color,
        0.25, // ë¹›ì˜ ì„¸ê¸°(intensity)
    );
    scene.add(light);
}

init();
```

<img src="/markdownAssets/threejs/2024-01-06-01/2024-01-06-01-04.png" alt="AmbientLight" />

<br />

ê·¸ë¦¬ê³  AmbientLight ëŠ” ëª¨ë“  ì˜ì—­ì— ë¹„ì¶”ëŠ” ì¡°ëª…ì´ë¯€ë¡œ, **Helper class ê°€ ì—†ë‹¤ëŠ” íŠ¹ì§•** ì´ ìˆìŠµë‹ˆë‹¤.



<br />



## HemisphereLight

HemisphereLight ëŠ” ìœ„ìª½(skyColor) ì™€ ì•„ë˜ìª½(groundColor) ë¥¼ ì¸ìë¡œ ë°›ê³ , ê·¸ë¼ë°ì´ì…˜ìœ¼ë¡œ ë¹„ì¶”ëŠ” ì¡°ëª…ì…ë‹ˆë‹¤.

ì¼ë°˜ì ìœ¼ë¡œ ê¸°ë³¸ ì¡°ëª…ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ”ë°, ì´ëŠ” Three.js íŠ¹ì„± ë•Œë¬¸ì…ë‹ˆë‹¤.

* ì¡°ëª…ì´ ì—†ìœ¼ë©´, ë¬¼ì²´(Mesh) ëŠ” ë³´ì´ì§€ ì•ŠëŠ” ê²€ì€ í™”ë©´ë§Œ ë Œë”ë§ ë©ë‹ˆë‹¤.
* ë‹¤ë¥¸ ì¡°ëª…ì— ì˜í•´ ìƒê¸°ëŠ” ê·¸ë¦¼ìë¥¼ ì¢€ ë” ìì—°ìŠ¤ëŸ½ê³  ë¶€ë“œëŸ½ê²Œ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.

<br />

ì•„ë˜ ì½”ë“œëŠ” HemisphereLight ì™€ DirectionalLight ë¥¼ ì¡°í•©í•œ ì˜ˆì‹œ ì…ë‹ˆë‹¤.

```js title="PointLight import í•˜ê¸°" showLineNumbers {5-6}
import {
    DirectionalLight,
    DirectionalLightHelper,

    HemisphereLight,
    HemisphereLightHelper,
} from 'three';
```

```js title="PointLight ìƒ‰ìƒ ì„¤ì •í•˜ê¸°" showLineNumbers{83} {10, 28-40}
function init() {
    initRenderer(initCanvas());
    initCamera();
    initScene();

    const sphere = createSphere();
    scene.add(sphere);

    initDirectionalLight();
    initHemisphereLight();

    render();
}

function initDirectionalLight() {
    const color = new Color('#fff');
    const light = new DirectionalLight(
        color,
        0.75 // ë¹›ì˜ ì„¸ê¸°(intensity)
    );
    light.position.set(1, 1, 1);
    scene.add(light);

    const helper = new PointLightHelper(light);
    scene.add(helper);
}

function initHemisphereLight() {
    const skyColor = new Color('#fff');
    const groundColor = new Color('#000');
    const light = new HemisphereLight(
        skyColor,
        groundColor,
        0.25, // ë¹›ì˜ ì„¸ê¸°(intensity)
    );
    scene.add(light);

    const helper = new HemisphereLightHelper(light);
    scene.add(helper);
}

init();
```

<img src="/markdownAssets/threejs/2024-01-06-01/2024-01-06-01-05.png" alt="Hemisphere" />



<br />



## ë§ˆì¹˜ë©°

ì¼ë°˜ì ìœ¼ë¡œ DirectionalLight ì™€ HemisphereLight ë¥¼ ì¡°í•©í•˜ì—¬ ê¸°ë³¸ ì¡°ëª…ì„ êµ¬ì„±í•©ë‹ˆë‹¤.

ê° ì„¤ì •ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```js title="ì¼ë°˜ì ì¸ ì¡°ëª… ì„¤ì •" showLineNumbers
function initDirectionalLight() {
    const color = new Color('#fff');
    const light = new DirectionalLight(
        color,
        0.75 // HemispherLight ë³´ë‹¤ 0.5 ê°•í•˜ê²Œ ì„¤ì •í•©ë‹ˆë‹¤.
    );
    scene.add(light);
}

function initHemisphereLight() {
    const skyColor = new Color('#fff');
    const groundColor = new Color('#000');
    const light = new HemisphereLight(
        skyColor,
        groundColor,
        0.25 // DirectionalLight ë³´ë‹¤ 0.5 ì•½í•˜ê²Œ ì„¤ì •í•©ë‹ˆë‹¤.
    );
    scene.add(light);
}
```

<br />

HemisphereLight ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œì¨ ê·¸ë¦¼ì ë¶€ë¶„ì´ ê²€ì€ìƒ‰ìœ¼ë¡œ ë³´ì´ì§€ ì•Šë„ë¡ í•´ì£¼ë©°, ì¢€ ë” ìì—°ìŠ¤ëŸ¬ìš´ ì¡°ëª…ì„ ì—°ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê·¸ë¦¬ê³  PointLight ëŠ” íŠ¹ì • ë¬¼ì²´ë¥¼ ê°•ì¡°í•˜ê±°ë‚˜ íš¨ê³¼ë¥¼ ì£¼ê¸°ìœ„í•´ ì£¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.

<br />

Three.js ëŠ” ê°œë°œ ëŠ¥ë ¥ë¿ë§Œ ì•„ë‹ˆë¼ ì‚¬ë¬¼ì„ í‘œí˜„í•˜ëŠ” ì˜ˆìˆ  ëŠ¥ë ¥ë„ í•„ìš”í•˜ê² ë‹¤ëŠ” ëŠë‚Œì´ ë“­ë‹ˆë‹¤. ğŸ˜±
1c:T3ac1,---
id: 2
title: ì¹´ë©”ë¼ ì„¤ì • (PerspectiveCamera)
description: 'Three.js ì˜ ì¹´ë©”ë¼ì¸ PerspectiveCamera ì„¤ì •ì— ëŒ€í•œ í¬ìŠ¤íŒ…ì…ë‹ˆë‹¤.'
thumbnail: https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg

featured: false
tags: [
    'threejs',
    'javascript',
    '3d',
    'camera',
]

createdAt: '2024-01-01 23:50:00'
modifiedHistories: []
---

# ì¹´ë©”ë¼ ì„¤ì • (PerspectiveCamera)

Three.js ê°€ `<canvas />` ì— ì‹¤ì œë¡œ ë Œë”ë§í•˜ëŠ” ë¶€ë¶„ì€ `ì¹´ë©”ë¼ (PerspectiveCamera)` ê°€ ë¹„ì¶”ëŠ” ì˜ì—­ì…ë‹ˆë‹¤.

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” ì¹´ë©”ë¼ ì„¤ì •ê³¼ íš¨ê³¼, ì‚¬ìš©ì ì¸í„°ë ‰ì…˜ ì ìš© ë°©ë²•ì— ëŒ€í•´ ì •ë¦¬í•´ ë³´ê² ìŠµë‹ˆë‹¤.

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” ì•„ë˜ì˜ ì½”ë“œë¥¼ ì‹œì‘ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤.

```js title="ìƒ˜í”Œ ì½”ë“œ" showLineNumbers
import {
    WebGLRenderer,
    PerspectiveCamera,
    Scene,
    DirectionalLight,

    BoxGeometry,
    MeshPhongMaterial,
    Mesh,
} from 'three';
import './style.css';

/** @type { WebGLRenderer } */
let renderer;

/** @type { PerspectiveCamera } */
let camera;

/** @type { Scene } */
let scene;

(function init() {
    const $canvas = initCanvas();

    initRenderer($canvas);

    const light = createLight();
    const boxMesh = createBoxMesh();

    initCamera();
    initScene(light, boxMesh);

    render();

    console.log('ì‹œì‘');
}());

function render() {
    renderer.render(scene, camera);

    window.requestAnimationFrame(render);
}

function initCanvas() {
    const $canvas = document.createElement('canvas');

    const $app = document.querySelector('#app');
    $app.appendChild($canvas);

    return $canvas;
}

/**
 * @param { HTMLCanvasElement } $canvas 
 */
function initRenderer($canvas) {
    renderer = new WebGLRenderer({
        canvas: $canvas,
        antialias: true,
    });

    renderer.setSize(
        window.innerWidth,
        window.innerHeight
    );
}

function createLight() {
    const light = new DirectionalLight();
    light.position.set(1, 2, 3);

    return light;
}

function createBoxMesh() {
    const boxGeometry = new BoxGeometry();
    const boxMaterial = new MeshPhongMaterial();

    return new Mesh(boxGeometry, boxMaterial);
}

function initCamera() {
    camera = new PerspectiveCamera(
        45,
        window.innerWidth / window.innerHeight
    );

    camera.position.set(0, 0, 5);
}

function initScene(...items) {
    scene = new Scene();

    items.forEach(item => {
        scene.add(item);
    });
}
```



<br />



## PerspectiveCamera ìƒì„±ì params

ì¹´ë©”ë¼ ìƒì„±ì params ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ˆê¸° ì„¤ì •ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts title="PerspectiveCamera ìƒì„±ì í•¨ìˆ˜" showLineNumbers
class PerspectiveCamera {
    constructor(
        fov?: number,
        aspect?: number,
        near?: number,
        far?: number
    );
}
```

* fov (Field of View): ì‹œì•¼ê° (í™”ê°)
    * fov ì„¤ì •ê°’ì´ í´ìˆ˜ë¡ ë¨¼ ê±°ë¦¬ì—ì„œ ë³´ëŠ” ëŠë‚Œì´ ë‚©ë‹ˆë‹¤.
    * fov ì„¤ì •ê°’ì´ ì»¤ì§ˆìˆ˜ë¡ **íˆ¬ì‹œì— ë”°ë¥¸ ì™œê³¡í˜„ìƒ** ì´ ë„ë“œë¼ì§€ê²Œ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.
* aspect: ì¹´ë©”ë¼ ì¢…íš¡ë¹„ (aspect radio)
    * ì¹´ë©”ë¼ì˜ ê°€ë¡œ, ì„¸ë¡œ ë¹„ìœ¨ê°’ ì…ë‹ˆë‹¤.
* near: (Near clipping)
    * ì¹´ë©”ë¼ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê°€ê¹Œìš´ ë¬¼ì²´(Mesh) ì— ëŒ€í•œ ë Œë”ë§ ì˜ë¼ë‚´ê¸° ì„¤ì •ê°’ ì…ë‹ˆë‹¤.
* far: (Far clipping)
    * ì¹´ë©”ë¼ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¨¼ ë¬¼ì²´(Mesh) ì— ëŒ€í•œ ë Œë”ë§ ì˜ë¼ë‚´ê¸° ì„¤ì •ê°’ ì…ë‹ˆë‹¤.

<br />

ìœ„ ì„¤ì •ë“¤ì€ PerspectiveCamera ìƒì„±ìë¥¼ í†µí•´ì„œë„ ì„¤ì •í•  ìˆ˜ ìˆê³ , ê°ì²´ë¥¼ ìƒì„±í•œ í›„ ì„¤ì •ì„ ë³€ê²½í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

ë§Œì•½ ê°ì²´ë¥¼ ìƒì„±í•œ í›„ ì„¤ì •ì„ ë³€ê²½í•œë‹¤ë©´, ì¹´ë©”ë¼ ë©”ì†Œë“œì¸ **updateProjectionMatrix()** í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ì•¼ ì‹¤ì œ ë Œë”ë§ì— ë°˜ì˜ë©ë‹ˆë‹¤.

ì•„ë˜ ì½”ë“œëŠ” PerspectiveCamera ê°ì²´ë¥¼ ìƒì„±í•œ í›„, ì¹´ë©”ë¼ ì„¤ì •ì„ ë³€ê²½í•˜ê³  ìˆìŠµë‹ˆë‹¤.

```js title="ì¹´ë©”ë¼ ê°ì²´ ì„¤ì •ê°’ ë³€ê²½í•˜ê¸°" showLineNumbers {88, 89, 92}
import {
    WebGLRenderer,
    PerspectiveCamera,
    Scene,
    DirectionalLight,

    BoxGeometry,
    MeshPhongMaterial,
    Mesh,
} from 'three';
import './style.css';

/** @type { WebGLRenderer } */
let renderer;

/** @type { PerspectiveCamera } */
let camera;

/** @type { Scene } */
let scene;

(function init() {
    const $canvas = initCanvas();

    initRenderer($canvas);

    const light = createLight();
    const boxMesh = createBoxMesh();

    initCamera();
    initScene(light, boxMesh);

    render();

    console.log('ì‹œì‘');
}());

function render() {
    renderer.render(scene, camera);

    window.requestAnimationFrame(render);
}

function initCanvas() {
    const $canvas = document.createElement('canvas');

    const $app = document.querySelector('#app');
    $app.appendChild($canvas);

    return $canvas;
}

/**
 * @param { HTMLCanvasElement } $canvas 
 */
function initRenderer($canvas) {
    renderer = new WebGLRenderer({
        canvas: $canvas,
        antialias: true,
    });

    renderer.setSize(
        window.innerWidth,
        window.innerHeight
    );
}

function createLight() {
    const light = new DirectionalLight();
    light.position.set(1, 2, 3);

    return light;
}

function createBoxMesh() {
    const boxGeometry = new BoxGeometry();
    const boxMaterial = new MeshPhongMaterial();

    return new Mesh(boxGeometry, boxMaterial);
}

function initCamera() {
    camera = new PerspectiveCamera(
        // 45,
        // window.innerWidth / window.innerHeight
    );

    camera.fov = 45;
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.position.set(0, 0, 3);

    camera.updateProjectionMatrix();
}

function initScene(...items) {
    scene = new Scene();

    items.forEach(item => {
        scene.add(item);
    });
}
```

<br />

ìœ„ ì½”ë“œì˜ ì‹¤í–‰ ê²°ê³¼ë¡œ BoxMesh ì˜ ë‹¨ë©´ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<img src="/markdownAssets/threejs/2024-01-01-01/2024-01-01-01-01.png" alt="ì‹¤í–‰ ê²°ê³¼" />



<br />



## ì¹´ë©”ë¼ì˜ ì£¼ì‹œ ì¢Œí‘œê°’ ë³€ê²½í•˜ê¸°

í˜„ì¬ëŠ” BoxMesh ì˜ ë‹¨ë©´ë§Œì„ ë¹„ì¶”ê³  ìˆì–´ì„œ ë§ˆì¹˜ 2D ì¸ê²ƒ ì²˜ëŸ¼ ë³´ì…ë‹ˆë‹¤.

ì¹´ë©”ë¼ì˜ ìœ„ì¹˜ì™€ ì¹´ë©”ë¼ì˜ ì£¼ì‹œ ì¢Œí‘œê°’ì„ ë³€ê²½í•˜ë©´, ë¬¼ì²´ë¥¼ ë‹¤ê°ë„ì—ì„œ ë‹¤ì–‘í•œ êµ¬ë„ë¡œ ë Œë”ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br />

ë¨¼ì € ì¹´ë©”ë¼ì˜ ìœ„ì¹˜ë¥¼ (1, 1, 2) ë¡œ ë³€ê²½í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```js title="ì¹´ë©”ë¼ position ë³€ê²½" showLineNumbers{82} {6}
function initCamera() {
    camera = new PerspectiveCamera();

    camera.fov = 45;
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.position.set(1, 1, 2);

    camera.updateProjectionMatrix();
}
```

<img src="/markdownAssets/threejs/2024-01-01-01/2024-01-01-01-02.png" alt="ì‹¤í–‰ ê²°ê³¼" />

<br />

ì¹´ë©”ë¼ì˜ position ë§Œì„ ë³€ê²½í•œ ê²°ê³¼, BoxMesh ì˜ ì¼ë¶€ë¶„ë§Œ ë Œë”ë§ë˜ê³  ìˆìŠµë‹ˆë‹¤.

ì´ëŠ” ì¹´ë©”ë¼ì˜ ì£¼ì‹œ ì¢Œí‘œê°’ì„ ì„¤ì •í•˜ì§€ ì•Šì•„ì„œ ì¹´ë©”ë¼ ìœ„ì¹˜ì—ì„œ ì •ë©´ì„ ì£¼ì‹œí•˜ê³  ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ì¹´ë©”ë¼ ê°ì²´ì˜ `lookAt()` ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´, ì¹´ë©”ë¼ì˜ ìœ„ì¹˜ì¸ position ì—ì„œ íŠ¹ì • ì¢Œí‘œë¥¼ ì£¼ì‹œí•˜ê²Œ ë©ë‹ˆë‹¤.

BoxMesh ê°€ ì¹´ë©”ë¼ì˜ ì¤‘ì•™ì— ì˜¤ë„ë¡ í•˜ê¸°ìœ„í•´, BoxMesh ì˜ position ìœ„ì¹˜ê°’ì¸ (0, 0, 0) ìœ¼ë¡œ ì¹´ë©”ë¼ ì£¼ì‹œ ì¢Œí‘œë¥¼ ì„¤ì •í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```js title="ì¹´ë©”ë¼ position ë³€ê²½" showLineNumbers{82} {8}
function initCamera() {
    camera = new PerspectiveCamera();

    camera.fov = 45;
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.position.set(1, 1, 2);

    camera.lookAt(0, 0, 0);

    camera.updateProjectionMatrix();
}
```

<img src="/markdownAssets/threejs/2024-01-01-01/2024-01-01-01-03.png" alt="ì‹¤í–‰ ê²°ê³¼" />



<br />



## ì¹´ë©”ë¼ fov ì™€ position ì„¤ì •ì— ë”°ë¥¸ ì™œê³¡ í˜„ìƒ

fov(Field of View) ê°’ì´ ì»¤ì§ˆìˆ˜ë¡ ë©€ë¦¬ì„œ ë³´ëŠ” ëŠë‚Œìœ¼ë¡œ ë Œë”ë§ë©ë‹ˆë‹¤.

ì´ëŠ” ë¬¼ì²´ê°€ ë” ì‘ê²Œ ë³´ì´ëŠ” ê²°ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br />

ë§Œì•½ fov ë¥¼ í° ê°’ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ë¬¼ì²´ê°€ ì‘ê²Œ ë³´ì´ë„ë¡ í•œ í›„, ì¹´ë©”ë¼ì˜ ìœ„ì¹˜ë¥¼ ë¬¼ì²´ì™€ ê°€ê¹ê²Œ ì„¤ì •í•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”?

ì´ëŠ” ì¹´ë©”ë¼ì˜ **ì™œê³¡ í˜„ìƒ** ì— ì˜í•´ ì¢€ ë” ë Œì¦ˆì˜ êµ´ê³¡ì´ ì»¤ì§€ê²Œ ë©ë‹ˆë‹¤.

fov ì™€ position ì˜ ê´€ê³„ë¥¼ í‘œí˜„í•´ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

* fov ì‘ê²Œ ì„¤ì •, position ë©€ë¦¬ ì„¤ì •
    * ì™œê³¡ í˜„ìƒì´ ì ì–´ì§‘ë‹ˆë‹¤.
* fov í¬ê²Œ ì„¤ì •, position ê°€ê¹ê²Œ ì„¤ì •
    * ì™œê³¡ í˜„ìƒì´ ì»¤ì§‘ë‹ˆë‹¤.

<br />

ì‹¤ì œ ì™œê³¡ í˜„ìƒì˜ ì°¨ì´ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ ë‘ê°€ì§€ ì„¤ì •ì„ ë¹„êµí•´ ë³´ê² ìŠµë‹ˆë‹¤.

* ì²«ë²ˆì§¸ ì„¤ì •: **fov ì‘ê²Œ, position ë©€ë¦¬** ì„¤ì •
* ë‘ë²ˆì§¸ ì„¤ì •: **fov í¬ê²Œ, position ê°€ê¹ê²Œ** ì„¤ì •

```js title="fov ì‘ê²Œ, position ë©€ë¦¬ ì„¤ì •" showLineNumbers{82} {5-6}
function initCamera() {
    camera = new PerspectiveCamera();

    camera.aspect = window.innerWidth / window.innerHeight;
    camera.fov = 45;
    camera.position.set(2, 2, 2);

    camera.lookAt(0, 0, 0);

    camera.updateProjectionMatrix();
}
```

<img src="/markdownAssets/threejs/2024-01-01-01/2024-01-01-01-04.png" alt="ì‹¤í–‰ ê²°ê³¼" />

<br /><br />

```js title="fov í¬ê²Œ, position ê°€ê¹ê²Œ ì„¤ì •" showLineNumbers{82} {5-6}
function initCamera() {
    camera = new PerspectiveCamera();

    camera.aspect = window.innerWidth / window.innerHeight;
    camera.fov = 90;
    camera.position.set(1, 1, 1);

    camera.lookAt(0, 0, 0);

    camera.updateProjectionMatrix();
}
```

<img src="/markdownAssets/threejs/2024-01-01-01/2024-01-01-01-05.png" alt="ì‹¤í–‰ ê²°ê³¼" />



<br />



## ì¶”ê°€: ë§ˆìš°ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¹´ë©”ë¼ ì œì–´í•˜ê¸°

Three.js ëŠ” ì—¬ëŸ¬ê°€ì§€ Addons ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

ì´ ì¤‘ **OrbitControls** ê°ì²´ë¥¼ ì‚¬ìš©í•˜ë©´, ë§ˆìš°ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¹´ë©”ë¼ë¥¼ ì œì–´í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br />

OrbitControls ëŠ” **PerspectiveCamera ì˜ Addon** ê°œë…ìœ¼ë¡œ ì‚¬ìš©í•˜ê²Œ ë˜ë©°, ì¹´ë©”ë¼ì˜ ì œì–´ë¥¼ ë‹´ë‹¹í•˜ê²Œ ë©ë‹ˆë‹¤.

ì£¼ì˜í•  ì ì€ PerspectiveCamera ì˜ `lookAt()` ë©”ì†Œë“œë¥¼ í•¨ê»˜ ì‚¬ìš©í•˜ê²Œ ë˜ë©´, ì¹´ë©”ë¼ ì œì–´ì— ì¶©ëŒì´ ë°œìƒí•˜ëŠ” í˜„ìƒì…ë‹ˆë‹¤.

ê·¸ëŸ¬ë¯€ë¡œ OrbitControls ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´, `lookAt()` ë©”ì†Œë“œëŠ” ê¼­ ì œê±°í•´ ì£¼ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

<br />

ë¨¼ì € OrbitControls ì˜ ìƒì„±ìë¥¼ ì‚´í´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```ts
class OrbitControls {
    constructor(
        object: Camera, 
        domElement?: HTMLElement
    );
}
```

* object: ì œì–´í•  ì¹´ë©”ë¼ ê°ì²´
* domElement: ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¬ HTMLElement

<br />

PerspectiveCamera ì— OrbitControls ë¥¼ ì ìš©í•˜ëŠ” `initControls()` í•¨ìˆ˜ë¥¼ ì¶”ê°€í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```js title="OrbitControls ë¡œ ì¹´ë©”ë¼ ì œì–´í•˜ê¸°" showLineNumbers {11-13, 25-26, 37, 45, 103-108}
import {
    WebGLRenderer,
    PerspectiveCamera,
    Scene,
    DirectionalLight,

    BoxGeometry,
    MeshPhongMaterial,
    Mesh,
} from 'three';
import {
    OrbitControls,
} from 'three/examples/jsm/controls/OrbitControls'
import './style.css';

/** @type { WebGLRenderer } */
let renderer;

/** @type { PerspectiveCamera } */
let camera;

/** @type { Scene } */
let scene;

/** @type { OrbitControls } */
let controls;

(function init() {
    const $canvas = initCanvas();

    initRenderer($canvas);

    const light = createLight();
    const boxMesh = createBoxMesh();

    initCamera();
    initControls($canvas);
    initScene(light, boxMesh);

    render();
}());

function render() {
    renderer.render(scene, camera);
    controls.update();

    window.requestAnimationFrame(render);
}

function initCanvas() {
    const $canvas = document.createElement('canvas');

    const $app = document.querySelector('#app');
    $app.appendChild($canvas);

    return $canvas;
}

/**
 * @param { HTMLCanvasElement } $canvas 
 */
function initRenderer($canvas) {
    renderer = new WebGLRenderer({
        canvas: $canvas,
        antialias: true,
    });

    renderer.setSize(
        window.innerWidth,
        window.innerHeight
    );
}

function createLight() {
    const light = new DirectionalLight();
    light.position.set(1, 2, 3);

    return light;
}

function createBoxMesh() {
    const boxGeometry = new BoxGeometry();
    const boxMaterial = new MeshPhongMaterial();

    return new Mesh(boxGeometry, boxMaterial);
}

function initCamera() {
    camera = new PerspectiveCamera();

    camera.aspect = window.innerWidth / window.innerHeight;
    camera.fov = 45;
    camera.position.set(2, 2, 2);

    camera.fov = 90;
    camera.position.set(1, 1, 1);

    camera.lookAt(0, 0, 0);

    camera.updateProjectionMatrix();
}

/**
 * @param { HTMLElement } $targetElement 
 */
function initControls($targetElement) {
    controls = new OrbitControls(camera, $targetElement);
}

function initScene(...items) {
    scene = new Scene();

    items.forEach(item => {
        scene.add(item);
    });
}
```

<br />

OrbitControls ë¥¼ ì¹´ë©”ë¼ì— ì„¤ì¹˜í•˜ê²Œ ë˜ë©´ ì•„ë˜ì™€ ê°™ì€ ë§ˆìš°ìŠ¤ ì¸í„°ë ‰ì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

* ë§ˆìš°ìŠ¤ ì¢Œí´ë¦­ - ë“œë˜ê·¸
    * ì¹´ë©”ë¼ ì£¼ì‹œ ì¢Œí‘œë¥¼ íšŒì „ ì¤‘ì‹¬ì ìœ¼ë¡œ í•˜ì—¬, **ë“œë˜ê·¸ ë°˜ëŒ€ ë°©í–¥ìœ¼ë¡œ ì¹´ë©”ë¼ë¥¼ íšŒì „** ì‹œí‚µë‹ˆë‹¤.
    * ê²°ê³¼ì ìœ¼ë¡œ ì¹´ë©”ë¼ê°€ ê³ ì •ëœ ìƒíƒœì—ì„œ **ë°”ë¼ë³´ëŠ” ë¬¼ì²´ê°€ íšŒì „** í•˜ê²Œ ë©ë‹ˆë‹¤.
* ë§ˆìš°ìŠ¤ íœ 
    * í™•ëŒ€, ì¶•ì†Œ ë™ì‘ì„ í•©ë‹ˆë‹¤.
* ë§ˆìš°ìŠ¤ ìš°í´ë¦­ - ë“œë˜ê·¸
    * **ë“œë˜ê·¸ ë°˜ëŒ€ ë°©í–¥ìœ¼ë¡œ ì¹´ë©”ë¼ì˜ ìœ„ì¹˜ë¥¼ ì´ë™** ì‹œí‚µë‹ˆë‹¤.
    * ê²°ê³¼ì ìœ¼ë¡œ ì¹´ë©”ë¼ê°€ ê³ ì •ëœ ìƒíƒœì—ì„œ **ë°”ë¼ë³´ëŠ” ë¬¼ì²´ê°€ ì´ë™** í•˜ê²Œ ë©ë‹ˆë‹¤.

<br />

OrbitControls ê°ì²´ì˜ ì„¤ì •ì„ ì‚¬ìš©í•˜ì—¬, íŠ¹ì • ë§ˆìš°ìŠ¤ ì¸í„°ë ‰ì…˜ì˜ ì‚¬ìš© ì—¬ë¶€ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ ì„¤ì • í”„ë¡œí¼í‹°ë“¤ì€ `enable` ì„ ì ‘ë‘ì‚¬ë¡œ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.

* `enableRotate`: `false` ê°’ì„ ëŒ€ì…í•˜ë©´, íšŒì „ê¸°ëŠ¥ì„ ë§‰ìŠµë‹ˆë‹¤.
* `enableZoom`: `false` ê°’ì„ ëŒ€ì…í•˜ë©´ í™•ëŒ€, ì¶•ì†Œ ê¸°ëŠ¥ì„ ë§‰ìŠµë‹ˆë‹¤.
* `enablePan`: `false` ê°’ì„ ëŒ€ì…í•˜ë©´ ì´ë™ ê¸°ëŠ¥ì„ ë§‰ìŠµë‹ˆë‹¤.

<br />

ì¶”ê°€ë¡œ `enableDamping` ì— `true` ê°’ì„ ëŒ€ì…í•˜ê²Œ ë˜ë©´, ì¹´ë©”ë¼ì˜ ëª¨ë“  ì¸í„°ë ‰ì…˜ì— ê°ì†ë„ê°€ ì ìš©ë˜ì–´ **ì¹´ë©”ë¼ì˜ ë¶€ë“œëŸ¬ìš´ ì›€ì§ì„ì´ ì—°ì¶œ** ë©ë‹ˆë‹¤.



<br />



## ë§ˆì¹˜ë©°

ì¼ì „ì— HTML Canvas API ë¥¼ ìŠ¤í„°ë””í•˜ë©´ì„œ, ë„í˜•ì— ëŒ€í•œ ì¸í„°ë ‰ì…˜ì´ë‚˜ ì• ë‹ˆë©”ì´ì…˜ì„ êµ¬í˜„í•´ë³¸ ì ì´ ìˆìŠµë‹ˆë‹¤.

ë¬¼ì²´ì˜ íŠ•ê¹€ì´ë‚˜ ê°€ì†ë„, ê°ì†ë„ë¥¼ êµ¬í˜„í•´ ë³´ë ¤ëŠ” ì‹œë„ë¥¼ í–ˆì—ˆì§€ë§Œ, ì œê°€ êµ¬í˜„í•œ ê²°ê³¼ë¬¼ì€ ë„ˆë¬´ë‚˜ ì–´ìƒ‰í–ˆìŠµë‹ˆë‹¤.

Three.js ì˜ ì¸í„°ë ‰ì…˜ì€ OrbitControls í•˜ë‚˜ë¥¼ ì ‘í–ˆì„ ë¿ì¸ë°, ë¶€ë“œëŸ¬ìš´ 3D ì—”ì§„ì— ê·¸ì € ë†€ë¼ìš¸ ë¿ì…ë‹ˆë‹¤.

<br />

í•˜ì§€ë§Œ ì‹¤ì œ êµ¬í˜„í•  ê¸°íšì— ë”°ë¼ ì—”ì§„ì˜ ë¬¼ë¦¬ íš¨ê³¼ë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì„ í•  ìˆ˜ ìˆì–´ì•¼ ìì—°ìŠ¤ëŸ¬ìš´ ê²°ê³¼ë¬¼ì´ ë‚˜ì˜¬ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

OrbitControls ê°€ ì œê³µí•˜ëŠ” íš¨ê³¼ëŠ” ë§ˆì¹˜ ë¬¼ì†ì˜ ë¶€ë ¥ì´ ì‘ìš©í•˜ëŠ” ê²ƒì²˜ëŸ¼ ëŠê»´ì¡ŒìŠµë‹ˆë‹¤.

Three.js ì˜ ê¸°ë³¸ ì‚¬ìš©ë²•ê³¼ ì›ë¦¬ë¥¼ ì´í•´í•œ í›„, ë¬¼ë¦¬ ì—”ì§„ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì— ëŒ€í•´ì„œë„ ë„ì „í•´ ë³´ê³  ì‹¶ì–´ì¡ŒìŠµë‹ˆë‹¤.
b:["$","$Lc",null,{"featuredMarkdownFileDataList":[{"category":"jest","slug":"2023-12-17-01","href":"/blog/jest/2023-12-17-01","frontmatter":{"id":1,"title":"\"node:fs\" í…ŒìŠ¤íŠ¸ í•˜ê¸°","description":"node ëª¨ë“ˆì¤‘ File System ê¸°ëŠ¥, \"fs\" ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì •ë¦¬í•©ë‹ˆë‹¤.","thumbnail":"https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg","featured":true,"tags":["mock-fs","fs","node:fs","jest","@testing-library","ìœ ë‹› í…ŒìŠ¤íŠ¸"],"createdAt":"$D2023-12-17T15:33:00.000Z","modifiedHistories":[]},"markdownFile":"$d"},{"category":"threejs","slug":"2023-12-31-01","href":"/blog/threejs/2023-12-31-01","frontmatter":{"id":1,"title":"Three.js ì„¤ì¹˜ ë° ì‹¤í–‰","description":"Three.js ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì„¤ì¹˜ì™€ ì²«ë²ˆì§¸ í™”ë©´ì„ ê·¸ë ¤ë´…ë‹ˆë‹¤.","thumbnail":"https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg","featured":true,"tags":["threejs","javascript","3d"],"createdAt":"$D2023-12-31T22:47:00.000Z","modifiedHistories":[]},"markdownFile":"$e"}],"commonMarkdownFileDataList":[{"category":"javascript","slug":"2023-12-21-01","href":"/blog/javascript/2023-12-21-01","frontmatter":{"id":1,"title":"êµ¬ì¡° ë¶„í•´ í• ë‹¹ì˜ ê¸°ë³¸ê°’ ì§€ì •, null ì€ ì‚¬ìš© ë¶ˆê°€!","description":"êµ¬ì¡° ë¶„í•´ í• ë‹¹ì˜ ê¸°ë³¸ê°’ ì„¤ì •ì€ Nullish(undefined ì™€ null) ê°€ ì•„ë‹Œ, ì˜¤ì§ undefined ì¼ ë•Œë§Œ ì ìš©ë©ë‹ˆë‹¤.","thumbnail":"https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg","featured":false,"tags":["javascript"],"createdAt":"$D2023-12-21T20:20:00.000Z","modifiedHistories":[]},"markdownFile":"$f"},{"category":"javascript","slug":"2023-12-30-01","href":"/blog/javascript/2023-12-30-01","frontmatter":{"id":2,"title":"AWS S3 ë¥¼ ì‚¬ìš©í•œ PDF ë·°ì–´ êµ¬í˜„ì‹œ, Metadata ì„¤ì •","description":"AWS S3 ì— ì—…ë¡œë“œí•œ PDF íŒŒì¼ì´ ë Œë”ë§ë˜ì§€ ì•Šê³  ë‹¤ìš´ë¡œë“œ ë˜ëŠ” ì´ìŠˆì— ëŒ€í•œ ì •ë¦¬ ì…ë‹ˆë‹¤.","thumbnail":"https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg","featured":false,"tags":["javascript","PDF","PDF Metadata","AWS","S3"],"createdAt":"$D2023-12-30T16:00:00.000Z","modifiedHistories":[]},"markdownFile":"$10"},{"category":"jest","slug":"2024-01-06-01","href":"/blog/jest/2024-01-06-01","frontmatter":{"id":4,"title":"Nextjs ì˜ useRouter mock ì •ì˜í•˜ê¸°","description":"Nextjs ì˜ useRouter ë¥¼ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•œ ë°©ë²•ì„ ì •ë¦¬í•©ë‹ˆë‹¤.","thumbnail":"https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg","featured":false,"tags":["jest","@testing-library","useRouter","next-router-mock","ìœ ë‹› í…ŒìŠ¤íŠ¸"],"createdAt":"$D2024-01-06T17:30:00.000Z","modifiedHistories":[]},"markdownFile":"$11"},{"category":"jest","slug":"2023-12-26-01","href":"/blog/jest/2023-12-26-01","frontmatter":{"id":3,"title":"\"styled-components\" ë¡œ êµ¬í˜„í•œ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸í•˜ê¸°","description":"\"styled-components\" ë¥¼ ì‚¬ìš©í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•œ í™˜ê²½ì„¤ì •ì— ëŒ€í•´ ì•Œì•„ë´…ë‹ˆë‹¤.","thumbnail":"https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg","featured":false,"tags":["jest","styled-components","@testing-library","ìœ ë‹› í…ŒìŠ¤íŠ¸"],"createdAt":"$D2023-12-26T23:50:00.000Z","modifiedHistories":[]},"markdownFile":"$12"},{"category":"jest","slug":"2023-12-23-01","href":"/blog/jest/2023-12-23-01","frontmatter":{"id":2,"title":"\"jest.fn()\" ìœ¼ë¡œ í•¨ìˆ˜ í…ŒìŠ¤íŠ¸í•˜ê¸°","description":"ì»´í¬ë„ŒíŠ¸ props ë¡œ ë„˜ê²¨ì£¼ëŠ” í•¨ìˆ˜ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ \"jest.fn()\" ì‚¬ìš©ë°©ë²•ì— ëŒ€í•œ ì •ë¦¬ ì…ë‹ˆë‹¤.","thumbnail":"https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg","featured":false,"tags":["jest.fn","jest","@testing-library","ìœ ë‹› í…ŒìŠ¤íŠ¸"],"createdAt":"$D2023-12-23T14:45:00.000Z","modifiedHistories":[]},"markdownFile":"$13"},{"category":"llmops","slug":"2023-12-16-01","href":"/blog/llmops/2023-12-16-01","frontmatter":{"id":1,"title":"LLMOps ì™€ ì¹œí•´ì§€ê¸° 1 - ìš©ì–´ ì •ë¦¬","description":"AI í•™ìŠµ ëª¨ë¸ì¸ Large Language Model ì— ëŒ€í•œ ì •ë¦¬ì…ë‹ˆë‹¤.","thumbnail":"https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg","featured":false,"tags":[],"createdAt":"$D2023-12-16T15:00:00.000Z","modifiedHistories":[]},"markdownFile":"$14"},{"category":"nextjs","slug":"2024-01-01-01","href":"/blog/nextjs/2024-01-01-01","frontmatter":{"id":2,"title":".DS_Store not found ì—ëŸ¬","description":"Nextjs ë¹Œë“œ ì‹œ, .DS_Store íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ë‹¤ëŠ” ì—ëŸ¬ë¥¼ ë§ˆì£¼í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.","thumbnail":"https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg","featured":false,"tags":["nextjs",".DS_Store"],"createdAt":"$D2024-01-01T15:20:00.000Z","modifiedHistories":[]},"markdownFile":"---\nid: 2\ntitle: .DS_Store not found ì—ëŸ¬\ndescription: 'Nextjs ë¹Œë“œ ì‹œ, .DS_Store íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ë‹¤ëŠ” ì—ëŸ¬ë¥¼ ë§ˆì£¼í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.'\nthumbnail: https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg\n\nfeatured: false\ntags: [\n    'nextjs',\n    '.DS_Store',\n]\n\ncreatedAt: '2024-01-01 15:20:00'\nmodifiedHistories: []\n---\n\n# .DS_Store not found ì—ëŸ¬\n\nNextjs í”„ë¡œì íŠ¸ì— ì´ë¯¸ì§€ íŒŒì¼ì„ ì¶”ê°€í•˜ê³  ì‚­ì œí•œ í›„, ë¹Œë“œ ì—ëŸ¬ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.\n\n> Error: ENOENT: no such file or directory, open '/.../.DS_Store\n\n\n\n<br />\n\n\n\n## ì—ëŸ¬ ì›ì¸ íŒŒì•…\n\n.DS_Store ëŠ” ë§¥ë¶ì˜ í´ë” ê´€ë ¨ ë©”íƒ€ë°ì´í„° íŒŒì¼ì´ë©°, Finder ë¡œ í´ë”ì— ì ‘ê·¼í•˜ê²Œ ë˜ë©´ ìë™ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤.\n\në¬¸ì œëŠ” Nextjs í”„ë¡œì íŠ¸ë¥¼ ê°œë°œ í™˜ê²½ìœ¼ë¡œ ì‹¤í–‰í•˜ê±°ë‚˜ ë¹Œë“œí•  ë•Œ, .DS_Store íŒŒì¼ì´ ì¶”ê°€ë˜ë©´, ë¹Œë“œ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.\n\n\n\n\n<br />\n\n\n\n## í•´ê²° ë°©ë²•\n\n* ì°¸ê³ : [Stack Overflow](https://github.com/vercel/next.js/discussions/15573#discussioncomment-2415012)\n\n<br />\n\nNextjs í”„ë¡œì íŠ¸ í•˜ìœ„ì— ì¡´ì¬í•˜ëŠ” .DS_Store íŒŒì¼ì„ ëª¨ë‘ ì‚­ì œí•˜ëŠ” ê²ƒìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\n\nëª¨ë“  í´ë”ë¥¼ ì§ì ‘ ì—´ì–´ë³´ë©´ì„œ ì§€ìš°ëŠ” ë°©ë²•ë„ ìˆê² ì§€ë§Œ, í„°ë¯¸ë„ì„ ì‚¬ìš©í•˜ì—¬ ì‚­ì œ ëª…ë ¹ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```bash title=\"í”„ë¡œì íŠ¸ ë‚´ì˜ ëª¨ë“  .DS_Store íŒŒì¼ ì‚­ì œ\"\nrm **/.DS_Store\n```\n\n<br />\n\nì‚­ì œ ëª…ë ¹ì´ ì‹¤í–‰ ì™„ë£Œë˜ë©´, Nextjs í”„ë¡œì íŠ¸ê°€ ì •ìƒì ìœ¼ë¡œ ë¹Œë“œë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n"},{"category":"nextjs","slug":"2023-12-16-01","href":"/blog/nextjs/2023-12-16-01","frontmatter":{"id":1,"title":"Nextjs í”„ë¡œì íŠ¸ì˜ ìœ ë‹› í…ŒìŠ¤íŠ¸","description":"ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ Jest ì™€ @testing-library ì„¤ì¹˜ ë° ì„¤ì •ì— ëŒ€í•œ ì •ë¦¬ ì…ë‹ˆë‹¤.","thumbnail":"https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg","featured":false,"tags":["nextjs","jest","@testing-library","react","ìœ ë‹› í…ŒìŠ¤íŠ¸"],"createdAt":"$D2023-12-16T22:13:00.000Z","modifiedHistories":[]},"markdownFile":"$15"},{"category":"react","slug":"2023-12-19-01","href":"/blog/react/2023-12-19-01","frontmatter":{"id":1,"title":"Custom Hook ìœ¼ë¡œ ë¶„ë¦¬í•˜ë©° ë°œìƒí•œ ì‹¤ìˆ˜","description":"Custom Hook ìœ¼ë¡œ ë¶„ë¦¬í•œ useEffect ê°€ ì—¬ëŸ¬ë²ˆ í˜¸ì¶œ ì¼€ì´ìŠ¤ ì¤‘ í•œê°€ì§€ë¥¼ ì •ë¦¬í•©ë‹ˆë‹¤.","thumbnail":"https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg","featured":false,"tags":["react","custom hook"],"createdAt":"$D2023-12-19T22:50:00.000Z","modifiedHistories":[]},"markdownFile":"$16"},{"category":"threejs","slug":"2024-01-10-01","href":"/blog/threejs/2024-01-10-01","frontmatter":{"id":7,"title":"ëª¨ë¸ íŒŒì¼ì„ Three.js ì— ë Œë”ë§í•˜ê¸°","description":".gltf ë˜ëŠ” .glb í™•ì¥ìì¸ ëª¨ë¸ íŒŒì¼ì„ Three.js ì— ë¶ˆëŸ¬ì˜¤ê³  ë Œë”ë§í•˜ëŠ” ë°©ë²•ì„ ì •ë¦¬í•©ë‹ˆë‹¤.","thumbnail":"https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg","featured":false,"tags":["threejs","javascript","3d","hdr",".gltf",".glb","model"],"createdAt":"$D2024-01-10T23:50:00.000Z","modifiedHistories":[]},"markdownFile":"$17"},{"category":"threejs","slug":"2024-01-08-01","href":"/blog/threejs/2024-01-08-01","frontmatter":{"id":6,"title":"ë°°ê²½í™”ë©´ ë° í™˜ê²½ì¡°ëª… ì„¤ì •í•˜ê¸°","description":"360ë„ ì´ë¯¸ì§€ í™•ì¥ìì¸ .hdr íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ë°°ê²½í™”ë©´ì„ ì„¤ì •í•˜ê³ , ë°°ê²½í™”ë©´ì— ì˜í•œ í™˜ê²½ì¡°ëª… ì„¤ì •ì— ëŒ€í•œ ì •ë¦¬ì…ë‹ˆë‹¤.","thumbnail":"https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg","featured":false,"tags":["threejs","javascript","3d","hdr","background","3D ë°°ê²½í™”ë©´","í™˜ê²½ì¡°ëª…"],"createdAt":"$D2024-01-08T23:50:00.000Z","modifiedHistories":[]},"markdownFile":"$18"},{"category":"threejs","slug":"2024-01-07-02","href":"/blog/threejs/2024-01-07-02","frontmatter":{"id":5,"title":"ê·¸ë¦¼ì í‘œí˜„í•˜ê¸°","description":"ê·¸ë¦¼ì ì„¤ì •ë°©ë²•ê³¼ íŠ¹ì§•ì— ëŒ€í•´ ì •ë¦¬í•©ë‹ˆë‹¤.","thumbnail":"https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg","featured":false,"tags":["threejs","javascript","3d","shadow"],"createdAt":"$D2024-01-07T23:50:00.000Z","modifiedHistories":[]},"markdownFile":"$19"},{"category":"threejs","slug":"2024-01-07-01","href":"/blog/threejs/2024-01-07-01","frontmatter":{"id":4,"title":"í‰í‰í•œ ë°”ë‹¥(ë•…) ë§Œë“¤ê¸° (Plane Mesh)","description":"ë°”ë‹¥ì„ í‘œí˜„í•˜ê¸° ìœ„í•´ Plane Mesh ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.","thumbnail":"https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg","featured":false,"tags":["threejs","javascript","3d","plane"],"createdAt":"$D2024-01-07T23:20:00.000Z","modifiedHistories":[]},"markdownFile":"$1a"},{"category":"threejs","slug":"2024-01-06-01","href":"/blog/threejs/2024-01-06-01","frontmatter":{"id":3,"title":"ì¡°ëª… ì¢…ë¥˜ì™€ ì„¤ì •","description":"ì¡°ëª… ì¢…ë¥˜ì™€ ì„¤ì • ë°©ë²•ì— ëŒ€í•´ ì •ë¦¬í•©ë‹ˆë‹¤.","thumbnail":"https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg","featured":false,"tags":["threejs","javascript","3d","light"],"createdAt":"$D2024-01-06T23:00:00.000Z","modifiedHistories":[]},"markdownFile":"$1b"},{"category":"threejs","slug":"2024-01-01-01","href":"/blog/threejs/2024-01-01-01","frontmatter":{"id":2,"title":"ì¹´ë©”ë¼ ì„¤ì • (PerspectiveCamera)","description":"Three.js ì˜ ì¹´ë©”ë¼ì¸ PerspectiveCamera ì„¤ì •ì— ëŒ€í•œ í¬ìŠ¤íŒ…ì…ë‹ˆë‹¤.","thumbnail":"https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg","featured":false,"tags":["threejs","javascript","3d","camera"],"createdAt":"$D2024-01-01T23:50:00.000Z","modifiedHistories":[]},"markdownFile":"$1c"}]}]
