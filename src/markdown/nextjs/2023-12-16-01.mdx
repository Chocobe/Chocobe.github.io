---
id: 1
title: Nextjs í”„ë¡œì íŠ¸ì˜ ìœ ë‹› í…ŒìŠ¤íŠ¸
description: 'ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ Jest ì™€ @testing-library ì„¤ì¹˜ ë° ì„¤ì •ì— ëŒ€í•œ ì •ë¦¬ ì…ë‹ˆë‹¤.'
thumbnail: https://image.dongascience.com/Photo/2020/03/5bddba7b6574b95d37b6079c199d7101.jpg

featured: false
tags: [
    'nextjs',
    'jest',
    '@testing-library',
    'react',
    'ìœ ë‹› í…ŒìŠ¤íŠ¸',
]

createdAt: '2023-12-16 22:13:00'
modifiedHistories: []
---

# Nextjs í”„ë¡œì íŠ¸ì˜ ìœ ë‹› í…ŒìŠ¤íŠ¸

* ì°¸ê³ : [Next.js with React Testing Library, Jest, and TypeScript](https://medium.com/readytowork-org/next-js-with-react-testing-library-jest-and-typescript-a6aa11b85434)
* ì°¸ê³ : [Nextjs ê³µì‹ë¬¸ì„œ](https://nextjs.org/docs/pages/building-your-application/testing/jest)



<br />



<details>
<summary>ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ ë©€ë¦¬í•œ í•‘ê³„ì™€ ê²°ì‹¬</summary>

<br />

ìŠ¤íƒ€íŠ¸ì—…ì— ì¬ì§í•˜ë©° ë‹¤ì–‘í•œ í”„ë¡œì íŠ¸ë¥¼ ê°œë°œí•˜ê³  ìˆìŠµë‹ˆë‹¤.

ì§„í–‰í–ˆë˜ í”„ë¡œì íŠ¸ë¥¼ ë˜ëŒì•„ë³´ë©´, í•œê²°ê°™ì´ ì‹œê°„ì´ ë¶€ì¡±í•˜ì˜€ê³ , ì´ë¥¼ í•‘ê³„ì‚¼ì•„ ìœ ë‹› í…ŒìŠ¤íŠ¸ ì—†ì´ ê¸°ëŠ¥ êµ¬í˜„ë§Œì„ í•˜ì˜€ìŠµë‹ˆë‹¤.

<br />

### ğŸ¤ª ìœ ë‹› í…ŒìŠ¤íŠ¸ ì—†ì´ë„ ê°œë°œ ê°€ëŠ¥í•œë°?

í…ŒìŠ¤íŠ¸ì— ê´€í•œ ë¸”ë¡œê·¸ ê¸€ì´ë‚˜ **í´ë¦°ì½”ë“œ** ì™€ ê°™ì€ ì±…ì—ì„œ ì–¸ê¸‰í•œ **ì½”ë“œì— ëŒ€í•œ ì‹ ë¢°ë„** ëŠ” ì‚¬ì‹¤ ì²´ê°ì„ í•˜ì§€ ëª»í•˜ì˜€ìŠµë‹ˆë‹¤.

ì˜¤íˆë ¤ ìœ ë‹› í…ŒìŠ¤íŠ¸ ì‘ì„± ë•Œë¬¸ì— ê¸°ëŠ¥ êµ¬í˜„í•  ì‹œê°„ì„ ëºê¸´ë‹¤ëŠ” ëŠë‚Œì´ ì»¸ê³ , ìœ ë‹› í…ŒìŠ¤íŠ¸ ì—†ì´ë„ ê¸°ëŠ¥ ê°œë°œì€ ì¶©ë¶„íˆ ê°€ëŠ¥í–ˆìŠµë‹ˆë‹¤.

<br />

### ğŸ˜° `console.log` ì™€ ìˆ˜ì‘ì—… í…ŒìŠ¤íŠ¸ ë…¸ê°€ë‹¤...

ê¸°ëŠ¥ ê°œë°œì„ ì™„ë£Œí•œ í›„, ê¸°ì–µì´ íë¦¿í•´ì§ˆ ì •ë„ë¡œ ì‹œê°„ì´ ì§€ë‚˜ì„œ ê¸°ëŠ¥ ì¶”ê°€/ìˆ˜ì • ì‘ì—…ì´ ìƒê²¼ìŠµë‹ˆë‹¤.

ê¸°ì–µì„ ìƒê¸°í•˜ê¸° ìœ„í•´ ì—¬ê¸° ì €ê¸°ì— `console.log()` ë¥¼ ì‘ì„±í•˜ì˜€ê³ , ê¸°ëŠ¥ ì¶”ê°€ í›„ì—ëŠ” ë‚¨ì•„ìˆëŠ” `console.log()` ë¥¼ ì œê±°í•˜ëŠ” ê·€ì°®ì€ ì‘ì—…ë“¤ì´ ë‚¨ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

ì‚¬ì‹¤ í•¨ìˆ˜ëª…, ë©”ì†Œë“œëª…, ë³€ìˆ˜ëª… ë“±ì´ ëª¨ë‘ ëª…í™•í•˜ê³ , ëª¨ë“  ì½”ë“œê°€ ì„œë¡œ ì˜ì¡´ì„± ì—†ì´ ë…ë¦½ì ì¸ ê¸°ëŠ¥ì„ í•œë‹¤ë©´ `console.log()` ë¡œ í™•ì¸í•˜ëŠ” ì‘ì—…ì´ í•„ìš” ì—†ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ ê¸°ëŠ¥ì´ ì–¸ì œë‚˜ ë‹¨ìˆœ ëª…ë£Œí•˜ê²Œ êµ¬í˜„ë  ìˆ˜ ì—†ê³ , ë”ë”ìš± ì´ ì½”ë“œë¥¼ ì‘ì„±í•œ ì €ì˜ ì½”ë“œ í’ˆì§ˆì— ë¶€ì¡±í•¨ì´ ë§ê¸° ë•Œë¬¸ì— `console.log()` ë…¸ê°€ë‹¤ì™€ í•¨ê»˜í•  ê°€ëŠ¥ì„±ì´ ë³´ì˜€ìŠµë‹ˆë‹¤.

**ê·¸ë¦¬ê³  ê°€ì¥ í° ë¬¸ì œëŠ”, ë³€ê²½ëœ ê¸°ëŠ¥ì´ ë‹¤ë¥¸ ë¶€ë¶„ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”ì§€, ë²„ê·¸ë¥¼ ì°¾ê¸°ìœ„í•œ ë°˜ë³µëœ ìˆ˜ì‘ì—… í…ŒìŠ¤íŠ¸ë¥¼ í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.**

ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” ì½”ë“œ ë² ì´ìŠ¤ê°€ í´ ìˆ˜ë¡, ìˆ˜ì‘ì—… í…ŒìŠ¤íŠ¸ëŠ” ìƒë‹¹í•œ ì‹œê°„ì„ ì†Œë¹„í•˜ê²Œ í•˜ì˜€ìŠµë‹ˆë‹¤.

<br />

### ğŸ¤“ ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•œ í…ŒìŠ¤íŠ¸ ìë™í™”ê°€ í•„ìš”í•´!

ë§Œì•½ ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ ë‘ì—ˆë‹¤ë©´, ì•„ë˜ì™€ ê°™ì€ ë³´ìƒì´ ìˆì—ˆë‹¤ê³  ìƒê°ë©ë‹ˆë‹¤.

* í˜„ì¬ ì½”ë“œê°€ í…ŒìŠ¤íŠ¸ì— í†µê³¼í•˜ê³  ìˆìœ¼ë¯€ë¡œ, ì ì–´ë„ ì‘ì„±ëœ **Test Case** ë‚´ì—ì„œëŠ” ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì½”ë“œë‹¤.
* í…ŒìŠ¤íŠ¸ ëŒ€ìƒì´ ì§€ì›í•˜ëŠ” ëª¨ë“  ê¸°ëŠ¥ê³¼ `porps` ì— ëŒ€í•˜ì—¬, ë…ë¦½ì ì¸ **Use Case** ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
* **ìˆ˜ì •í•œ ì½”ë“œê°€ ì˜ë„í•œ ë¶€ë¶„ì—ë§Œ ì ìš©ë¨ì„ ë³´ì¥ ë°›ì„ ìˆ˜ ìˆë‹¤.**

<br />

ìœ„ì™€ ê°™ì€ ê¸°ëŒ€ê°’ì„ ê°€ì§€ë©°, **ìœ ë‹› í…ŒìŠ¤íŠ¸ì— ëŒ€í•œ ê²°ì‹¬** ì„ í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

</details>



<br />



## ìœ ë‹› í…ŒìŠ¤íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜

ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´, `jest` ì™€ `@testing-library` ë¥¼ ì‚¬ìš©í•˜ê³ ì í•©ë‹ˆë‹¤.

```bash title="jest ê´€ë ¨ íŒ¨í‚¤ì§€"
yarn add -D jest ts-jest ts-node jest-environment-jsdom @types/jest
```

```bash title="@testing-library ê´€ë ¨ íŒ¨í‚¤ì§€"
yarn add -D @testing-library/jest-dom @testing-library/react @testing-library/user-event
```


<br />



## jest ì‹¤í–‰ì„ ìœ„í•œ ëª…ë ¹ì–´ ì¶”ê°€í•˜ê¸°

`package.json` ì˜ `scripts` ë¥¼ í†µí•´ í”„ë¡œì íŠ¸ì— ëŒ€í•œ ëª…ë ¹ì–´ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë‹¨ë°œì„± í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ëª…ë ¹ì–´ì™€ ì½”ë“œ ë³€ê²½ë§ˆë‹¤ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ” ëª…ë ¹ì–´ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

```json title="package.json" {5-7}
{
    // ...
    "scripts": {
        // ...
        "test": "jest",
        "test:watch": "jest --watch",
        "test:watchAll": "jest --watchAll"
    },
    // ...
}
```



<br />



## jest ì„¤ì •í•˜ê¸°

[Nextjs ê³µì‹ ë¬¸ì„œ](https://nextjs.org/docs/pages/building-your-application/testing/jest#manual-setup) ì—ì„œë„ **jest** ì™€ **@testing-library** ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•ˆë‚´í•˜ê³  ìˆìŠµë‹ˆë‹¤.

<br />

**jest.config.ts** íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì§ì ‘ íŒŒì¼ì„ ìƒì„±í•˜ì§€ ì•Šê³ , CLI ë¥¼ í†µí•´ ì„¤ì • í…œí”Œë¦¿ì„ ìƒì„±í•˜ì—¬ ìˆ˜ì •í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ì„¤ì •í•˜ê² ìŠµë‹ˆë‹¤.

í„°ë¯¸ë„ì—ì„œ ì•„ë˜ì˜ ëª…ë ¹ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.

```bash title="npm ìœ¼ë¡œ jest.config.ts ìƒì„±í•˜ê¸°"
npm init jest@latest
```

```bash title="yarn ìœ¼ë¡œ jest.config.ts ìƒì„±í•˜ê¸°"
yarn create jest@latest
```

<br />

ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´, ëª‡ê°€ì§€ ì§ˆë¬¸(Y/N)ìœ¼ë¡œ ê¸°ë³¸ ì„¤ì •ê°’ì´ ë°˜ì˜ëœ **jest.config.ts** íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤.

ìƒì„±ëœ **jest.config.ts** ë¥¼ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•©ë‹ˆë‹¤.

```typescript showLineNumbers
import {
    Config,
} from 'jest';
import nextJest from 'next/jest.js';

const createJestConfig = nextJest({
    dir: './',
});

/**
 * For a detailed explanation regarding each configuration property, visit:
 * https://jestjs.io/docs/configuration
 */

const config: Config = {
    // The directory where Jest should output its coverage files
    coverageDirectory: "coverage",

    // Indicates which provider should be used to instrument code for coverage
    coverageProvider: "babel",

    // A preset that is used as a base for Jest's configuration
    preset: "ts-jest",

    // A list of paths to modules that run some code to configure or set up the testing framework before each test
    setupFilesAfterEnv: ["<rootDir>/jest.setup.ts"],

    // The test environment that will be used for testing
    testEnvironment: "jest-environment-jsdom",
};

export default createJestConfig(config);
```

<br />

`jest.config.ts` íŒŒì¼ì˜ **26ë²ˆì¤„** ì—ì„œ ì„¤ì •í•œ **jest.setup.ts** íŒŒì¼ì„ ìƒì„±í•˜ê³  ì•„ë˜ì˜ ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

```typescript title="jest.setup.ts"
import '@testing-library/jest-dom';
```

**jest.setup.ts** ì—ì„œ `import` í•˜ëŠ” ëª¨ë“ˆì€ **@testing-library** ì—ì„œ ì œê³µí•˜ëŠ” **í™•ì¥ matcher** ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

ì´ë¡œì¨ Nextjs ì˜ ìœ ë‹› í…ŒìŠ¤íŠ¸ ì„¤ì •ì„ ì™„ë£Œ í•˜ì˜€ìŠµë‹ˆë‹¤.



<br />



## ì²«ë²ˆì§¸ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ ë§Œë“¤ê¸°

ë¨¼ì € í…ŒìŠ¤íŠ¸ë¥¼ í•  React ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ê² ìŠµë‹ˆë‹¤.

```tsx title="Hello.tsx"
function Hello() {
    return (
        <h1>
            Hello World
        </h1>
    );
}

export default Hello;
```

<br />

*Hello.tsx* ì™€ ë™ì¼í•œ ê²½ë¡œì— **Hello.spec.tsx** íŒŒì¼ì„ ìƒì„±í•˜ê³ , ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

```typescript title="Hello.spec.tsx"
import Hello from './Hello';
import {
    render,
    screen,
} from '@testing-library/react';

describe('<Hello /> ì»´í¬ë„ŒíŠ¸ ìœ ë‹› í…ŒìŠ¤íŠ¸', () => {
    it('Dom ì— ë Œë”ë§ ë¨', () => {
        render(<Hello />);

        const $hello = screen.getByRole('heading', {
            level: 1,
        });

        expect($hello).toBeInTheDocument();
    });
});
```

<br />

ìœ ë‹› í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•œ í›„, í„°ë¯¸ë„ì— ì•„ë˜ì˜ ëª…ë ¹ì–´ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìœ¼ë©°, ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ í†µê³¼ë¨ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash title="jest ì‹¤í–‰í•˜ê¸°"
yarn test
```
